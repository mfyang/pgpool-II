2011-04-25 20:33  kitagawa

	* pool_process_reporting.h, pcp/pcp_pool_status.c: Forgot to add
	  pool_process_reporting.h, pcp/pcp_pool_status.c.

2011-04-25 15:29  kitagawa

	* NEWS, doc/pgpool-ja.html: Prepare 3.1-alpha2.

2011-04-23 16:49  t-ishii

	* pool_type.h, pcp/libpcp_ext.h, pcp/pcp.h: Refactor pcp related
	  header files. Add libpcp_ext.h which is inteded to be included by
	  libpcp applications including PostgreSQL C functions.

2011-04-23 14:10  t-ishii

	* pcp/pcp.c: Fix bug with pcp_connect() which causes double free.
	  Fix contributed by Jehan-Guillaume (ioguix) de Rorthais.

2011-04-22 20:40  kitagawa

	* pool_select_walker.c: Increase relcache size from 32 to 128. This
	  has the effect of reducing "unnamed prepared statement does not
	  exist" error.

	  Bug report from Joseph Jacob. See: Subject: Fwd: Test java program
	  Date: Fri, 15 Apr 2011 12:16:04 -0700

2011-04-22 16:33  t-ishii

	* pcp_child.c, pool_process_reporting.c, pool_proto_modules.h,
	  pool_type.h, pcp/Makefile.am, pcp/Makefile.in, pcp/pcp.c,
	  pcp/pcp.h: Add pcp_pool_status, pcp_node_info.  Patch contributed
	  by Jehan-Guillaume.

2011-04-22 11:50  kitagawa

	* COPYING, configure, configure.in, version.h: Prepare 3.1-alpha2.

2011-04-22 11:35  kitagawa

	* main.c: Fix find_primary_node() so that it judges primary node
	  correctly.

	  Remove pgpool_walrecrunning() from find_primary_node() and add
	  find_primary_node_repeatedly() that waits until finding primary
	  node.

	  The reason for removing pgpool_walrecrunning() is that
	  "pg_is_in_recovery() AND pgpool_walrecrunning()" cannot judge
	  primary node and standby node correctly.

2011-04-22 10:09  kitagawa

	* doc/: pgpool-en.html, pgpool-ja.html: Add description about
	  follow_master_command

2011-04-21 19:12  kitagawa

	* main.c: Change follow_master_command so that it doesn't detach
	  standby nodes, if it's empty.

2011-04-21 14:00  kitagawa

	* pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pgpool.conf.sample-stream: Remove
	  unnecessary semicolon.

2011-04-21 11:44  kitagawa

	* doc/pgpool-ja.html: Add description of pcp_promote_node command.

2011-04-21 10:02  kitagawa

	* main.c, pcp_child.c, pool.h, doc/pgpool-en.html, pcp/Makefile.am,
	  pcp/Makefile.in, pcp/pcp.c, pcp/pcp.h, pcp/pcp_promote_node.c:
	  Add pcp_promote_node command.  Patch contributed by Gilles Darold.

2011-04-12 07:55  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html: Add description about
	  parameters for recovery_1st_stage_command and
	  recovery_2nd_stage_command. It's shame that the description had been
	  missing from day 0.

2011-04-03 08:41  t-ishii

	* main.c: Remove unsed global variable "weight_master.

2011-04-01 19:57  kitagawa

	* pool_proto_modules.c: Fix hangup with CloseComplete(C) message
	  handling.

2011-03-31 17:12  kitagawa

	* pool_process_query.c: Refactor pool_process_query().

	  - Fix hangup when received Flush(H) message.
	    See following for more details:
	    Subject: [Pgpool-general] Issue with pgpool-II-3.0.3-beta1
	             prepared statements execution
	    Date: Tue, 22 Feb 2011 13:55:25 +0300

	  - Fix possible hangup that happen for the receiving timing of
	    ReadyForQuery(Z) message.
	    How to reproduce:
	    frontend -> pgpool-II -> pgpool-II -> backend
	    Both pgpool-II are in connection pooling mode.

2011-03-30 11:13  kitagawa

	* main.c, pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pgpool.conf.sample-stream,
	  pool_config.c, pool_config.h, pool_config.l,
	  pool_process_reporting.c: Add follow_master_command directive.
	  We need to fix find_primary_node() that is still pending.  Patch
	  contributed by Gilles Darold.

2011-03-17 11:12  kitagawa

	* pool_params.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix warning
	  of parser_set_param().

2011-03-16 18:11  kitagawa

	* Makefile.am, Makefile.in, test/parser/expected/scanner.out,
	  test/parser/expected/v90.out, test/parser/input/scanner.sql,
	  test/parser/input/v90.sql (utags: V3_1_0_WITHOUT_FOLLOW_COMMAND):
	  Forgot to add files.

2011-03-16 14:55  kitagawa

	* pool_query_context.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix
	  hangup when using /*NO LOAD BALANCE*/ comment.  The condition is
	  load_balance_mode=true and PRIMARY_NODE_ID!=0 and /*NO LOAD
	  BALANCE*/.

2011-03-07 16:00  kitagawa

	* pcp_child.c, pool_proto_modules.c, recovery.c (utags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Change REAL_MASTER_NODE_ID to
	  consider PRIMARY_NODE_ID.

2011-03-07 15:48  kitagawa

	* pool_proto_modules.c: Fix bug with load balancing such as
	  following when PRIMARY_NODE_ID is not same as REAL_MASTER_NODE_ID.

	  testdb=> BEGIN; BEGIN testdb=> SELECT * FROM t1; ERROR:  relation
	  "t1" does not exist LINE 1: SELECT * FROM t1;
	                        ^ testdb=> SELECT * FROM t2;
	   id ---- (0 rows)

	  testdb=> COMMIT; ROLLBACK

2011-03-07 15:35  kitagawa

	* pool_process_query.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix
	  insert_lock() so that it extracts sequence name directly.

2011-03-07 14:56  kitagawa

	* pool_process_query.c, pool_proto_modules.c, pool_query_context.c,
	  pool_query_context.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  pool_session_context.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  pool_session_context.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  pool_timestamp.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  pool_timestamp.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Change
	  session information to integrate Portal and PreparedStatement
	  structure into POOL_SENT_MESSAGE structure.

	  Portal and PreparedStatement structure were used by only extended
	  query protocol before. but POOL_SENT_MESSAGE is used by simple query
	  protocol too.

	  This change fixes issues that happen when two protocols were mixed
	  in one session.

	  PHP example)

	  // PREPARE using simple query protocol pg_query($dbconn, 'PREPARE
	  my_query(TEXT) AS SELECT $1::TEXT');

	  // EXECUTE using exetended query protocol pg_execute($dbconn,
	  "my_query", array('test'));

2011-02-28 09:50  t-ishii

	* sql/pgpool-regclass/pgpool-regclass.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix pgpool-regclass() to be
	  compiled in PostgreSQL 8.0 or later.  7.4 still produces errors but
	  I doubt fixing effort is worth the trouble.

2011-02-23 16:21  t-ishii

	* TODO (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Update TODO.

2011-02-23 15:47  t-ishii

	* pool_worker_child.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Do not
	  keep persistent connection to backends.  The connection may become
	  bogus if a node down and then wake up between replication delay
	  checking period.  Restarting worker process is not feasible since
	  there is a time lang between backend down and restarting worker
	  process.

2011-02-23 15:45  t-ishii

	* pool_process_query.c: Add error message to
	  send_simplequery_message().  Enhance do_query() so that it emmits an
	  error message when receiving ERROR from backend.

2011-02-23 12:49  t-ishii

	* child.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix typo in
	  comment.

2011-02-22 13:14  t-ishii

	* child.c, pool.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Adapt
	  application_name introduced in PostgreSQL 9.0.  When reusing
	  connection, send application_name in the startup packet to backend
	  and send parameter status to frontend.

2011-02-21 11:16  t-ishii

	* sql/pgpool-walrecrunning/README (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): README file for
	  pgpool-walrecrunning.

2011-02-20 16:06  t-ishii

	* child.c: Fix discard_persistent_db_connection() so that it sends
	  a terminate packet to backend befoe closing the connection to the
	  backend.  Without this, backend complains "unexpected EOF on client
	  connection".

2011-02-19 21:43  t-ishii

	* main.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Enhance
	  find_primary_node() not to fail if pgpool_walrecrunning() is not
	  installed. In this case it returns -1, which means pgpool-II assumes
	  the youngest node to be the primary.

2011-02-18 22:48  kitagawa

	* pool_proto_modules.c: Fix bug with load_balance that JDBC driver
	  sends BEGIN to master node many times.

2011-02-18 22:39  kitagawa

	* pool_query_context.c: Fix bug that /*NO LOAD BALANCE*/ doesn't
	  work in stream mode.  Reported by Hadadi Peter.  Fix bug with load
	  balance in stream mode.

2011-02-18 20:51  kitagawa

	* pool_process_query.c, pool_proto_modules.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Remove unnecessary function:
	  load_balance_enabled().

2011-02-18 13:29  t-ishii

	* doc/pgpool-en.html (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix
	  typo.

2011-02-18 12:27  kitagawa

	* Makefile.in, sql/pgpool-walrecrunning/pgpool-walrecrunning.c
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix typo.

2011-02-16 15:05  t-ishii

	* Makefile.am: Add sql/Makefile as a dist file.

2011-02-16 14:51  t-ishii

	* sql/Makefile (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Add sql
	  directories main Makefile.

2011-02-16 14:31  t-ishii

	* Makefile.am: Adjust sql sub directory name change.
	  pgpool-walrecvrunning -> pgpool-walrecrunning

2011-02-13 21:04  t-ishii

	* TODO: Update TODO

2011-02-13 20:44  t-ishii

	* ChangeLog (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Run cvs2cl.pl -t
	  --fsf.

2011-02-10 11:14  t-ishii

	* main.c: Fix pool_get_node_info() so that it deals with
	  node_number == -1 case.  This could happen get_next_master_node()
	  returns -1 because there's no master node available (all nodes down
	  case).  Also tweak trigger_failover_command() to deal with
	  pool_get_node_info() returns NULL case.  Per report from Wouter
	  D'Haeseleer.  Subject: [Pgpool-general] PGpool crashes when all DB
	  servers go down To: "pgpool-general@pgfoundry.org"
	  <pgpool-general@pgfoundry.org> Date: Mon, 07 Feb 2011 09:35:50 +0100

2011-02-10 11:08  t-ishii

	* pool_query_context.c: Update copyright years.

2011-02-01 17:18  kitagawa

	* pool_query_context.c: Fix bug that failover fails in raw mode.
	  This used to work but was broken in 3.0.

2011-01-31 23:47  t-ishii

	* pool_process_reporting.c, pool_relcache.c (utags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix warning of printf() and
	  time_t.

2011-01-31 01:16  gleu

	* pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pgpool.conf.sample-stream (utags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Reorganize pgpool.conf sample
	  files so that they are easier to read.

2011-01-31 01:09  gleu

	* Makefile.in: Add understandable "make" and "make install" end
	  messages.

2011-01-30 09:23  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Add mention about
	  pgpool-walrecrunning.

2011-01-30 09:17  t-ishii

	* sql/: pgpool-walrecrunning/Makefile (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  pgpool-walrecrunning/pgpool-walrecrunning.c,
	  pgpool-walrecrunning/pgpool-walrecrunning.sql.in (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), pgpool-walrecvrunning/Makefile,
	  pgpool-walrecvrunning/pgpool-walrecrunning.c,
	  pgpool-walrecvrunning/pgpool-walrecrunning.sql.in: Rename
	  pgpool-walrecvrunning, which was mistakenly named to
	  pgpool-walrecrunning.

2011-01-27 16:55  t-ishii

	* child.c, main.c, pool_config.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), pool_config.l (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), pool_connection_pool.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), pool_process_reporting.c,
	  recovery.c, doc/pgpool-en.html: Deprecate backend_socket_dir.
	  Instead, if backend_hostname starts with '/' it is regarded the as
	  path to Unix domain.  If backend_hostname is left empty, then
	  default Unix domain path(/tmp) is used. This follows the convention
	  of libpq interface.  Patch contributed by Jehan-Guillaume de
	  Rorthais.  Additional fixes to main.c and recovery.c by me.

2011-01-26 10:11  t-ishii

	* sql/pgpool-regclass/pgpool-regclass.c: Fix pgpool-regclass().  It
	  appeared that using PG_TRY/CATCH is not safe, sometimes backend dies
	  with PANIC:  ERRORDATA_STACK_SIZE exceeded.  The only solution is
	  stealing some functions from PostgreSQL and modify it not to throw
	  errors.  This is not elegant at all but PostgreSQL developers do not
	  allow to add such that built-in functions. Sigh.

2011-01-25 18:25  kitagawa

	* pool_proto_modules.c: Fix bug that DROP DATABASE fails.  This
	  used to work but was broken in 3.0.

2011-01-24 13:44  t-ishii

	* ChangeLog: Update ChangeLog by using cvs2cl.pl -t --fsf.

2011-01-24 13:36  t-ishii

	* doc/pgpool-en.html: Update English documentation.
	  - add description of new configuration directive 'log_destination'
	  - add description of new configuration directive 'syslog_facility'
	  - add description of new configuration directive 'syslog_ident'
	  - add some lines and sample to 'white_function_list' regex usage
	  - add some lines and sample to 'black_function_list' regex usage
	  - add information and fix output sample for the 'id' column on
	  'pool_nodes' command

	  Patch provided by Gilles Darold.

	  Also I added description for black_function_list that having lastval
	  and currval to black_function_list is a good idea.

2011-01-20 15:28  kitagawa

	* pool_process_query.c, pool_proto_modules.c, pool_proto_modules.h:
	  Remove unnecessary variables: receive_extended_begin.

2011-01-19 11:52  t-ishii

	* pool_select_walker.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix
	  bug with function_call_walker().  It always regarded the first
	  element is the function name, which is not true if the function has
	  schema qualification. In this case we should use lsecond() rather
	  than lfirst() to extract the function name because the first element
	  is the schema name.

2011-01-16 19:31  t-ishii

	* pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pgpool.conf.sample-stream,
	  pool_config.c, pool_config.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), pool_config.l,
	  pool_process_reporting.c, pool_relcache.c, pool_relcache.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), doc/pgpool-en.html,
	  doc/pgpool-ja.html: Implement relcache expiration control
	  directive "relcache_expire".

2011-01-14 15:58  kitagawa

	* pool_process_reporting.c: Remove parameters from pool_status:
	  recovery_password, system_db_password.

2011-01-14 15:42  kitagawa

	* pool_config.c, pool_config.h, pool_config.l,
	  pool_process_reporting.c, test/timestamp/main.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Remove unnecessary variables:
	  replication_enabled, master_slave_enabled.

2011-01-13 15:08  t-ishii

	* pg_md5.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix
	  update_pool_passwd()'s lack of dirname() usage portability.

2011-01-11 09:43  t-ishii

	* main.c: Emit log if particular backend is down status while
	  reading the status file.  This will make users less confusing.

2011-01-06 18:35  kitagawa

	* child.c, pool_connection_pool.c: Fix the bug which makes a child
	  process crash while doing failover.  This bug has been there since
	  pgpool-II 3.0.

2011-01-06 18:31  gleu

	* doc/pgpool-en.html: Documentation rewrite by Marc Cousin.
	  Reviewed by me.

2011-01-04 13:38  kitagawa

	* pool_process_reporting.c: Fix pool_status so that
	  failback_command and fail_over_on_backend_error show correct values.

2010-12-30 22:06  t-ishii

	* main.c: Fix bug with debug_level directive. Patch contributed by
	  Gilles Darold. Followings are his explanation.

	  I found a bug when playing with pgpool yesterday. The problem is
	  that enabling debug_level to 1 into pgpool.conf doesn't has any
	  effect as it is overriden in the main.c file after getting
	  configuration so that it is only enabled when the -d command line
	  option is present.

2010-12-30 09:47  t-ishii

	* main.c, pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pgpool.conf.sample-stream,
	  pool.h, pool_auth.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  pool_config.c, pool_config.h, pool_config.l, pool_error.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), pool_process_reporting.c,
	  pool_shmem.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Add syslog
	  support. Patch contributed by Gilles Darold.  Review and editing by
	  Guillaume Lelarge.

2010-12-26 09:58  t-ishii

	* pool_config.c, pool_config.h, pool_config.l,
	  pool_select_walker.c: Allow to use regular expressions in black
	  and white function list.  Patch created by Gilles Darold. Here is
	  the description he wrote.

	  Regex patch :

	      The regex struct array is stored in pool_config struct, it is
	      dynamically expendable by PATTERN_ARR_SIZE when it reached
	      NxPATTERN_ARR_SIZE (start with 16 regex max).

	      All entries in white_function_list or black_function_list are stored
	      in this array with a flag to differentiate them. To preserve
	      backward compatibility and prevent partial matching lists
	      entries are all prefixed with '^' and ended with '$' if not
	      already done.  This also mean that if we want to match function
	      beginning with "write_" it has to be written : "write_.*". Indeed
	      "^write_.*$" works too.

	  Patch reviewd by Guillaume Lela.

2010-12-23 09:57  t-ishii

	* parser/: pg_wchar.h, scanner.h, scansup.c, wchar.c (utags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Import PostgreSQL 9.0 parser.
	   This allows to use CREATE INDEX with implicit index name, which is
	  new in 9.0.

	  Allow to use set standard_conforming_string command. It affetcs the
	  scanner in PostgreSQL 9.0 or later.

	  Change outfuncs.c to adopt to the effect of server encoding. This
	  happens in PostgreSQL 9.0 parser.

	  Patch provided by Akio Ishida.

2010-12-16 17:42  t-ishii

	* pool_auth.c: Fix do_md5(). If raw mode or number of backend is 1,
	  pgpool child segfaults.  patch contributed by Rob Shepherd, slight
	  editing by Tatsuo Ishii.

	  Fix read_password_packet(). Guard against invalid password lenghth.

	  Fix send_password_packet(). password string in a password packet
	  must be a "string" message type, which must has a null termination.
	  Otherwise you will see "invalid passoword packet size" error message
	  in backend.

2010-12-14 18:21  t-ishii

	* Makefile.am, Makefile.in, pool_params.c, pool_process_query.c,
	  pool_rewrite_outfuncs.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  pool_timestamp.c, parser/Makefile.am (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/Makefile.in (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/copyfuncs.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/gram.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/gram.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/gram.y (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/gramparse.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/keywords.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/keywords.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/kwlist.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/kwlookup.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/list.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/makefuncs.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/nodes.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/outfuncs.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/parsenodes.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/parser.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/parser.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/pool_parser.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/primnodes.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/scan.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/scan.l (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), parser/scansup.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), test/parser/Makefile (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), test/parser/main.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), test/parser/parse_schedule (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), test/parser/run-test (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), test/parser/expected/copy.out
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  test/parser/expected/create.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), test/parser/expected/delete.out
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  test/parser/expected/misc.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), test/parser/expected/update.out
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND), test/parser/input/copy.sql
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  test/parser/input/create.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Import PostgreSQL 9.0 parser.
	   This allows to use CREATE INDEX with implicit index name, which is
	  new in 9.0.

	  Allow to use set standard_conforming_string command. It affetcs the
	  scanner in PostgreSQL 9.0 or later.

	  Change outfuncs.c to adopt to the effect of server encoding. This
	  happens in PostgreSQL 9.0 parser.

	  Patch provided by Akio Ishida.

2010-12-14 16:21  t-ishii

	* parser/outfuncs.c: Fix long standing bug with timestamp rewriting
	  against array and complex types. Failed examples are:

	  INSERT INTO r1(col[1], col2.foo) VALUES (1, 2); --
	  insert_column_item UPDATE r1 SET col1[1] = 1, col2.foo = 1; --
	  set_target PREPARE "p" (int4[]) AS  SELECT $1[1]; -- c_expr SELECT
	  (ARRAY[1,2,3])[1]; SELECT (ARRAY[ARRAY[1]])[1][1]; SELECT
	  ('{1,2,3}'::int[])[1]; SELECT ('{1,2,3}'::int[3])[1]; SELECT
	  r1.col[1], (r1.col1).bar, (r1.col1).* FROM r1; -- columnref SELECT
	  (r1.col1).baz[1], (r1.col1).baz[1][2] FROM r1;

	  Patch provided by Akio Ishida.

2010-12-14 09:53  t-ishii

	* pool_auth.c: Fix comment in send_password_packet().

2010-11-28 23:57  gleu

	* pool_process_reporting.c: Add node_id column in pool_nodes
	  "view".

	  Patch from Jean-Paul Argudo.

2010-11-28 20:00  t-ishii

	* pool_passwd.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix
	  pool_get_passwd() in the case when user name is 32 bytes long.

2010-11-17 15:57  t-ishii

	* pool_process_query.c: Fix insert_lock().  Comment for this
	  function was not correct. It did not issue BEGIN.
	  per_node_statement was not called for nodes other than master.

2010-11-14 19:59  t-ishii

	* pool_process_query.c: Fix insert_lock() to obtain proper sequence
	  name by considering that get_insert_command_table_name() returns
	  double-qutation-added table name. Without this, pgpool tries to
	  execute SELECT * FROM "foo"_bar_seq FOR UPDATED, which interepreted
	  as SELECT * FROM "foo" AS _bar_seq FOR UPDATED.

2010-11-14 16:33  t-ishii

	* pool_hba.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix load_hba()
	  not to exit(1) if error occurs.  If exit(1) is issued, pgpool main
	  exits but children remain, which is not good.

2010-11-12 17:09  t-ishii

	* pool.h: Fix load_hba() not to exit(1) if error occurs.  If
	  exit(1) is issued, pgpool main exits but children remain, which is
	  not good.

2010-11-12 14:47  t-ishii

	* main.c: Fix find_primary_node to avoid segfault when
	  pool_walrecrunning() is not installed.

2010-11-12 10:37  t-ishii

	* Makefile.am, Makefile.in: Fix typo.

2010-11-12 10:31  t-ishii

	* Makefile.in: Update Makefile.am.

2010-11-12 10:24  t-ishii

	* Makefile.am: Add missing entries for sql/walrecvrunning

2010-11-10 11:17  t-ishii

	* parser/: gram.c, gram.h: Update grammer files generated by bison.

2010-11-10 11:00  t-ishii

	* parser/Makefile.in: Oops. Forgot to commit.

2010-11-10 10:53  t-ishii

	* Makefile.am, Makefile.in, aclocal.m4 (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), config.h.in (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), configure (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), configure.in (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), ltmain.sh (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND), pcp/Makefile.in (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Rerun libtoolize to adopt newer
	  developping environment.

2010-11-04 18:54  kitagawa

	* pool.h: Fix bug in raw mode.

	  The following change has not worked since pgpool-II 3.0.

	  Subject: [Pgpool-committers] pgpool...  Date: Sun, 16 May 2010
	  08:38:16 +0000 (UTC)

	  - In row mode and if there's only one DB node, if a problem occurs
	    with the DB node, it will be brought to down status. However if
	    the DB node goes into good condition again, you can use the DB
	    node without restarting pgpool.

2010-10-30 20:12  t-ishii

	* main.c, pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pgpool.conf.sample-stream,
	  doc/pgpool-en.html, doc/pgpool-ja.html (utags: V3_1_0_ALPHA1):
	  Allow to use %P(old primary node id) to failover/failback script.
	  This is neccessary for failover script in streaming replication
	  mode.

2010-10-30 12:23  t-ishii

	* doc/pgpool-en.html, doc/pgpool-ja.html, sample/pgpool_recovery
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1): Add -c (checksum) option to ensure
	  reliable file transmittion.

2010-10-23 08:53  t-ishii

	* main.c: Fix in-portability of the way to use dirname(3) in
	  locating pool_passwd. Bug report from a FreeBSD user.

2010-10-20 10:08  t-ishii

	* child.c (tags: V3_1_0_ALPHA1), main.c, pool.h (tags:
	  V3_1_0_ALPHA1), pool_query_context.c (tags: V3_1_0_ALPHA1),
	  pool_worker_child.c (tags: V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1),
	  sql/pgpool-walrecvrunning/Makefile (tags: V3_0_2, V3_1_0_ALPHA1),
	  sql/pgpool-walrecvrunning/pgpool-walrecrunning.c (tags: V3_0_2,
	  V3_1_0_ALPHA1),
	  sql/pgpool-walrecvrunning/pgpool-walrecrunning.sql.in (tags:
	  V3_0_2, V3_1_0_ALPHA1): Fix bug when primary node is not the
	  youngest. Before pgpool-II unconditionally assumed the master
	  node(the youngest live node) is a primary server, which is apprently
	  wrong assumption. To fix the problem, now pgpool-II have info on
	  shmem(Req_info) to know which is the primary. The info is set when
	  1)pgpool-II started 2)failover occurs. The work is done by new
	  function find_primary_node(main.c). It does SELECT
	  pg_is_in_recovery() AND pgpool_walrecrunning() to know the node in
	  question is actually standby. pgpool_walrecrunning() is new
	  PostgreSQL C function, to check if walreceiver is in running status.
	  This is neccessary when failover occurs. Unfortunately
	  pg_is_in_recovery() returns true even if standby is promoting
	  because it found a trigger file. Installing pgpool_walrecrunning()
	  is annoying but no way.  Also where_to_send() is modified to use
	  PRIMARY_NODE_ID, rather than MASTER_NODE_ID.  CVS:

	  ----------------------------------------------------------------------main.c pool.h pool_query_context.c pool_worker_child.c CVS: Added
	  Files: CVS: sql/pgpool-walrecvrunning/Makefile CVS:
	  sql/pgpool-walrecvrunning/pgpool-walrecrunning.c CVS:
	  sql/pgpool-walrecvrunning/pgpool-walrecrunning.sql.in CVS:

	  ----------------------------------------------------------------------

2010-10-20 09:34  t-ishii

	* pool_proto_modules.c (tags: V3_1_0_ALPHA1): Fix bug with
	  find_victim_node. If the number of inserted/updated/deleted tuples
	  at a victim node is 0, no failover event happens.  See:

	  Subject: Re: [Pgpool-general] Replication failover problem Date:
	  Wed, 20 Oct 2010 09:24:30 +0900 (JST)

	  For mode details.

2010-10-20 08:47  t-ishii

	* pool_process_reporting.c (tags: V3_1_0_ALPHA1): Add entry for
	  failover_if_affected_tuples_mismatch.  I seem to forgot to add this
	  for 3.0 release. Sigh.  Also expand column name from 34 to 64, since
	  failover_if_affected_tuples_mismatch.  is longer than 32.

2010-10-19 23:36  kitagawa

	* ChangeLog (tags: V3_1_0_ALPHA1, V3_0_1): Prepare 3.0.1

2010-10-19 23:32  kitagawa

	* NEWS (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_1_0_ALPHA1),
	  configure (tags: V3_1_0_ALPHA1), configure.in (tags:
	  V3_1_0_ALPHA1), doc/pgpool-ja.html (utags: V3_0_1): Prepare 3.0.1

2010-10-19 20:22  t-ishii

	* ChangeLog: Update ChangeLog.

2010-10-19 20:17  t-ishii

	* doc/pgpool-en.html (tags: V3_0_1): Fix typo.

2010-10-19 17:57  kitagawa

	* pool_proto_modules.c, pool_session_context.c (tags:
	  V3_1_0_ALPHA1) (utags: V3_0_1): Fix hungup when a query sent to
	  one node caused an error.

2010-10-15 12:10  kitagawa

	* pool_proto2.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1): Fix ErrorResponse
	  so that it checks existence of a session context.

2010-10-14 19:42  t-ishii

	* doc/pgpool-en.html: Fix typo. Patch contributed by Asaf Ohaion.

2010-10-14 15:39  t-ishii

	* doc/pgpool-en.html: Fix typo in English doc. Patch contributed by
	  Asaf Ohaion.

2010-10-12 20:39  kitagawa

	* pool_proto_modules.c, pool_session_context.c,
	  pool_session_context.h (tags: V3_1_0_ALPHA1, V3_0_1): Fix portal
	  handling in extended query protocol.  Now, prepared statements and
	  portals are closed separately.  This issue is possible to reappear
	  by a program using setFetchSize(1) of JDBC.

2010-10-12 20:05  kitagawa

	* pg_md5.c (tags: V3_1_0_ALPHA1, V3_0_1): Cancel previous commit.

2010-10-01 15:15  kitagawa

	* pg_md5.c: Add a new option for md5 authentication: -U,
	  --username=NAME.  Fix help message.

2010-09-28 17:00  t-ishii

	* pool_auth.c (tags: V3_1_0_ALPHA1, V3_0_1): Fix bug with md5 auth.
	  If there's more than 1 servers to be authenticated, it sefaults.

2010-09-27 11:01  kitagawa

	* pool_proto_modules.c, pool_proto_modules.h (tags: V3_1_0_ALPHA1,
	  V3_0_1): Fix the bug that causes segfault of a child process when
	  syntax error occurred in extended query protocol.

2010-09-10 09:39  kitagawa

	* configure, configure.in, Makefile.am (tags: V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1), Makefile.in (tags: V3_0_2, V3_1_0_ALPHA1,
	  V3_0_1), NEWS, ChangeLog (utags: V3_0_0): Prepare 3.0

2010-09-09 13:15  kitagawa

	* doc/: where_to_send_queries.odg, where_to_send_queries.pdf
	  (utags: V3_0_0, V3_0_1, V3_0_2, V3_0_3, V3_0_3_BETA1,
	  V3_1_0_ALPHA1, V3_1_0_WITHOUT_FOLLOW_COMMAND): Update flow
	  charts.

2010-09-09 11:41  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html (utags: V3_0_0): Fix typo
	  and enhance documents.  Update release date.

2010-09-08 17:43  kitagawa

	* NEWS, configure, configure.in, doc/pgpool-ja.html, ChangeLog
	  (utags: V3_0_0_RC1): Prepare 3.0-RC1

2010-09-07 17:42  kitagawa

	* doc/pgpool-ja.html: Fix typo.

2010-09-06 17:33  kitagawa

	* pool_timestamp.c (tags: V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1): Fix the bug with previous fix.

2010-09-06 14:03  t-ishii

	* pool_process_query.c (tags: V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1), pool_select_walker.c (tags: V3_1_0_ALPHA1, V3_0_1,
	  V3_0_0, V3_0_0_RC1), pool_select_walker.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1), pool_timestamp.c,
	  doc/pgpool-en.html (tags: V3_0_0_RC1), doc/pgpool-ja.html: Use
	  custom function pgpool_regclass() instead of regclass to convert
	  table name to oid. Problem with regclass is, it throws an error if
	  the table does not exist. pgpool_regclass is just a wrapper of
	  regclass by using PG_TRY()/PG_CATCH().  If user does not install
	  pgpool_regclass(), pgpool-II falls back to pre 3.0 behavior, i.e.
	  ignores schema qualification.

2010-09-06 11:39  t-ishii

	* sql/pgpool-regclass/: Makefile (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2),
	  pgpool-regclass.c, pgpool-regclass.sql.in (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2)
	  (utags: V3_0_0, V3_0_0_RC1, V3_0_1, V3_1_0_ALPHA1): Add
	  pgpool_regclass function. This is an alternative for regclassin.
	  Problem is, regclassin throws an error if invalid table name is
	  specified and pgpool's internal query fails.  Someday we might have
	  such a builtin function but until that day we use pgpool_regclass
	  instead...

2010-09-03 16:02  kitagawa

	* Makefile.am (tags: V3_0_0_RC1): Remove load_balance.odp,
	  load_balance.png.  Add where_to_send_queries.odg,
	  where_to_send_queries.pdf.

2010-09-03 15:58  kitagawa

	* doc/: where_to_send_queries.odg, where_to_send_queries.pdf
	  (utags: V3_0_0_RC1): A destination node decision logic
	  explanation figure

2010-09-03 15:58  kitagawa

	* doc/: load_balance.odp, load_balance.png: Remove

2010-09-03 15:58  kitagawa

	* doc/pgpool-en.html: Update the table of replicate_select.  Update
	  the link file name of a flow chart.

2010-09-03 15:58  kitagawa

	* doc/pgpool-ja.html: Update the table of replicate_select.  Update
	  the link file name of a flow chart.  Update release note.

2010-09-03 15:58  kitagawa

	* Makefile.in (tags: V3_0_0_RC1): Remove load_balance.odp,
	  load_balance.png.  Add where_to_send_queries.odg,
	  where_to_send_queries.pdf.

2010-09-01 18:02  kitagawa

	* ChangeLog (tags: V3_0_0_BETA3): Prepare 3.0-beta3

2010-09-01 17:58  kitagawa

	* NEWS, doc/pgpool-ja.html (utags: V3_0_0_BETA3): Prepare 3.0-beta3

2010-09-01 15:50  kitagawa

	* configure, configure.in (utags: V3_0_0_BETA3): Prepare 3.0-beta3

2010-09-01 15:10  kitagawa

	* pool_query_context.c (tags: V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3): Fix where_to_send so that DEALLOCATE works
	  properly in replication mode or parallel mode.

2010-09-01 13:58  kitagawa

	* pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pgpool.conf.sample-stream (utags:
	  V3_0_0, V3_0_0_BETA3, V3_0_0_RC1, V3_0_1, V3_0_2): Update
	  parameter's comments.
	  - pcp_timeout
	  - load_balance_mode
	  - replicate_select
	  - enable_pool_hba

2010-08-31 08:09  t-ishii

	* recovery.c (tags: V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1,
	  V3_0_0, V3_0_0_RC1, V3_0_0_BETA3): Fix check_postmaster_started.
	  Before it continued inifinitly to try to connect to postmaster if
	  the first attempt failed.  Now it firstly tries "postgres" database
	  3 times (hard coded!) then retries with template1.

2010-08-30 12:55  kitagawa

	* pool_proto_modules.c, pool_query_cache.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1) (utags: V3_0_0, V3_0_0_BETA3, V3_0_0_RC1):
	  Fix the bug that pgpool using query_cache sent both cache contents
	  and backend response to frontend.  Fix possible crash when
	  query_cache is true and error response is returned.

2010-08-26 18:23  kitagawa

	* pool_process_query.c (tags: V3_0_0_BETA3), pool_proto_modules.c,
	  pool_proto_modules.h (tags: V3_0_0, V3_0_0_RC1, V3_0_0_BETA3):
	  Fix SimpleForwardToFrontend so that it doesn't use session context.
	  Move parts of SimpleForwardToFrontend to CommandComplete.  Move
	  query_cache_register to pool_proto_modules.c.  Move extract_ntuples
	  to pool_proto_modules.c.

	  SimpleForwardToFrontend is called by do_auth, when there isn't
	  session context.  This causes error such as following.

	  ex) template3 is a wrong DB name.  $ psql -p 9999 template3 postgres
	  psql: server closed the connection unexpectedly...

2010-08-25 13:35  kitagawa

	* ChangeLog (tags: V3_0_0_BETA2): Prepare 3.0-beta2

2010-08-25 13:31  kitagawa

	* NEWS (tags: V3_0_0_BETA2): Hopefully 3.0 to be released in
	  September.

2010-08-25 13:22  kitagawa

	* configure.in, configure (utags: V3_0_0_BETA2): Prepare 3.0-beta2

2010-08-25 12:05  t-ishii

	* doc/pgpool-ja.html (tags: V3_0_0_BETA2): Hopefullly 3.0 to be
	  released in September.

2010-08-24 14:37  t-ishii

	* doc/: pgpool-en.html (tags: V3_0_0_BETA3, V3_0_0_BETA2),
	  pgpool-ja.html: Add metiontion about using row lock, rather than
	  table lock  when inser_lock is enabled.

2010-08-23 22:58  t-ishii

	* pool_process_query.c (tags: V3_0_0_BETA2): Revert previous fix
	  for insert_lock.  SELECT FOR UPDATE must be issued by do_query,
	  rather than do_command.

2010-08-23 15:43  kitagawa

	* pool_process_query.c: Fix do_command so that it allows kinds "T"
	  and "D".  This fix is because insert_lock came to send SELECT
	  command.

2010-08-23 13:42  kitagawa

	* sql/pgpool-recovery/pgpool-recovery.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2): Fix pgpool_switch_xlog so that it checks the size
	  of archived log file.

2010-08-22 19:52  gleu

	* getopt_long.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2): Add a header I forgot. Thanks to
	  Tatsuo for the idea.

2010-08-22 17:24  gleu

	* Makefile.am (tags: V3_0_0_BETA3, V3_0_0_BETA2), Makefile.in
	  (tags: V3_0_0_BETA3, V3_0_0_BETA2), getopt_long.c, getopt_long.h
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), main.c (tags: V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2), pg_md5.c (tags: V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2), pcp/pcp_attach_node.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), pcp/pcp_detach_node.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), pcp/pcp_node_count.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), pcp/pcp_node_info.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), pcp/pcp_proc_count.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), pcp/pcp_proc_info.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), pcp/pcp_recovery_node.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), pcp/pcp_stop_pgpool.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), pcp/pcp_systemdb_info.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2): Add getopt_long.h and getopt_long.c source code
	  files from PostgreSQL source code, so that platforms without
	  getopt_long function can still use long options.

2010-08-20 17:05  kitagawa

	* pool_query_context.c (tags: V3_0_0_BETA2): Fix where_to_send so
	  that it considers white_function_list and black_function_list in
	  replication mode.  Adjust rules in replication mode and parallel
	  mode.

2010-08-20 11:04  kitagawa

	* pool_process_query.c: Fix do_command so that it doesn't call
	  pool_read function after it detects PANIC or FATAL error.  Change
	  is_panic_or_fatal_error so that it supports V2 protocol.

2010-08-20 10:57  kitagawa

	* pool_proto_modules.c (tags: V3_0_0_BETA2): Fix SimpleQuery so
	  that it checks backend status when using V2 protocol.

2010-08-19 18:25  t-ishii

	* NEWS, pool_process_query.c, pool_proto_modules.c,
	  pool_proto_modules.h (tags: V3_0_0_BETA2), pool_relcache.c (tags:
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2), pool_relcache.h (tags:
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2), pool_session_context.h
	  (tags: V3_0_0, V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2),
	  doc/pgpool-ja.html: When insert_lock is enabled and the table
	  includes SERIAL data type, issue row lock on the sequence table.
	  Before we issues table lock. Problem is, the table lock conflicts
	  with auto vacuum and sometimes caused excessive lock waiting.

	  Remove unnused global variable start_internal_transaction

	  Remove #ifdef out comments in pool_session_context.h

2010-08-19 16:35  t-ishii

	* pool_process_query.c: Remove unnecessary restriction(with version
	  2 protoocl it always returns 0) of need_insert_lock. do_query has
	  already supports v2 protocol.

2010-08-18 22:33  tom-sato

	* doc/: pgpool-en.html, pgpool-ja.css (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), pgpool-ja.html, pgpool.css (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), tutorial-en.html (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2), tutorial-ja.html (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2):
	  - Update copyright for the year 2010
	  - Fix typo: PgPool -> pgpool
	  - Enlarge the font size of <pre></pre>
	  - Add closing tag </a>

2010-08-18 16:12  t-ishii

	* pool_process_query.c: Fix insert_lock to be schema aware.

2010-08-18 10:53  kitagawa

	* ChangeLog (tags: V3_0_0_BETA1): Prepare 3.0-beta1

2010-08-18 10:33  kitagawa

	* pgpool.conf.sample-master-slave, pgpool.conf.sample-replication,
	  pgpool.conf.sample-stream (utags: V3_0_0_BETA1, V3_0_0_BETA2):
	  Fix default value of log_standby_delay in
	  pgpool.conf.sample-replication.  Update comment of
	  replication_stop_on_mismatch.

2010-08-18 09:28  t-ishii

	* ChangeLog: Update ChangeLog

2010-08-18 09:22  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html (utags: V3_0_0_BETA1): Add
	  description about load balaning in streaming replication mode to
	  English doc.  Fix Japanese doc in unnecessary restriction regarding
	  load balaning in streaming replication mode.

2010-08-17 20:20  kitagawa

	* ChangeLog: Prepare 3.0-beta1

2010-08-17 20:17  kitagawa

	* COPYING (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_1_0_ALPHA1,
	  V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2),
	  configure, configure.in (utags: V3_0_0_BETA1): Prepare 3.0-beta1

2010-08-17 18:51  kitagawa

	* pool_process_query.c (tags: V3_0_0_BETA1): Fix reset_variables so
	  that it checks session_context.

2010-08-17 18:23  kitagawa

	* pool_process_query.c, pool_proto_modules.c (tags: V3_0_0_BETA1),
	  pool_rewrite_query.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1),
	  pool_session_context.c (tags: V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pool_session_context.h (tags:
	  V3_0_0_BETA1): Fix pool_do_parallel_query and pool_parallel_exec
	  so that parallel mode works.  Rename pool_status_stmt flag to
	  skip_reading_from_backends.

2010-08-17 15:43  t-ishii

	* doc/pgpool-ja.html: Fix typo.

2010-08-17 15:43  t-ishii

	* doc/pgpool-en.html: Add description of failover and online
	  recover in master/slave streaming mode.

2010-08-17 14:33  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html: Add restrictions.

2010-08-17 14:15  t-ishii

	* pool_timestamp.c (tags: V3_0_0_BETA3, V3_0_0_BETA2,
	  V3_0_0_BETA1): Do not rewrite statement which accesses columns
	  having now() etc. as the default value but the data type are not
	  timestamp etc.  Otherwise we have an error in DMLS. See:

	  Subject: [Pgpool-general] function epoch seems to be causing error
	  To: pgpool-general@pgfoundry.org Date: Mon, 16 Aug 2010 21:48:31
	  +0000 (UTC)

	  For more details.

2010-08-17 13:56  kitagawa

	* doc/pgpool-ja.html: Fix typo.

2010-08-17 13:21  kitagawa

	* pool_process_query.c, pool_proto2.c (tags: V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1): Fix the bug with V2
	  protocol's transaction state handling.

2010-08-17 11:22  kitagawa

	* child.c (tags: V3_0_1), pool_auth.c (utags: V3_0_0, V3_0_0_BETA1,
	  V3_0_0_BETA2, V3_0_0_BETA3, V3_0_0_RC1): Fix compiler warnings.

2010-08-17 11:09  kitagawa

	* pool_config.c, pool_config.l (utags: V3_0_0, V3_0_0_BETA1,
	  V3_0_0_BETA2, V3_0_0_BETA3, V3_0_0_RC1, V3_0_1, V3_0_2, V3_0_3,
	  V3_0_3_BETA1, V3_1_0_ALPHA1): Fix typo in debug message.

2010-08-17 10:51  kitagawa

	* pool_proto_modules.c: Fix raise_intentional_error_if_need so that
	  V2 protocol works.

2010-08-17 10:36  kitagawa

	* pool_proto_modules.c: Change the dummy query of SimpleQuery to
	  DELETE instead of INSERET, because INSERT send a command for
	  rewriting timestamp.

2010-08-16 10:51  kitagawa

	* pool_proto2.c: Fix CompletedResponse so that it checks command
	  tag.  This fix is the rest of the previous fix.

2010-08-16 10:15  kitagawa

	* pool_proto2.c: Fix CompletedResponse so that child process does
	  not end when figures of the row oids are different.

2010-08-15 03:01  gleu

	* pcp/: pcp_node_info.c, pcp_proc_info.c (utags: V3_0_0_BETA1): Add
	  the new --verbose option in the usage function.

2010-08-14 15:42  gleu

	* pool_process_reporting.c (tags: V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1), doc/pgpool-en.html,
	  pcp/pcp_proc_info.c: Show start_time and create_time in a more
	  friendly way. For both pcp and SHOW commands.

2010-08-14 11:16  gleu

	* pool_process_reporting.c, doc/pgpool-en.html: Show the usual (ie,
	  not normalized) weight with "SHOW pool_nodes".

2010-08-14 11:05  gleu

	* doc/pgpool-en.html, pcp/pcp_node_info.c, pcp/pcp_proc_info.c: Add
	  a --verbose option to pcp_node_info and pcp_proc_info.

2010-08-14 01:48  gleu

	* pcp/: pcp_attach_node.c (tags: V3_0_0_BETA1), pcp_detach_node.c
	  (tags: V3_0_0_BETA1), pcp_node_count.c (tags: V3_0_0_BETA1),
	  pcp_node_info.c, pcp_proc_count.c (tags: V3_0_0_BETA1),
	  pcp_proc_info.c, pcp_recovery_node.c (tags: V3_0_0_BETA1),
	  pcp_stop_pgpool.c (tags: V3_0_0_BETA1), pcp_systemdb_info.c
	  (tags: V3_0_0_BETA1): Update usage to show the long options.

2010-08-13 09:28  kitagawa

	* doc/pgpool-en.html, sample/pgpool_recovery_pitr (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1): Update sample file
	  pgpool_recovery_pitr.

2010-08-13 09:09  kitagawa

	* pool_process_query.c, pool_proto_modules.c, pool_proto_modules.h
	  (tags: V3_0_0_BETA1): Fix the bug that V2 protocol does not work.

2010-08-12 15:36  t-ishii

	* Makefile.am, Makefile.in (utags: V3_0_0_BETA1): Add
	  pgpool.conf.sample-stream

2010-08-12 10:07  t-ishii

	* doc/pgpool-en.html: Add mention about pgpool_switch_xlog.

2010-08-12 09:27  t-ishii

	* pool_config.c, pool_config.l, pool_process_reporting.c: Add info
	  about white_function_list and black_function_list.  Add default
	  value for black_function_list(i.e. nextval and setval) for backward
	  compatibilty for those who do not update pgpool.conf.

2010-08-12 09:25  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html: Enhancing docs.

2010-08-11 17:12  t-ishii

	* doc/pgpool-en.html: Add "troubleshooting" section.

2010-08-11 16:05  t-ishii

	* doc/pgpool-ja.html: Sync with English document.

2010-08-11 14:54  gleu

	* doc/pgpool-en.html: Forgot to change the documentation.

2010-08-11 14:51  gleu

	* pool_process_reporting.c, doc/pgpool-en.html: "SHOW pool_pools"
	  now reports the backend ID. With help from Tatsuo Ishii.

2010-08-11 12:04  t-ishii

	* doc/pgpool-ja.html: Sync with English doc.

2010-08-11 12:03  t-ishii

	* doc/pgpool-en.html: Fix typo.

2010-08-11 00:08  gleu

	* main.c (tags: V3_0_0_BETA1), pool_error.c (tags: V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1), pool_hba.c (tags:
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1),
	  pool_process_query.c: Fix some warnings on gcc.

2010-08-10 22:21  gleu

	* pool_process_query.c, pool_process_reporting.c,
	  pool_proto_modules.c, pool_proto_modules.h, doc/pgpool-en.html:
	  Add support for more "SHOW" commands: pool_nodes, pool_processes,
	  pool_nodes, and pool_version.

2010-08-10 18:09  kitagawa

	* doc/pgpool-ja.html: Fix typo.

2010-08-10 17:45  t-ishii

	* pool_query_context.c, pool_select_walker.c (tags: V3_0_0_BETA3,
	  V3_0_0_BETA2), pool_select_walker.h (tags: V3_0_0_BETA3,
	  V3_0_0_BETA2) (utags: V3_0_0_BETA1): Teach pool_where_to_send to
	  recognize whether SELECT uses system catalogs. If so, send query to
	  real master. This will let \d command works against temp tables.

2010-08-10 17:06  kitagawa

	* pool_session_context.c: Fix session_context_destroy so that it
	  frees memory.

2010-08-10 15:18  t-ishii

	* pool_query_context.c: Remove ifdef out code.

2010-08-10 14:40  t-ishii

	* doc/pgpool-ja.html: Minor correction.

2010-08-10 14:09  t-ishii

	* child.c, pool.h (tags: V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pool_process_query.c: Remove
	  unnecessary global variable.

2010-08-10 13:08  kitagawa

	* pool_process_query.c, pool_proto_modules.c, pool_proto_modules.h,
	  pool_session_context.h: Remove variables: select_in_transaction,
	  execute_select.  Fix raise_intentional_error_if_need so that it
	  supports replication_mode.

2010-08-10 12:03  t-ishii

	* doc/pgpool-en.html: Sync with Japanese doc.

2010-08-10 09:58  t-ishii

	* pool_select_walker.c: Make schema aware for 8.3 or before.

2010-08-10 09:40  t-ishii

	* doc/pgpool-ja.html: More fix.

2010-08-10 09:37  t-ishii

	* pool_relcache.c (tags: V3_0_0_BETA1), pool_select_walker.c: Fix
	  temporary table checking. Make schema aware. Also a query to system
	  catalog should be sent to real master, not virtual master.

2010-08-10 09:36  t-ishii

	* pool_timestamp.c: Make timestamp rewriting schema aware.

2010-08-09 19:53  kitagawa

	* doc/pgpool-ja.html, sql/pgpool-recovery/pgpool-recovery.c (tags:
	  V3_0_0_BETA1), sql/pgpool-recovery/pgpool-recovery.sql.in (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1): Add pgpool_switch_xlog function.
	  pgpool_switch_log is the same as pg_switch_xlog except that it wait
	  till archiving is completed.  Fix pgpool_recovery and
	  pgpool_remote_start so that they can compile with PostgreSQL 7.3.

2010-08-06 22:17  kitagawa

	* pool_proto2.c, pool_proto_modules.c, pool_proto_modules.h,
	  pool_query_context.c, pool_session_context.c,
	  pool_session_context.h: Add raise_intentional_error_if_need
	  function and failed_transaction valiable, to resolve following
	  transaction issue in load_balance_mode.  Now, SELECT is sent to
	  master node when error occurred in master_slave_mode and
	  load_balance_mode.

	  example of atomicity issue:

	  testdb=> BEGIN; BEGIN testdb=> SELECT * FROM t1; ERROR:  relation
	  "t1" does not exist LINE 1: SELECT * FROM t1;
	                        ^ testdb=> SELECT * FROM t2;
	   id ---- (0 rows)

	  testdb=> COMMIT; ROLLBACK

2010-08-06 17:03  t-ishii

	* NEWS (tags: V3_0_0_BETA1): Update for pgpool-II 3.0.

2010-08-06 16:01  t-ishii

	* doc/pgpool-ja.html: Peer review.

2010-08-06 14:51  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html: Add frontend connection
	  status data to pcp_proc_info.

2010-08-06 11:09  t-ishii

	* child.c, pool.h, pool_connection_pool.c (tags: V3_1_0_ALPHA1,
	  V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2,
	  V3_0_0_BETA1): Remove pool_index member from
	  POOL_CONNECTION_POOL.  Instead has pool_index in
	  pool_connection_pool as a static data.

2010-08-06 08:37  t-ishii

	* child.c, pcp_child.c (tags: V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1,
	  V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2,
	  V3_0_0_BETA1), pool_process_context.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pool_process_context.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pool_type.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pcp/pcp.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pcp/pcp_proc_info.c: Add 1/0 field
	  to pcp_proc_info7s output to indicate that this connection pool is
	  connected from frontend or not.

2010-08-05 17:10  t-ishii

	* pcp_child.c: Remove debug line.

2010-08-05 17:08  t-ishii

	* pcp_child.c, pool.h, recovery.c (tags: V3_0_0_BETA2,
	  V3_0_0_BETA1), doc/pgpool-en.html, doc/pgpool-ja.html, pcp/pcp.c,
	  pcp/pcp.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1), pcp/pcp_detach_node.c:
	  Implement pcp_detatch_node gracefull mode.  i.e. wait until all
	  clients disconnected.

2010-08-05 12:10  t-ishii

	* doc/pgpool-en.html: Add backend pid to pcp_proc_info.

2010-08-05 12:07  t-ishii

	* pcp_child.c, pool_auth.c, pool_connection_pool.c,
	  pool_process_context.c, pool_process_context.h,
	  doc/pgpool-ja.html, pcp/pcp.c, pcp/pcp_proc_info.c: Fix
	  ConnectionInfo data on shem.  Add new API to ConnectionInfo
	  pool_coninfo_pid().  Add call to pool_init_process_context to
	  pcp_child.  Add backend pid to pcp_proc_info.

2010-08-05 12:03  t-ishii

	* child.c: Tweak debug statement

2010-08-04 16:27  kitagawa

	* pool_config.c, pool_config.l: Add backend_data_directory checking
	  in pgpool.conf.  Now recovery_1st_stage_command and
	  recovery_2nd_stage_command requires backend_data_directory to be
	  set.

2010-08-04 11:58  kitagawa

	* pool_proto_modules.c, pool_proto_modules.h,
	  pool_session_context.h: Remove unused codes.

2010-08-03 18:01  kitagawa

	* pcp/pcp_attach_node.c, pcp/pcp_detach_node.c,
	  pcp/pcp_node_count.c, pcp/pcp_node_info.c, pcp/pcp_proc_count.c,
	  doc/pgpool-en.html, doc/pgpool-ja.html, pcp/pcp_proc_info.c,
	  pcp/pcp_recovery_node.c, pcp/pcp_stop_pgpool.c,
	  pcp/pcp_systemdb_info.c: Fix typo in help message.

2010-08-03 16:02  t-ishii

	* pool_query_context.c: Now query dispatch algorithm of Slony-I is
	  exactly same as Streaming rep. Let's see if this works...

2010-08-03 15:37  kitagawa

	* pool.h, pool_process_query.c, pool_proto_modules.c,
	  pool_proto_modules.h: Remove unused codes.

2010-08-03 10:43  t-ishii

	* main.c: Refactor main() to use pool_coninfo_size and
	  pool_coninfo.

2010-08-03 10:25  t-ishii

	* child.c, pool_process_context.c, pool_process_context.h: Fix
	  cancel_request whic was not working at all.

	  Add pool_coninfo_size, pool_coninfo_num, pool_coninfo for
	  refactering.  Current ConnectionInfo handling is awfully adhoc and
	  hard to maintain.  These modules encapsulate the layout of
	  ConnectionInfo on shmem somewhat.

2010-08-03 10:21  t-ishii

	* pool_auth.c: Add debug info.

2010-08-02 19:16  kitagawa

	* pool_session_context.c: Fix bug in pool_delete_prep_where: It's
	  memset not memcpy.

2010-08-02 19:06  kitagawa

	* pool_auth.c: Fix compiler warning.

2010-08-02 18:13  kitagawa

	* pool_process_query.c, pool_proto_modules.c, pool_query_context.c:
	  Fix possible crash by using unset pool_memory.

2010-08-02 11:29  kitagawa

	* pool_session_context.c: Fix log level to DEBUG when pending
	  object was NULL.

2010-08-01 17:38  t-ishii

	* pgpool.conf.sample (tags: V3_0_0_BETA2, V3_0_0_BETA1),
	  pgpool.conf.sample-master-slave, pgpool.conf.sample-replication,
	  pgpool.conf.sample-stream, pool_config.c, pool_config.h (tags:
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1),
	  pool_config.l, pool_query_context.c, pool_select_walker.c,
	  pool_select_walker.h, doc/pgpool-ja.html: Allow to specify
	  functions those are writing to DB in SELECT.  For this purpose, new
	  directive "white_function_lis" and "black_function_list" added.
	  Such SELECT are not load balanced in replication mode and master
	  slave mode.

2010-07-29 19:05  t-ishii

	* Makefile.am, Makefile.in, pool_proto_modules.c,
	  pool_query_context.c, pool_select_walker.c, pool_select_walker.h:
	  Allow to issue SELECT to temporary tables in master/slave mode.  For
	  this purpose two files pool_select_walker.c pool_select_walker.h
	  added. They contain modules to analyze SELECT statement recursively.

2010-07-29 13:04  kitagawa

	* pool_query_context.c: Fix DEALLOCATE issue when using PHP-PDO.
	  PHP-PDO uses extended query protocol, but DEALLOCATE sends by simple
	  query protocol.

2010-07-29 09:29  kitagawa

	* pool_process_query.c, pool_proto_modules.c,
	  pool_session_context.c, pcp/pcp.c: Remove // comments.

2010-07-29 09:05  kitagawa

	* doc/pgpool-ja.html: More updation.

2010-07-28 20:34  kitagawa

	* doc/pgpool-ja.html: More updation.

2010-07-28 17:36  t-ishii

	* doc/pgpool-ja.html: More updation.

2010-07-28 08:26  t-ishii

	* pool_process_query.c, pool_proto_modules.c, pool_query_context.c:
	  Re-enable transaction isolation level is serializable case.  In this
	  case we need to send SELECTs to primary only to keep serializable
	  semantics.

2010-07-28 08:24  t-ishii

	* doc/: basebackup.sh (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1), pgpool-ja.html,
	  pgpool_remote_start (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1), recovery.conf.sample
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1): More doc updation for 3.0.

2010-07-26 21:48  t-ishii

	* doc/pgpool-ja.html: More updation...

2010-07-26 18:52  t-ishii

	* pool_process_query.c: Fix reset_backend. Check if backend is
	  valid.

2010-07-26 16:56  t-ishii

	* doc/pgpool-ja.html: More working in progress updation.  Cosmetic
	  changes (h3, 4 etc. -> h1) Add more description to
	  master/slave+streaming rep.

2010-07-26 14:27  kitagawa

	* doc/pgpool-ja.html: Fix typo.  Update release note ver.3.0.

2010-07-26 11:52  t-ishii

	* doc/pgpool-ja.html: Work in progress docs update for pgpool-II
	  3.0.

2010-07-26 09:23  t-ishii

	* main.c: Fix pool_passwd handling. It broke pass to config file,
	  and caused reload config failure.

2010-07-25 17:17  t-ishii

	* pool_process_context.c: Fix pool_init_process_context(). It
	  forgot to set process id (not UNIX pid).

2010-07-23 18:40  t-ishii

	* pcp_child.c, recovery.c: Allow to online recovery standby node in
	  streaming replication mode. Primary node is not allowed, however.

2010-07-23 18:38  t-ishii

	* child.c: Destroy session context at the end of session.

2010-07-23 15:54  t-ishii

	* pool_process_query.c: Fix do_query so that 0 out malloced area.
	  Without this, subsequent call to free_select_result(res) cause
	  invalid free() call.

2010-07-23 15:22  t-ishii

	* pool_worker_child.c (tags: V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1): Fix in case of
	  health_check period is 0.

2010-07-23 15:08  t-ishii

	* pool_process_query.c, pool_proto_modules.c, pool_query_context.c:
	  Add reset_context flag to session context.  This is to be called
	  while executing reset queries.  Fix SimpleQuery so that if function
	  call is executed under dummy query context.

2010-07-23 15:04  t-ishii

	* child.c, pool_session_context.c, pool_session_context.h: Add new
	  function pool_session_context_destroy, which destorys session
	  context.  Shoould be called at the end of session.  For now it is
	  just called at the very beginning of session.  Also it needs more
	  work to release memory.

2010-07-23 14:40  kitagawa

	* pool_session_context.c: Fix pool_init_session_context so that it
	  set query_context to NULL.

2010-07-23 13:57  kitagawa

	* pool_process_query.c: Fix read_kind_from_backend so that it check
	  query_context exist.

2010-07-22 17:50  kitagawa

	* pool_proto_modules.c: Fix segmentation fault when executed JDBC
	  test suite.

2010-07-22 14:50  t-ishii

	* pool_proto_modules.c: Fix SimpleQuery. If query is rewritten by
	  timestamp, query string and its length was not consistent.

2010-07-22 13:24  t-ishii

	* pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pgpool.conf.sample-stream,
	  pool_config.c, pool_config.h, pool_config.l,
	  pool_process_query.c, pool_proto_modules.c, pool_proto_modules.h,
	  pool_session_context.c, pool_session_context.h,
	  doc/pgpool-en.html, doc/pgpool-ja.html: Add
	  failover_if_affected_tuples_mismatch which trigger when number of
	  affcted tuples by UPDATE/DELETE.

2010-07-21 21:16  kitagawa

	* pool_process_query.c: Fix hungup when executed regression test.

2010-07-21 19:08  kitagawa

	* pool_process_query.c, pool_proto_modules.c: Fix hungup when
	  executed Copy from stdin.

2010-07-21 17:01  kitagawa

	* pool_proto_modules.c: Fix CommandComplete so that it doesn't
	  crash when executing DEALLOCATE in Simple query protocol.

2010-07-21 16:08  kitagawa

	* pool_proto_modules.c: Merge Revision 1.59.

2010-07-21 16:05  t-ishii

	* pool_proto_modules.c: Fix hungup when simple error query issued.

2010-07-21 14:31  kitagawa

	* pool.h, pool_proto_modules.c, pool_proto_modules.h: Add function
	  parse_before_bind() which is used in Load balance mode.  Add
	  function overwrite_map_for_deallocate() which is used to overwrite
	  where_ot_send map by a specified query context.  Add length and
	  contents arguments to private functions that process message.
	  Remove pending_function variable.  Change ReadyForQuery() so that it
	  does not destroy a query context in extended query protocol.
	  Refactor following functions.
	  - Parse()
	  - Execute()
	  - ProcessFrontendResponse() Add private functions that process
	  message.
	  - Bind()
	  - Describe()
	  - Close()
	  - FunctionCall3()
	  - ParseComplete()
	  - BindComplete()
	  - CloseComplete()
	  - CommandComplete()
	  - ErrorResponse3()

2010-07-21 14:16  kitagawa

	* pool_process_query.c: Divide a part of pool_process_query() into
	  ProcessBackend().  Divide SimpleForwardToFrontend() into private
	  functions.  Divide SimpleForwardToBackend() into private functions.
	  send_sync_to_recover() is not used now.

2010-07-21 14:06  kitagawa

	* pool_session_context.c, pool_session_context.h: Fix bug that did
	  not clear a list at pool_clear_prepared_statement_list().  Fix bug
	  that change state of query_in_progres flag at
	  pool_remove_prepared_statement_by_pstmt_name().  Change variables of
	  list so that they are not pointer.  Change
	  pool_create_prepared_statement() so that it does not copy a query
	  context.  Remove pending_function variable.  Move static functions
	  to the end.  Add length variable and contents variable to
	  PreparedStatement structure.  These variables hold the contents of
	  Parse message.  Add following flags.
	  - doing_extended_query_message
	  - ignore_till_sync
	  - pool_status_stmt

2010-07-21 13:33  kitagawa

	* pool_query_context.c, pool_query_context.h (tags: V3_1_0_ALPHA1,
	  V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2,
	  V3_0_0_BETA1): Add memory_context variable.  Add query_state
	  variable that represent state of extended query.  Add function
	  pool_set_query_state().  Add support for "NO LOAD BALANCE" comment.
	  Remove unused variables.

2010-07-21 11:59  t-ishii

	* pool_query_context.c: Fix send_to_where so that all transaction
	  commands are sent to primary.

2010-07-21 09:41  t-ishii

	* pool_proto_modules.c: Fix ProcessFrontendResponse so that
	  Function call request to be processed properly in master/slave mode.

2010-07-20 23:08  t-ishii

	* pool_proto_modules.c, pool_query_context.c, pool_query_context.h:
	  Do not start internal transaction if taget backend is only one.  If
	  SAVEPOINT/ROLLBACK TO/RELEASE SAVEPOINT, send to primary only.

2010-07-20 17:52  t-ishii

	* pool_rewrite_outfuncs.c (tags: V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1): Support 9.0's new VACUUM syntax.

2010-07-20 17:07  t-ishii

	* parser/: copyfuncs.c (tags: V3_0_3, V3_0_3_BETA1, V3_0_2), gram.c
	  (tags: V3_0_3, V3_0_3_BETA1, V3_0_2), gram.y (tags: V3_0_3,
	  V3_0_3_BETA1, V3_0_2), outfuncs.c, parsenodes.h (tags: V3_0_3,
	  V3_0_3_BETA1, V3_0_2) (utags: V3_0_0, V3_0_0_BETA1, V3_0_0_BETA2,
	  V3_0_0_BETA3, V3_0_0_RC1, V3_0_1, V3_1_0_ALPHA1): Support 9.0's
	  new VACUUM syntax.

2010-07-20 17:04  t-ishii

	* pool_process_query.c: Fix is_internal_transaction_needed. Add
	  lots of missing query type appeared in 9.0 (still our parser does
	  not parse some of them).

2010-07-20 17:03  t-ishii

	* pool_query_context.c: Fix where_to_send so that DEALLOCATE ALL
	  case works properly.

2010-07-19 21:02  t-ishii

	* pool_proto_modules.c, pool_query_context.c,
	  pool_session_context.c, pool_session_context.h: Add modules to
	  handle where to send map for SQL level PREPARE/EXECUTE/DEALLOCATE.
	  This is used for non-extended protocol only.

2010-07-19 14:46  t-ishii

	* pool_query_context.c: Add char *query parameter to
	  is_2pc_transaction_query and send_to_where. For now, it is not used,
	  but soon we need to take care about SQL comments.

2010-07-18 15:11  t-ishii

	* pool_proto_modules.c: Fix SimpleQuery so that statements our
	  parser does not understand are sent to all nodes(in replication
	  mode) or primary/master node.

2010-07-18 15:09  t-ishii

	* pool_query_context.c: Fix where_to_send. DISCARD statement should
	  be sent to all DB nodes.

2010-07-15 14:06  t-ishii

	* pool_proto_modules.c: Fix ReadyForQuery so that it does not crush
	  when some of DB nodes goes down.

2010-07-14 17:58  t-ishii

	* pool_process_query.c: Remove unnecessary variable.  Fix
	  pool_process_query() so that it checks healthy backend when
	  executing reset_query.

2010-07-14 17:10  t-ishii

	* pool_query_context.c: Fix pool_start_query and
	  pool_virtual_master_db_node_id so that they use REAL_MASTER_NODE_ID,
	  rather than 0.  This is neccessary when primary node (0) goes down.

2010-07-14 16:40  t-ishii

	* Makefile.am, Makefile.in, pool_config.c, pool_config.l,
	  pool_config_md5.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1): pgpool links shared
	  memory version of pool_config.l On the other hand pg_md5 links
	  private memory version of pool_config.l.  This commit does some
	  dirty tricks by creating a fake source file.

2010-07-14 16:37  t-ishii

	* pool_worker_child.c: Check health DB nodes before doing delay
	  checking.

2010-07-14 13:53  t-ishii

	* main.c, doc/pgpool-en.html, doc/pgpool-ja.html: Add new meta
	  character "%H" which represents the host name of the new master node
	  to failover/failback command.

2010-07-14 13:51  t-ishii

	* pool_proto_modules.c: Fix typo in comment.

2010-07-13 17:41  t-ishii

	* pool_proto_modules.c, pool_query_context.c, pool_query_context.h,
	  pool_session_context.c, pool_session_context.h: Support 2PC
	  commands in SR+HS mode.  Import read/write query map from PostgreSQL
	  9.0. Although our parser does not support:
	  T_AlterDefaultPrivilegesStmt T_DoStmt T_AlterTableSpaceOptionsStmt

2010-07-13 17:36  t-ishii

	* pool_process_query.c: Fix end_internal_transaction: Use
	  INTERNAL_TRANSACTION_STARTED macro at proper position.

2010-07-13 17:34  t-ishii

	* pool_worker_child.c: Try to recover from temporary connection
	  failure.

2010-07-13 17:33  t-ishii

	* child.c: Fix typo in debug message

2010-07-13 10:00  kitagawa

	* pool_proto_modules.c, pool_session_context.c,
	  pool_session_context.h: Fix SimpleQuery(). Now it execute EXECUTE
	  and DEALLOCATE statement correctly.

2010-07-12 11:37  t-ishii

	* pool_session_context.c, pool_session_context.h: Fix typo.

2010-07-11 22:53  t-ishii

	* pool.h, pool_config.c, pool_process_query.c,
	  pool_proto_modules.c, pool_proto_modules.h, pool_query_context.c,
	  pool_query_context.h, pool_session_context.c,
	  pool_session_context.h: Allow load balancing even in an explicit
	  trasaction.

2010-07-11 22:52  t-ishii

	* main.c: Fix main so that pool_config debug out is enabled by
	  command line optioin -d.

2010-07-11 13:09  t-ishii

	* pool_session_context.c, pool_session_context.h: Now transaction
	  state is managed per backend.

2010-07-10 20:18  t-ishii

	* child.c, pool.h, pool_lobj.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pool_process_query.c, pool_proto2.c,
	  pool_proto_modules.c, pool_proto_modules.h, pool_query_cache.c
	  (tags: V3_0_0_BETA2, V3_0_0_BETA1), pool_query_context.c,
	  pool_rewrite_query.c: Now transaction state is per backend.
	  Change TSTATE macro.  Add new INTERNAL_TRANSACTION_STARTED macro.
	  Made appropreate changes to other modules.

2010-07-10 20:13  t-ishii

	* pool_config.c, pool_config.l: Add ifdef not to declare unnessary
	  variable(int dist_num;).

2010-07-10 20:10  t-ishii

	* pool_hba.c, pool_hba.conf.sample (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), doc/pgpool-en.html,
	  doc/pgpool-ja.html: Add md5 checking in pool_hba.conf.  Also add
	  description about pg_md5's md5 support.

2010-07-09 10:14  kitagawa

	* pool_timestamp.c, pool_timestamp.h (tags: V3_1_0_ALPHA1, V3_0_1,
	  V3_0_0, V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1):
	  Fix rewrite_timestamp() so that it use PreparedStatement instead of
	  Portal.

2010-07-09 10:08  kitagawa

	* child.c, pool_process_query.c, pool_proto_modules.c,
	  pool_proto_modules.h: Change pool_process_query.c,
	  pool_proto_modules.c and child.c so that they use session_context
	  and query_context.

2010-06-30 09:31  kitagawa

	* pool_session_context.c, pool_session_context.h: Add structures:
	  PreparedStatement, Portal, PreparedStatementList and PortalList.
	  Add functions to operate these structures.

2010-06-30 09:12  kitagawa

	* pool_query_context.c, pool_query_context.h: Add extended query
	  protocol support to pool_send_and_wait().

2010-06-28 19:15  kitagawa

	* main.c: Fix description about immediate mode of --help.

2010-06-28 19:08  kitagawa

	* Makefile.am, Makefile.in: Forgot to add README.online-recovery.

2010-06-28 18:14  t-ishii

	* pool_session_context.c: Fix bug with session context
	  initialization. To reproduce the bug: num_init_children = 1 connect
	  as a user connect as another user and you get a segfault.

2010-06-28 08:18  t-ishii

	* pg_md5.c, pool_passwd.c (tags: V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2), pool_passwd.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2) (utags: V3_0_0_BETA1): Forgot to add pool_passwd.c
	  pool_passwd.h.  Modulaize pool_passwd update function.

2010-06-28 07:39  t-ishii

	* pool_query_context.c: Add missing header file.

2010-06-27 22:02  t-ishii

	* Makefile.am, Makefile.in, main.c, md5.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pcp_child.c, pg_md5.c, pool.h,
	  pool_auth.c, pool_config.c, pool_config.h, pool_config.l,
	  pool_globals.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1), pool_hba.c,
	  pool_type.h, pcp/md5.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1): Implement
	  md5 authentication using pool_passwd.  Still need to rewrite
	  documents and pgpool.config samples.

2010-06-21 14:54  t-ishii

	* Makefile.am: Forgot to add new files.

2010-06-21 14:46  t-ishii

	* main.c, pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pgpool.conf.sample-stream,
	  pool_config.c, pool_config.h, pool_config.l,
	  pool_process_reporting.c, pool_query_context.c, pool_type.h,
	  pool_worker_child.c, doc/pgpool-en.html, doc/pgpool-ja.html:
	  First cut of standby server lag checking in streaming replication
	  mode. New directive delay_threshold and log_standby_delay added.
	  See docs for more details.

2010-06-20 19:31  t-ishii

	* pool_query_context.c: Fix pool_where_to_send in case of
	  SELECT+transaction case.

2010-06-20 16:41  t-ishii

	* Makefile.am, Makefile.in, child.c, main.c, pool.h, pool_config.h,
	  pool_worker_child.c: Add pool_worker_child.c which implements new
	  worker process for checking standby lagging in streaming
	  replication.  Also remove unnecessary variables in child.c.

2010-06-19 10:56  t-ishii

	* child.c: Remove unnecessary variable.  Tweak comments.

2010-06-17 18:11  t-ishii

	* pg_md5.c: Add proper header comments.  Use getopt_long, rather
	  than homebrew command analysis routine.  Add --md5auth argument(just
	  a mock up)

2010-06-14 14:29  t-ishii

	* configure, configure.in: Change next version no. from 2.4-current
	  to 3.0-dev.

2010-06-14 08:53  t-ishii

	* pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, doc/pgpool-en.html,
	  doc/pgpool-ja.html: Add description of
	  client_idle_limit_in_recover = -1 case.

2010-06-11 18:24  t-ishii

	* pool.h, pool_config.c, pool_config.h, pool_config.l,
	  pool_process_query.c, pool_query_context.c: Master/slave +
	  Streaming Replicaton first cut.

2010-06-11 16:07  t-ishii

	* pool_proto_modules.c: Call pool_query_context_destroy instead of
	  pool_unset_query_in_progress in ReadyForQuery.

2010-06-11 16:05  t-ishii

	* pool_process_query.c: Make start_load_balance and
	  end_load_balance to empty functions.

2010-06-11 12:46  t-ishii

	* pool_process_query.c, pool_proto_modules.c, pool_query_context.h:
	  Remove unnessary global variables.

2010-06-10 19:05  t-ishii

	* pool.h, pool_connection_pool.c, pool_process_query.c,
	  pool_query_context.c, pool_query_context.h,
	  pool_session_context.c: Fix MASTER* macros not to use global
	  variable in_load_balance.

2010-06-10 15:47  t-ishii

	* Makefile.in, pool_config.c: Forgot to commit delivered files.

2010-06-10 15:46  t-ishii

	* pool_proto_modules.c: Unbrake SimpleQuery(). Now it handles
	  master/slave mode correctly.

2010-06-10 15:45  t-ishii

	* pool_process_query.c: Remove unnessary statement. It's now in
	  VALIAD_BACKEND macro.

2010-06-10 15:42  t-ishii

	* pool.h: Change definition of REPLICATION/MASTER_SLAVE Do not
	  refer to pool_config->replication_enabled, master_slave_enabled

2010-06-10 10:54  t-ishii

	* main.c: Fix comment: pool_status -> pgpool_status

2010-06-09 20:33  t-ishii

	* main.c, doc/pgpool-en.html, doc/pgpool-ja.html: Fix typo in help
	  message from main program.  Add description about --discard-status
	  to docs.  Fix description about replication_stop_on_mismatch.

2010-06-09 11:03  t-ishii

	* main.c: Add -D (--discard-status) argument not to restore
	  previous down status.

2010-06-08 17:34  kitagawa

	* Makefile.am, pool_process_query.c, pool_proto2.c,
	  pool_proto_modules.c, pool_proto_modules.h: Refactor
	  pool_proto_modules.c.  Now it is divided into pool_proto_modules.c
	  and pool_proto2.c.  pool_proto2.c has functions that correspond to
	  protocol 2.0.

2010-06-08 14:39  kitagawa

	* pool_config.l, pool.h: Fix pgpool.conf boolean variables to take
	  the same range of string values as postgresql.conf.

2010-06-07 17:29  t-ishii

	* pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pool_config.c, pool_config.h,
	  pool_config.l, pool_process_reporting.c, doc/pgpool-en.html,
	  doc/pgpool-ja.html: Add master_slave_sub_mode

2010-06-06 20:14  t-ishii

	* pool_process_query.c, pool_proto_modules.c, pool_proto_modules.h,
	  pool_query_context.c, pool_rewrite_query.c,
	  pool_session_context.c, pool_session_context.h: Remove
	  in_progress global variable.

2010-06-06 19:17  t-ishii

	* pool_process_query.c, pool_proto_modules.c, pool_stream.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1): To avoid direct access to stream
	  buffer from abstraction point of view, add two macros: #define
	  pool_read_buffer_is_empty(connection) #define
	  pool_discard_read_buffer(connection)

2010-06-04 16:39  t-ishii

	* Makefile.am, Makefile.in, pool.h, pool_process_query.c,
	  pool_proto_modules.c, pool_query_cache.c, pool_query_context.c,
	  pool_query_context.h, pool_session_context.c,
	  pool_session_context.h: Add query context module.

2010-06-03 14:48  t-ishii

	* pool_type.h: MAX_CONNECTION_SLOTS should be equal to
	  MAX_NUM_BACKENDS.

2010-06-02 19:06  t-ishii

	* pool_proto_modules.c, pool_rewrite_query.c, pool_rewrite_query.h
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1): Refactoring simpleQuery part 1. Move
	  some parallel query processing to pool_rewrite_query.c.  Also fix
	  sloppy coding (no "#ifdef...") of pool_rewrite_query.h.

2010-06-02 19:04  t-ishii

	* pool_relcache.c: Fix typo.

2010-06-02 18:23  t-ishii

	* child.c, pool.h, pool_relcache.c, pool_session_context.c,
	  pool_session_context.h: Remove LocalSessionId, which is not
	  neccessary any more.

2010-06-02 17:51  t-ishii

	* Makefile.am, Makefile.in, child.c, pool.h,
	  pool_connection_pool.c, pool_process_context.c,
	  pool_process_context.h, pool_session_context.c,
	  pool_session_context.h: Add session context module.

2010-06-02 15:52  t-ishii

	* Makefile.am, Makefile.in, child.c, pool.h,
	  pool_connection_pool.c, pool_process_context.c,
	  pool_process_context.h: Introduce process context module

2010-06-02 11:05  t-ishii

	* child.c: Make system DB connection initialize process to static
	  function.  Refactoring effort.

2010-06-01 18:25  t-ishii

	* main.c, pool.h: Change ProcessInfo pids -> ProcessInfo
	  process_info.  The former name was too generic.

2010-06-01 18:02  t-ishii

	* Makefile.am, Makefile.in, child.c, main.c, pcp_child.c, pool.h,
	  pool_auth.c, pool_config.c, pool_config.l,
	  pool_connection_pool.c, pool_error.c, pool_hba.c, pool_ip.c
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pool_lobj.c, pool_process_query.c,
	  pool_config.h, pool_process_reporting.c, pool_proto_modules.c,
	  pool_query_cache.c, pool_relcache.h (tags: V3_0_0_BETA1),
	  pool_rewrite_query.c, pool_ssl.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pool_stream.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pool_system.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pool_timestamp.c, recovery.c: Create
	  pool_config.h and move pool_config.l related declarations there.

2010-05-31 16:08  t-ishii

	* Makefile.am, Makefile.in, child.c, pool.h, pool_auth.c,
	  pool_connection_pool.c, pool_hba.c, pool_process_query.c,
	  pool_process_reporting.c, pool_proto_modules.c,
	  pool_query_cache.c, pool_ssl.c, pool_stream.c, pool_stream.h: Add
	  pool_stream,h Move function declarations of pool_stream.c to
	  pool_stream.h

2010-05-31 15:58  t-ishii

	* config.h.in (tags: V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1), configure:
	  Fix to add linking neccesary libraries when SSL enabled.

2010-05-30 12:42  t-ishii

	* configure.in: Fix to add linking neccesary libraries when SSL
	  enabled.

2010-05-27 15:17  t-ishii

	* test/C/: Makefile, test_extended.c (utags: V3_0_0, V3_0_0_BETA1,
	  V3_0_0_BETA2, V3_0_0_BETA3, V3_0_0_RC1, V3_0_1, V3_0_2, V3_0_3,
	  V3_0_3_BETA1, V3_1_0_ALPHA1, V3_1_0_WITHOUT_FOLLOW_COMMAND): Add
	  C test program

2010-05-26 16:59  t-ishii

	* pool.h: Remove following unsed entry.  int	current_slot;	/*
	  current backend slot # */

2010-05-26 15:32  t-ishii

	* doc/pgpool-ja.html: Improve documentation about
	  num_init_children.

2010-05-26 15:21  t-ishii

	* pool.h, pool_lobj.c, pool_lobj.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), pool_process_query.c,
	  pool_proto_modules.c, pool_relcache.c, pool_relcache.h,
	  pool_timestamp.c: Refactoring pool.h
	  - Remove long standing comment out lines
	  - Move pool_relcache.c pool_lobj extern declarations to separate
	    header files

2010-05-24 16:25  t-ishii

	* pcp/pcp_stream.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1): Fix bug with
	  pcp_check_fd()'s timeout handling.  Per erboles.

	  Subject: [Pgpool-general] question about pcp_check_fd Date: Sun, 23
	  May 2010 18:21:41 -0500 To: pgpool <pgpool-general@pgfoundry.org>

2010-05-20 04:08  t-ishii

	* pool.h, pool_process_query.c, pool_ssl.c: Fix SSL connection
	  sometimes hung if lots of data read from backend.  This is caused by
	  the buffering in OpenSSL layer. To fix the problem, we check the
	  buffer has any pending data by using SSL_pending() before calling
	  select(2).

	  See thread [Pgpool-general] Fwd: PGPOOL II 2.3.3 hang in ssl mode
	  for more details.

2010-05-16 21:37  gleu

	* main.c, pcp/pcp_attach_node.c, pcp/pcp_detach_node.c,
	  pcp/pcp_node_count.c, pcp/pcp_node_info.c, pcp/pcp_proc_count.c,
	  pcp/pcp_proc_info.c, pcp/pcp_recovery_node.c,
	  pcp/pcp_stop_pgpool.c, pcp/pcp_systemdb_info.c: Add support for
	  long options.

2010-05-16 17:38  t-ishii

	* main.c: Subject: Re: [Pgpool-general] pg_terminate_backend
	  triggers failover on pgpool when used as standalone pool From:
	  Tatsuo Ishii Date: Wed, 12 May 2010 22:08:31 +0900 (JST)

	  It seems the problem occurs when there's only one DB node.

	  1) it tries to failover to non existing node

	  2) it makes the node into down status which might not what you want.

	  #1 is purely a bug. I fix this and for #2 I'm leaning to change
	  existing behavior.

	  - In row mode and if there's only one DB node, if a problem occurs
	    with the DB node, it will be brought to down status. However if
	    the DB node goes into good condition again, you can use the DB
	    node without restarting pgpool.

	  - In other mode the behavior is not changed.

2010-05-12 18:02  t-ishii

	* pool_error.c: Fix typo for supporting debug_level

2010-05-12 13:58  t-ishii

	* main.c, pgpool.conf.sample, pgpool.conf.sample-master-slave,
	  pgpool.conf.sample-replication, pool.h, pool_config.c,
	  pool_config.l, pool_error.c, pool_process_reporting.c,
	  doc/pgpool-en.html, doc/pgpool-ja.html: Add new directive
	  "debug_level" to be able to turn on/off debug messages on the fly.
	  Although it is possible to assign 1 more integer to specify
	  vervosity, currently there is no infrastracture to make it reality.
	  Probably we will add new api pool_debug2, pool_debug3... for this
	  purpose later on.

	  Also I make the debug message control global variable "debug" for
	  pcp commands only. This means pgpool -d does not show debug messages
	  from pcp anymore. This is neccessary to prevengt from generating
	  meaningless, annoying debug messages by pcp when health checking is
	  turned on. It might be worth to add another command option to pgpool
	  so that pcp generates debug messages, but I'm not sure.

2010-05-10 18:35  kitagawa

	* pool_process_query.c: Fix SimpleForwardToFrontend() so that it
	  reset select_in_transaction flag and execute_select flag when bind
	  error occurred while executing SELECT.

2010-04-23 15:53  t-ishii

	* test/parser/expected/v84.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1): Add missing file

2010-04-22 17:10  t-ishii

	* main.c, pool_connection_pool.c, pool_ip.c, pool_lobj.c,
	  pool_process_query.c, parser/copyfuncs.c, parser/gram.c,
	  parser/gram.y, parser/makefuncs.c (tags: V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1), parser/outfuncs.c, pcp/pcp.c: Fix
	  compiler warnings. Patch contributed by Takahiro Itagaki.

2010-04-20 13:43  t-ishii

	* NEWS: Prepare 2.3.3

2010-04-18 22:43  t-ishii

	* pool_config.c, pool_config.l, pool_process_query.c,
	  doc/pgpool-en.html, doc/pgpool-ja.html: Allow to use -1 for
	  client_idle_limit_in_recovery. This forces to immediately disconnect
	  clients even if they are not idle before entering online recovery
	  second stage. This is usefull for busy systems.

2010-04-17 17:56  t-ishii

	* configure, configure.in, version.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1): Version 2.4-CURRENT

2010-04-16 13:16  kitagawa

	* pool_config.c (tags: V2_3_3): parallel_mode requires
	  replication_mode or load_balance_mode turned on.  This fix is
	  consistent with the description of manual.

2010-04-13 13:14  t-ishii

	* child.c, main.c, pool_connection_pool.c (utags: V2_3_3): Fix long
	  standing bug which causes segfault of pgpool child process.  This
	  was caused buy miscalculation of shmem size in pgpool parent.  The
	  bug appears in at least following sequence in 64bit linux platform:

	  1) set max_pool = 1 and num_init_children = 30
	  2) connect to the pgpool child which was forked lastly
	  3) let pgpool child die by SIGQUIT and fork (i.e. failover,
	     child_life_time timeout etc.)
	  4) if tries to connect to #3 child, it segfaults

	  This bug has been there since pgpool-II 1.0 was born.

	  Bug analysis by Toshihiro Kitagawa.

2010-04-05 16:34  kitagawa

	* doc/: pgpool-en.html (tags: V2_3_3), pgpool-ja.html: Add
	  restriction for parallel mode.  This is the same description as the
	  manual of V2_2_STABLE.

	  - The Natural Join is not supported.
	  - The USING CLAUSE is converted to ON CLAUSE by query rewrite
	  process.

2010-03-25 13:24  kitagawa

	* pool_config.l (tags: V2_3_3): parallel_mode requires
	  replication_mode or load_balance_mode turned on.  This fix is
	  consistent with the description of manual.

2010-03-19 21:55  kitagawa

	* pool_rewrite_outfuncs.c (tags: V2_3_3): Fix possible crash during
	  rewriting JOIN syntax that have USING in parallel query mode.

	  This fix is supporting such as following JOIN syntax.

	  example:
	  - SELECT * FROM a JOIN b USING (aid) JOIN c USING (cid);
	  - SELECT * FROM a JOIN b USING (aid) JOIN c USING (cid) JOIN d USING
	  (did); etc.

2010-03-19 21:24  kitagawa

	* pool_rewrite_query.c (tags: V2_3_3): Fix getInsertRule() so that
	  it can parse INSERT statements that have current_time before a
	  partitioning key column.

	  See [pgpool-general-jp: 712] for more details.

2010-03-19 20:53  kitagawa

	* pool_config.l: parallel_mode requires replication_mode turned on.
	  See [pgpool-general-jp: 719] for more details.

2010-03-19 20:39  kitagawa

	* pool_process_query.c (tags: V2_3_3): Fix SimpleForwardToBackend()
	  so that pgpool doesn't keep waiting for reply from a backend, when
	  clients using the extended query protocol cause a command error such
	  as bind error.

	  This bug occur in raw mode or connection pool mode.  This fix is,
	  sending SYNC message to recover error after command error.

2010-03-19 16:31  t-ishii

	* child.c: Fix SIGINT/SIGQUIT is ignored if pgpool child is in
	  select(). In this case pgpool retries select() thus the signal is
	  ignored. See following thread for more details.

	  Subject: [Pgpool-general] The Unplugged wire From: Daniel Codina To:
	  pgpool-general@pgfoundry.org Date: Mon, 1 Mar 2010 15:19:00 +0100

2010-03-19 16:23  t-ishii

	* pool_proto_modules.c (tags: V2_3_3): Fix typo in comment.

2010-03-09 15:18  t-ishii

	* pgpool.conf.sample-master-slave (tags: V2_3_3): Change default
	  value for insert_lock to false since there's no point in turning
	  this on in master/slave mode. Fix suggested by Fujii Masao.

2010-03-06 21:54  t-ishii

	* pcp_child.c (tags: V2_3_3), pool.h (tags: V2_3_3),
	  pool_connection_pool.c: Fix connect_inet_domain_socket_by_port/
	  connect_unix_domain_socket_by_port so that they check if
	  SIGTERM/SIGINT/SIGQUIT signal has been delivered.  Per bug report
	  from Daniel Codina. See: Subject: Re: [Pgpool-general] The Unplugged
	  wire Date: Thu, 4 Mar 2010 15:20:37 +0100

2010-03-05 15:49  kitagawa

	* pool_process_query.c: Fix possible crash during creating "kind
	  mismatch" error message.  This used to work but was broken in 2.3.2.

2010-03-03 09:31  t-ishii

	* child.c, main.c, pool.h, pool_connection_pool.c: Fix bug with
	  healh checking. If a network problem such as unplugged wire happens
	  while calling connect(), health checking does not work since
	  connect_unix_domain_socket()/connect_inet_domain_socket() do retry
	  if connect() is interrupted by ALARM signal. Added new retry
	  argument which controls the retrying behavior to those functions.
	  Per bug report and problem analysis by Daniel Codina.  See following
	  message for more details.  Subject: [Pgpool-general] The Unplugged
	  wire Date: Mon, 1 Mar 2010 15:19:00 +0100

2010-03-03 00:31  t-ishii

	* pool_process_query.c: Fix enbug in 2.3.2.2 with time stamp
	  rewriting in SimpleForwardToBackend. Per bug report from Bugtrack
	  #1010771.  Report from Peter Pramberge.

2010-03-03 00:25  t-ishii

	* main.c: Fix comment.

2010-03-02 18:55  kitagawa

	* pool_rewrite_outfuncs.c: Import patch at revision 1.15.2.4.

	  Fix rewriting "*" in paralell query.  Patch conributed by sho-san.

2010-02-28 21:39  t-ishii

	* README.online-recovery (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3):
	  Internal document for online recovery

2010-02-28 18:22  t-ishii

	* pool_connection_pool.c: Fix typo.

2010-02-27 13:21  t-ishii

	* pool_connection_pool.c: Fix connect_inet_domain_socket_by_port()
	  so that it print out error message by using hstrerror(), rather than
	  strerror().

2010-02-22 14:20  t-ishii

	* ChangeLog (tags: V2_3_2_2): Prepare for 2.3.2.2.

2010-02-22 14:18  t-ishii

	* doc/pgpool-ja.html (tags: V2_3_2_2): prepare for 2.3.2.2.

2010-02-22 13:49  t-ishii

	* NEWS, configure, configure.in (utags: V2_3_2_2): Prepare 2.3.2.2

2010-02-22 12:53  t-ishii

	* pool_proto_modules.c (tags: V2_3_2_2): Fix parse(). When
	  rewriting timestamp query, it allocated less than what it actually
	  needed.

2010-02-17 23:00  t-ishii

	* pool_timestamp.c (tags: V2_3_3, V2_3_2_2): Fix
	  bind_rewrite_timestamp. It crashes if param length is -1, that
	  indicates NULL.

2010-02-13 20:23  t-ishii

	* main.c (tags: V2_3_2_2): Fix read_status_file so that if all
	  nodes were marked down status, it is regarded that this file is
	  bogus. This will prevent "all node down" syndrome.

2010-02-11 18:40  t-ishii

	* ChangeLog, doc/pgpool-ja.html (utags: V2_3_2_1): Prepare 2.3.2.1

2010-02-11 18:35  t-ishii

	* doc/pgpool-ja.html, NEWS (tags: V2_3_2_1): Prepare 2.3.2.1

2010-02-11 18:29  t-ishii

	* configure, configure.in (utags: V2_3_2_1): Prepare 2.3.2.1

2010-02-10 18:41  t-ishii

	* pool_process_query.c (tags: V2_3_2_2, V2_3_2_1): Fix
	  pool_extract_error_message not to write past end of message_buf.
	  This causes kind = 0 error on some platforms/gcc combo. Patch
	  contributed by Akio Ishida.  Minor tweak by Tatsuo.

2010-02-07 16:20  t-ishii

	* ChangeLog, NEWS, doc/pgpool-ja.html (utags: V2_3_2): Prepare
	  2.3.2

2010-02-07 16:04  t-ishii

	* pool_process_query.c (tags: V2_3_2): Fix read_kind_from_backend
	  so that it properly checks the return value from
	  pool_extract_error_message.

2010-02-07 12:08  t-ishii

	* pool_process_query.c: Enhance read_kind_from_backend.  If kind
	  mismatch error occurs and command is DEALLOCATE, print original
	  prepared query which DEALLOCATE tries to delete.

2010-02-07 12:05  t-ishii

	* pool_proto_modules.c (tags: V2_3_2_1, V2_3_2): Fix SimpleQuery if
	  DEALLOCATE received, register pending function.

2010-02-07 12:04  t-ishii

	* main.c (tags: V2_3_2_1, V2_3_2): Fix I/O check in reading/writing
	  status file.

2010-02-04 09:31  t-ishii

	* pool_ssl.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2): Change
	  pool_error to pool_log when backend does not support SSL but pgpool
	  does.

2010-02-03 19:31  t-ishii

	* pool_ssl.c: All previously handled errors related to the OpenSSL
	  engine are now handled with a macro and a small static function in
	  order to both produce more informative errors as well as commonize
	  some duplicate code in pool_ssl.c

	  Patch contributed by Sean Finney

2010-02-03 17:11  t-ishii

	* pool.h (tags: V2_3_2_2, V2_3_2_1, V2_3_2), pool_process_query.c,
	  pool_proto_modules.c: Emit statement log when error or notice
	  message comes from backend when SimpleQuery or Parse executed.  This
	  is usefull because PostgreSQL does not log particular statement if
	  the error was detected *before* raw parser get executed.  This
	  typlically happens when encoding error was found.

2010-02-02 14:45  t-ishii

	* TODO (tags: V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1,
	  V3_0_0, V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1,
	  V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2): Sync TODO with 2.3.2

2010-02-02 14:44  t-ishii

	* doc/: pgpool-en.html (tags: V2_3_2_2, V2_3_2_1, V2_3_2),
	  pgpool-ja.html: Add description about how to sync sequences in
	  online recovery

2010-02-02 14:43  t-ishii

	* pool_process_query.c: Fix typo in comment

2010-02-01 18:05  t-ishii

	* child.c (tags: V2_3_2_2, V2_3_2_1, V2_3_2), pool.h,
	  pool_process_query.c, pool_timestamp.c (tags: V2_3_2_1, V2_3_2),
	  test/timestamp/expected/insert.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2),
	  test/timestamp/input/insert.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2):
	  Fix timestamp rewritting.  Fix number of parameters of Prepare.  Fix
	  prepared statement list to be reset when connection_cache = false.
	  Patch contributed by Akio Ishida.

2010-01-31 22:28  t-ishii

	* pool_ssl.c: Include string.h for strlen

2010-01-31 12:15  t-ishii

	* ChangeLog: Update ChangeLog

2010-01-31 11:55  t-ishii

	* pool_process_reporting.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1,
	  V2_3_2): Add lobj_lock_table, ssl, ssl_key and ssl_cert.

2010-01-31 11:54  t-ishii

	* pool_lobj.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2): Fix error
	  message

2010-01-31 11:22  t-ishii

	* NEWS, configure (tags: V2_3_2), configure.in (tags: V2_3_2),
	  pgpool.conf.sample (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2),
	  pgpool.conf.sample-master-slave (tags: V2_3_2_2, V2_3_2_1,
	  V2_3_2), pgpool.conf.sample-replication (tags: V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2), pool.h, pool_config.c (tags: V2_3_2_2,
	  V2_3_2_1, V2_3_2), pool_config.l (tags: V2_3_2_2, V2_3_2_1,
	  V2_3_2), pool_ssl.c, doc/pgpool-en.html, doc/pgpool-ja.html:
	  Prepare 2.3.2.

2010-01-30 10:57  t-ishii

	* pool_process_query.c, pool_proto_modules.c: Fix parse() so that
	  it does not use already-freeed memory when sending rewritten packet
	  for timestamp support.  Also fix SimpleForwardToBackend() to free
	  rewritten packet in proper timing.

2010-01-26 23:49  t-ishii

	* Makefile.am (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2),
	  Makefile.in (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2), child.c,
	  config.h.in (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2),
	  configure, configure.in, main.c, pgpool.conf.sample,
	  pgpool.conf.sample-master-slave, pgpool.conf.sample-replication,
	  pool.h, pool_config.c, pool_config.l, pool_ssl.c, pool_stream.c
	  (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2): Add SSL support.
	  Patch contributed by Sean Finney.
	  -------------------------------------------------------------------
	  The new pool_ssl.c provides the necessary functions for negotiating
	  SSL based connections for both frontend and backend connections.
	  child.c has been updated to request the negotiation in both cases,
	  and pool_stream.c has been modified to use SSL based i/o functions
	  if a connection has successfully negotiated a connection.

	  SSL related failures should be handled as gracefully as possible.
	  For frontend connections, the client is allowed to continue in
	  cleartext in the case that SSL negotiation was not successful.  For
	  backend connections, plaintext connections should continue as well,
	  modulo any pg_hba restrictions on the remote server.  It is also
	  possible to have connections where only one of the frontend/backend
	  uses SSL.

	  By default this functionality is off (further testing should be done
	  and perhaps better controls on certificate verification, etc).

	  New fields are added to the global pool configuration to allow
	  specifying SSL related settings:

	   * "ssl", global on/off switch (default: off)
	   * "ssl_cert", path to SSL public certificate (default: "")
	   * "ssl_key", path to SSL private key (default: "")

	  The sample pgpool.conf files have been updated with comments and
	  sample values for these new settings.

	  The autoconf build system has been updated with a new
	  "--with-openssl" option to allow enabling/disabling SSL support at
	  build time.  For simplicity and clarity no effort is made to provide
	  extra flexibility similar to the existing
	  --with-pgsql{,-include-dir,lib-dir} ./configure flags.  In the
	  meantime it's expected that the necessary flags are provided via
	  CFLAGS/LDFLAGS etc when calling ./configure.

2010-01-26 18:53  t-ishii

	* pool.h, pool_lobj.c, pool_process_query.c, pool_relcache.c (tags:
	  V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2), pool_timestamp.c,
	  test/timestamp/main.c (tags: V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2):
	  Teach do_query to support V2 protocol. This will solve the problem
	  with pgpool-II 2.3 user who are experiencing error while using V2
	  dirvers (for example unixODBC). See [Pgpool-general] Bug report
	  pgpool-II-2.3.1 plus ODBC submitted on Tue, 12 Jan 2010 12:46:35
	  -0500 for this kind of use case.  Patch contributed by Toshihiro
	  Kitagawa.

2010-01-24 00:21  t-ishii

	* Makefile.am, Makefile.in, pgpool.conf.sample, pool.h,
	  pool_config.c, pool_config.l, pool_lobj.c, pool_process_query.c:
	  Add support for large object creation in replication mode.  We
	  rewrite lo_creat function call to lo_create which allow us to
	  specifiy large object id. The missing argument for lo_create is
	  taken by: SELECT coalesce(max(loid)::INTEGER, 0)+1 FROM
	  pg_catalog.pg_largeobject; To avoid race condion, we add new
	  directive called lobj_lock_table which is used to aquire lock while
	  grabing above value.  New source file pool_lobj.c added.

2010-01-21 16:41  t-ishii

	* pool_process_query.c, pool_proto_modules.c: Fix
	  SimpleForwardtoBackend so that it sends Bind, Describe and Close
	  message to only master node if running in master/slave and in
	  transaction.

2010-01-19 16:23  kitagawa

	* child.c: Fix do_child() so that check_stop_request() exits
	  immediately when smart shutdown signal has been sent.  This has been
	  used to work in 2.2.

2010-01-17 17:42  t-ishii

	* pool_rewrite_outfuncs.c (tags: V2_3_2_2, V2_3_2_1, V2_3_2): Add
	  standard pgpool Global Development Group header comments.  This was
	  missing from the day one of the file.

	  Fix _rewriteGrantStmt to suppress compiler warnings.  (This is not
	  an actual fix, just make it cleaner that we are missing some
	  implementations).

2010-01-17 17:19  t-ishii

	* pool_timestamp.c: Fix bind_rewrite_timestamp when used with
	  paramFormats being specified and more than two parameters exist.
	  Patch contributed by Akio Ishida.  See [pgpool-general-jp: 670] for
	  more details.

2010-01-09 18:15  t-ishii

	* pool_proto_modules.c: Fix ProcessFrontendResponse not to accept
	  invalid frotend packet.  Patch contributed by Xavier Noguer.

2010-01-09 18:10  t-ishii

	* child.c, pool.h, pool_process_query.c: Remove unused argument
	  first_ready_for_query_received from pool_process_query.  Also change
	  argument "connection_reuse" to reset_request which is more
	  appropreate one.  While processing reset_request is true, we don't
	  read from frontend any data because after received terminate
	  request, anything from from frontend must be bogus and should be
	  ignored.  Remove unsed variable first_ready_for_query_received from
	  do_child.

2010-01-02 18:32  t-ishii

	* child.c:
	   I found what I think is a small error allocating memory in the
	  make_persistent_db_connection() function in child.c. The amount of
	  memory allocated is more than it should be, so it's actually
	  harmless.

	  Patch contributed by Xavier Noguer.

2010-01-02 18:17  t-ishii

	* pool_connection_pool.c (tags: V2_3_2_2, V2_3_2_1, V2_3_2),
	  pool_process_query.c, pool_proto_modules.c, pool_relcache.c: Fix
	  warnings when compiling on 64bit platforms.

2009-12-25 10:59  t-ishii

	* pool_proto_modules.c: Do not force replication of DEALLOCATE if
	  operated in master/slave mode. Now that pgpool do not execute PARSE
	  in all nodes, this was pointless and caused problem (kind mismatch
	  when executing DEALLOCATE).

2009-12-25 10:58  t-ishii

	* pool_process_query.c: Fix sloppy coding in parse_copy_data. Add
	  error checking for malloc. Remove meaningless strerror.

	  Fix sloppy coding in send_dealllocate. If failed to malloc, return
	  -1, rather than horrible exit(1).

2009-12-23 18:30  t-ishii

	* main.c, recovery.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2):
	  While health checking and recovery use postgres database if
	  possible.  If postgres database does not exist, use template1 as it
	  stands now.  While connecting template1, certain commands, for
	  example DROP DATABSE cannot used. Using postgres database allows to
	  use these commands while recovery.

2009-12-18 17:18  t-ishii

	* doc/pgpool-ja.css (tags: V3_0_0_BETA1, V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2, V2_3_1): Add css file for Japanese.

2009-12-18 17:16  t-ishii

	* NEWS, doc/pgpool-ja.html, ChangeLog (utags: V2_3_1): Prepare for
	  2.3.

2009-12-18 16:09  t-ishii

	* Makefile.am, Makefile.in, c-compiler.m4 (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2),
	  c-library.m4 (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2), config.h.in, configure, configure.in,
	  general.m4 (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2), parser/Makefile.in (tags: V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2),
	  pcp/Makefile.in (tags: V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_3_2_2, V2_3_2_1, V2_3_2) (utags: V2_3_1): Fix bugtrack
	  [#1010740] BigInt distortion in pgpool-II 2.3 version, when NOW()
	  use. This bug only exists on 64bit platforms.

	  This was caused by that following code in parser/scan.l does not
	  work properly on 64bit platforms because HAVE_LONG_INT_64 is not
	  defined.  To fix this we steal part of PostgreSQL's configure and
	  some m4 macros.

	  					long val;
	  					char* endptr;

	  					SET_YYLLOC();
	  					errno = 0;
	  					val = strtol(yytext, &endptr, 10);
	  					if (*endptr != '\0' || errno == ERANGE #ifdef HAVE_LONG_INT_64
	  						/* if long > 32 bits, check for overflow of int4 */
	  						|| val != (long) ((int32) val) #endif
	  						)
	  					{
	  						/* integer too large, treat it as a float */
	  						yylval.str = pstrdup(yytext);
	  						return FCONST;
	  					}
	  					yylval.ival = val;
	  					return ICONST;

2009-12-18 09:30  t-ishii

	* pool_process_reporting.c (tags: V2_3_1): Fix crush with show
	  pool_status when there many (more than 18) DB nodes.

2009-12-16 18:35  t-ishii

	* main.c (tags: V2_3_1): Enhance pgpool start up log.

2009-12-16 16:27  t-ishii

	* pool_process_query.c (tags: V2_3_1): Fix sloppy coding of
	  detect_erorr(). Check memory allocation error, check buffer overrun
	  error.

2009-12-16 16:19  t-ishii

	* pool.h (tags: V2_3_1), pool_process_query.c: Enhance "kind
	  mismatch" message. If kind is ERROR or NOTICE, print the
	  ERROR/NOTICE message to help users to find what's going on.  For
	  this pupose, add new function pool_extract_error_message() into
	  pool_process_query.c.

2009-12-07 20:47  t-ishii

	* Makefile.am, Makefile.in: Forgot to add sample pgpool.conf files.

2009-12-07 18:41  t-ishii

	* doc/pgpool-ja.html (tags: V2_3): Change release date

2009-12-07 18:38  t-ishii

	* NEWS (tags: V2_3), doc/pgpool-en.html (tags: V2_3_1, V2_3),
	  doc/pgpool-ja.html, ChangeLog (tags: V2_3): Prepare 2.3

2009-12-07 17:11  t-ishii

	* pool_process_query.c (tags: V2_3): Allow to load balance EXPLAIN
	  and EXPLAIN ANALYZE (only if query is SELECT). This will prevent
	  kind mismatch errors when query plan are different among servers.

2009-12-06 21:55  t-ishii

	* main.c, pool.h, pool_type.h (tags: V2_3_3, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1) (utags: V2_3): Restore backend status by using
	  pgpool_status file.

2009-12-06 20:53  t-ishii

	* version.h (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1,
	  V2_3): Change code name for pgpool-II 2.3

2009-12-06 18:57  t-ishii

	* pgpool.conf.sample-master-slave, pgpool.conf.sample-replication
	  (utags: V2_3, V2_3_1): Add pgpool.conf sample for replication
	  mode and master/slave mode

2009-12-06 17:46  t-ishii

	* pgpool.conf.sample (tags: V2_3_1, V2_3), pool.h, pool_config.c
	  (tags: V2_3_1, V2_3), pool_config.l (tags: V2_3_1, V2_3),
	  pool_process_query.c, pool_process_reporting.c (tags: V2_3),
	  pool_stream.c (tags: V2_3_1, V2_3): Add new configuration
	  parameter fail_over_on_backend_error which controls the behavior
	  when write to backend socket fails.

	  Also add pool_log when postmaster administrative shutdown detected.

2009-12-06 16:52  t-ishii

	* pool_process_query.c, pool_proto_modules.c (tags: V2_3_1, V2_3):
	  Ignore error of pool_flush(frontend).

2009-12-06 16:46  t-ishii

	* pool_proto_modules.c: Optimization when num_init_children == 1.
	  In this case we don't need to wait for master returning a response
	  before sending a query to the other nodes.

2009-12-06 16:43  t-ishii

	* Makefile.am (tags: V2_3), Makefile.in (tags: V2_3),
	  pool_process_query.c, pool_process_reporting.c: Teach
	  process_reporting() about log_per_node_statement.  Also refactor
	  pool_process_query.c to remove process_reporting() and make a new
	  source file "pool_process_reporting.c" to hold the funtcion. Main
	  reason for this is, process_reporting() is now big enough to have a
	  separate C source file.

2009-12-02 23:19  t-ishii

	* child.c (tags: V2_3_1, V2_3), pool.h, pool_process_query.c:
	  Enhance SIGINT handler.

2009-12-02 23:11  t-ishii

	* pool_proto_modules.c: Fix ProcessFrontendResponse() handling of
	  Parse message in master/slave mode. If it's inside transaction,
	  enable master_slave_dml, which means execute parse on master only.
	  This will prevent unwanted parase executed on slave, which holds at
	  least AccessShareLock on tables until transaction commits.  It seems
	  unamed statement does not release the lock until execute.

	  Please note that, even with this fix, bind state will remain on
	  slave if JDBC issues parse with autocommit off. This is because
	  BEGIN parsed, bind on both master and slave but execute only on
	  master. However, this is not harmfull since parse/bind does not hold
	  any locks on tables.

	  Also add some logging statemets.

2009-11-29 20:56  t-ishii

	* pool_process_query.c: Fix is_select_query() not to allow cursor
	  statements.  Close() should not allowed since hold cursor + update
	  may cause data inconsistency.

2009-11-29 17:42  t-ishii

	* pool_process_query.c: Add logging by per_node_statement().

2009-11-18 15:45  t-ishii

	* config.h.in, configure, configure.in (utags: V2_3): Add -lcrypt
	  for linking commnad. Certain distribution ships libpq without
	  linking to libcrypt by some reasons which I don't know.

2009-11-15 20:16  t-ishii

	* ChangeLog: Run cvs2cl.pl -t --fsf -b -F trunk

2009-11-15 17:27  t-ishii

	* pgpool.conf.sample, pool.h, pool_config.c, pool_config.l,
	  pool_process_query.c, pool_proto_modules.c, pool_relcache.c
	  (tags: V2_3_1, V2_3): Add new directive log_per_node_statement.
	  If true, print all statements to the log. Similar to log_statement
	  except that prints DB node id and backend process id info.

2009-11-15 17:05  t-ishii

	* pool_config.c, pool_config.l: Set change default value of
	  reset_query_list to "ABORT, DISCARD ALL"

2009-11-14 22:22  t-ishii

	* child.c, pool.h, pool_process_query.c, pool_proto_modules.c,
	  pool_proto_modules.h (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3): Fix connection_cache = false case. In this mode,
	  if frontend exits abnormaly, some global state variables are not
	  reset. For this purpose, new function reset_variables() added.

	  Remove unnecessary argument of end_load_balance().

2009-11-14 20:41  t-ishii

	* pool_config.c: Update pool_config.l

2009-11-14 20:40  t-ishii

	* pool_config.l: Allow to change weight with reloading pgpool.conf

2009-11-14 20:35  t-ishii

	* main.c: Limit listen(2)'s backlog parameter to
	  num_init_children*2 at largest.  This is almost same algorithm as
	  PostgreSQL.  I hope pgpool-II does not consume so much system
	  resource any more...

2009-11-14 08:35  t-ishii

	* pool_timestamp.c, test/timestamp/expected/insert.out,
	  test/timestamp/expected/misc.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2),
	  test/timestamp/expected/update.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2)
	  (utags: V2_3, V2_3_1): Fix some query rewriting cases.

2009-11-12 16:37  t-ishii

	* pgpool.conf.sample: Change reset_query_list default to PostgreSQL
	  8.3.

2009-11-12 16:04  t-ishii

	* pool_process_query.c: Prepare for bind_rewrite_timestamp()
	  returns NULL case. This could happen if SELECT now() is called
	  inside an aborted transaction.

	  Fix SimpleForwardToBackend free rewrite_msg too early.

2009-11-11 10:53  t-ishii

	* pool_timestamp.c: Fix comment.

2009-11-10 19:03  t-ishii

	* Makefile.am, Makefile.in, pool_process_query.c,
	  pool_proto_modules.c, pool_proto_modules.h, pool_timestamp.c,
	  pool_timestamp.h (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/timestamp/Makefile (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/timestamp/main.c (tags: V2_3_1, V2_3),
	  test/timestamp/parse_schedule (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/timestamp/run-test (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/timestamp/expected/insert.out,
	  test/timestamp/expected/misc.out,
	  test/timestamp/expected/update.out,
	  test/timestamp/input/insert.sql (tags: V2_3_1, V2_3),
	  test/timestamp/input/misc.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/timestamp/input/update.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3): Add support for CURRENT_TIMESTAMP and friends.
	  Patch provided by Akio Ishida.

2009-11-10 11:24  t-ishii

	* main.c: Fix comment.

2009-11-05 15:26  t-ishii

	* pool_relcache.c: Fix relcache replacement logic bug.  Patches
	  provided by Akio Ishida.

2009-11-05 12:43  t-ishii

	* ChangeLog, TODO (tags: V2_3_1, V2_3), parser/outfuncs.c (tags:
	  V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_3),
	  test/parser/expected/insert.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/parser/expected/select.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/parser/input/insert.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/parser/input/select.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3): Fix nodeToString() bug. example test case: If
	  nodeToString() is given the parse tree of "insert into r1
	  values(1,2), (3,4)", it returns "insert into r1 values(1,2),
	  values(3,4)", which is apparently wrong.  Patch provided by Akio
	  Ishida.

2009-11-04 22:59  t-ishii

	* pool_process_query.c: Fix do_query() to return more than 1
	  characters. Patch provided by Akio Ishida.

2009-11-03 20:14  devrim

	* pgpool.spec (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2, V2_3_1, V2_3):
	  - Remove init script from all runlevels before uninstall. Per #RH
	    Bugzilla 532177

2009-11-03 11:00  t-ishii

	* pool.h, pool_auth.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), pool_process_query.c: When authentication fails,
	  report to frontend proper error messages, rather than unhelpfull
	  "server closed the connection unexpectedly" message. Patch provided
	  by Glyn Astill with minor tweak by Tatsuo Ishii.

2009-11-03 10:50  t-ishii

	* pool_stream.c: Fix pool_flush_it() so that it does not complain
	  when failed to flush to frontend. Also add info to the message if it
	  was backend or frontend to avoid confusion.

2009-10-30 14:11  t-ishii

	* pool_proto_modules.c: Allow is_temp_table to work with pre 8.4
	  PostgreSQL.

2009-10-29 22:44  t-ishii

	* Makefile.am, Makefile.in, child.c, configure, configure.in,
	  pool.h, pool_process_query.c, pool_proto_modules.c: Add
	  pool_relcache.c to Makefile.am.  Refactor need_insert_lock to use
	  pool_search_relcache and friends.  Add LocalSessionId to child.c
	  which manage per session counter of relcache.  Allow to use temp
	  tables with master/slave mode. Parse() failed.  since Parse() was
	  always sent to master and slave and slave does not have the temp
	  table. To fix this, is_temp_table() added to pool_proto_modules.c
	  which inquire particular table is a temporary one or not when
	  INSERT/UPDATE/DELETE. If it's a temporary table, parse message is
	  sent to only master. Note that /*NO LOAD BALANCE*/ directive can be
	  used to control this.  SELECT still needs /*NO LOAD BALANCE*/. It's
	  hard to find all tables in a SELECT statement.

2009-10-29 21:46  t-ishii

	* pool_relcache.c: Per process relation cache module

2009-10-25 16:19  t-ishii

	* test/jdbc/: CreateTempTableTest.java, expected/CreateTempTable,
	  RunTest.java (utags: V2_3, V2_3_1, V2_3_2, V2_3_2_1, V2_3_2_2,
	  V2_3_3, V3_0_0, V3_0_0_BETA1, V3_0_0_BETA2, V3_0_0_BETA3,
	  V3_0_0_RC1, V3_0_1, V3_0_2, V3_0_3, V3_0_3_BETA1, V3_1_0_ALPHA1,
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): Add temp table test

2009-10-22 20:52  devrim

	* redhat/: pgpool.init, pgpool.sysconfig (utags: V2_3, V2_3_1,
	  V2_3_2, V2_3_2_1, V2_3_2_2, V2_3_3, V3_0_0, V3_0_0_BETA1,
	  V3_0_0_BETA2, V3_0_0_BETA3, V3_0_0_RC1, V3_0_1, V3_0_2, V3_0_3,
	  V3_0_3_BETA1, V3_1_0_ALPHA1, V3_1_0_WITHOUT_FOLLOW_COMMAND): Fix
	  logging, per report from Toshihiro Kitagawa.

2009-10-21 23:39  t-ishii

	* pool_process_query.c: Do not execute CREATE/DROP TABLE SPACE
	  inside a transaction block.

	  Teach do_command() that S (parameter status) should be ignored until
	  receiving command complete.

2009-10-21 23:05  t-ishii

	* main.c: Let reaper() report the case when child died by segfault.

2009-10-12 11:21  t-ishii

	* pgpool.8.in (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2, V2_3_1, V2_3): Fix typo in man page. Patch
	  provided by Rodolphe.

2009-10-12 10:54  t-ishii

	* pool_process_query.c: REINDEX DATABASE or SYSTEM should not be
	  executed in a transaction block. See [pgpool-general-jp: 623] for
	  more details.

2009-10-06 00:12  devrim

	* pgpool.spec:
	   Add 2 new docs, per Tatsuo.

2009-10-05 19:38  devrim

	* pgpool.spec:
	  - Update to 2.2.5, for various fixes described at

	  http://lists.pgfoundry.org/pipermail/pgpool-general/2009-October/002188.html
	  - Re-apply a fix for Red Hat Bugzilla #442372
	  - Sync with Fedora spec.

2009-10-04 08:52  t-ishii

	* doc/: tutorial-en.html, tutorial-ja.html (utags: V2_3, V2_3_1,
	  V2_3_2, V2_3_2_1, V2_3_2_2, V2_3_3, V3_0_0_BETA1): Add sample to
	  use rotatelogs

2009-10-03 21:39  t-ishii

	* sample/pgpool_recovery_pitr (tags: V2_3_3, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_3): Enhance online recovery 2nd stage script
	  to sync sequence value

2009-10-03 20:55  t-ishii

	* pool_proto_modules.h: Remove unnecessary declaration
	  "allow_close_transaction"

2009-10-02 17:00  t-ishii

	* pool_proto_modules.c: Prevoius commit was incomplete

2009-10-02 16:56  t-ishii

	* pool_proto_modules.c: Fix Parse() to use
	  wait_for_query_response() instead of synchronize().

2009-10-02 16:53  t-ishii

	* pool_process_query.c: Fix comment

2009-09-26 18:14  t-ishii

	* pool_proto_modules.c: Allow to print more accurate query when
	  Parse() detects kind mismatch errors.

2009-09-26 16:51  t-ishii

	* pool_process_query.c: Fix reset_backend to deal with DEALLOCATE
	  error. In this case prepared objects are not removed and
	  reset_backend is infinitely called.

	  Fix do_command to guard against the case that after execution of an
	  SQL command, the backend does not return either N, E or C. This
	  should not happen but there was a report that it actually happend in
	  certain cases(maybe caused by asynchronized backend data?)

	  See:

	  Subject: Re: [Pgpool-general] pgpool 2.2.4: DEALLOCATED children
	  From: Xavier Noguer Date: Fri, 25 Sep 2009 03:35:57 -0400

	  For more details.

	  Patches by Xavier Noguer with minor tweak by Tatsuo Ishii.

2009-09-26 09:27  t-ishii

	* pool_process_query.c: Remove error checks for
	  pool_write(frontend), pool_flush(frontend) in
	  SimpleForwardToFrontend.

	  Check error for send_deallocate() in reset_backend. Otherwise
	  send_deallocate will be called infinitely.  Per bug report from
	  Agustin Almonte Ferrada. See:

	  Subject: Re: [Pgpool-general] pgpool 2.2.4: DEALLOCATED children
	  From: Agustin Almonte Ferrada <aalmonte@antica.cl> To: Tatsuo Ishii
	  <ishii@sraoss.co.jp> Cc: pgpool-general@pgfoundry.org Date: Wed, 23
	  Sep 2009 01:55:54 -0400

2009-09-26 09:05  t-ishii

	* pool_process_query.c: FIX parallel query

	  	     1. Fix JOIN Expr
	  	          Subquery was used on larg or rarg.
	  	          Subquery was used on ON-Cluase.
	  	          Full OUTER JOIN was not optimized.　　
	  	     2. Fail_on_error=false was passed to the 3rd arguments of
	  	     dblink.

	  This patch was applied to only 2.2-STABLE tree by y-mori on
	  2009/09/08.

2009-09-25 16:35  t-ishii

	* main.c: Fix write_pid_file. It forgot to write out NULL
	  termination of pid. Pgpool occasionally won't stop because of this
	  bug.

2009-09-23 11:03  t-ishii

	* pool_auth.c: Fix pool_read_kind and pool_read_int so that the
	  error message for kind is shown in hexadecimal. Other part of
	  pgpool-II already does this.

2009-09-17 20:32  t-ishii

	* pool_process_query.c, pool_proto_modules.c, pool_proto_modules.h:
	  Teach do_command() to use wait_for_query_response().  insert_lock()
	  calls do_command() to issue LOCK TABLE to lock tables having SERIAL
	  column when insert_lock is true. Problem is, insert_lock() waits
	  forever in do_command() if the target table is locked by someone
	  else. This patch should give a way insert_lock() to espcape from the
	  situation.

2009-09-06 12:56  t-ishii

	* child.c, pool.h: Fix connection_count_down() so that it does
	  decrement too much in some corner cases.  If failed to read a start
	  up packet, or receive cancel request etc., connection_count_down()
	  is called and goes back to the onnection accept loop. Problem is, at
	  the very beginning of the connection accept loop, if we have
	  received a signal, we call child_exit() which calls
	  connection_count_down() again.  Problem report by Ryoichi TANABE.
	  See [pgpool-general-jp: 616] for more details.

	  Also unneccesary public declarations for connection_count_up() and
	  connection_count_down() are removed.

2009-09-06 12:54  t-ishii

	* pool_process_query.c: Undef #define SEND_NOTICE_ON_PROTO2, which
	  was defined by mistake.

2009-08-22 13:04  t-ishii

	* child.c, main.c, md5.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), pcp_child.c (tags: V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), pg_md5.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_3), pool_auth.c, pool_config.c,
	  pool_connection_pool.c (tags: V2_3_1, V2_3), pool_error.c (tags:
	  V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_3), pool_hba.c
	  (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_3),
	  pool_ip.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1,
	  V2_3), pool_params.c (tags: V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), pool_path.c (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_3), pool_process_query.c,
	  pool_proto_modules.c, pool_query_cache.c (tags: V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2, V2_3_1, V2_3), pool_rewrite_outfuncs.c (tags:
	  V2_3_1, V2_3), pool_rewrite_query.c (tags: V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_3), pool_sema.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), pool_shmem.c (tags: V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), pool_signal.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), pool_stream.c, pool_system.c (tags: V2_3_3,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_3), ps_status.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), recovery.c (tags: V2_3_1, V2_3), strlcpy.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), pcp/md5.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_3): Remove unnecessary spaces and tabs at end
	  of line.  Patch conributed by Jun Kuriyama.

2009-08-20 15:26  t-ishii

	* pool_process_query.c: Fix possible bug introduced in pgpool-II
	  2.2.2.  Load balance control variables may remain not be restored
	  and subsequent DML/DDL call might sent to only master node.

2009-08-18 17:41  t-ishii

	* pool_process_query.c, pool_proto_modules.c, pool_proto_modules.h:
	  Change wait_for_query_response() so that it sends NOTICE message to
	  frontend periodically. It appears that pgpool-II 2.2.3
	  unconditionaly sends param packet to client even it uses version 2
	  protocol, which is apparentlt wrong. Also tweak checking period from
	  1 second to 30 seconds since 1 second seems too aggressive.  Note
	  that you need to edit pool_process_query.c to define
	  SEND_NOTICE_ON_PROTO2 around line 879 to enable this feature in
	  version 2 protocol.

2009-08-18 17:30  t-ishii

	* child.c: Remove unneccessary call to send_frontend_exit() in
	  do_child().

2009-08-13 22:40  t-ishii

	* child.c: Remove unnessary call of send_frontend_exits() in die().

2009-08-13 22:39  t-ishii

	* main.c: Block signals before forking children rather after.
	  Otherwise parent will be killed by failover signal if it receives
	  before establish signal handler. See [pgpool-general-jp: 586] for
	  more details.

2009-08-11 22:23  t-ishii

	* pool_connection_pool.c: Fix new_connection() so that it does
	  leave garbage in POOL_CONNECTION_POOL->slot[i]. This caused segfault
	  in child_exit().  Bug report at [pgpool-general-jp: 586].

2009-08-06 20:38  t-ishii

	* Makefile.in: Update Makefile.am

2009-08-06 18:11  t-ishii

	* Makefile.am: Add parser/test files. Patch contributed by Akio
	  Ishida.

2009-08-06 16:55  t-ishii

	* pool_proto_modules.c: Print last query for kind mismatch error
	  message even extended protocol is used. Patch contributed by Akio
	  Ishida.

2009-08-06 16:46  t-ishii

	* pool_process_query.c: Fix buffer overrun error which mangled kind
	  mismatch error message in pool_send_error_message().  Bug rpeort by
	  Takahiro Itagaki at [pgsql-jp: 39950].  Fix suggested by Akio Ishida
	  at [pgsql-jp: 39952].

2009-08-03 19:31  t-ishii

	* parser/: kwlist.h, kwlookup.c (utags: V2_3, V2_3_1, V2_3_2,
	  V2_3_2_1, V2_3_2_2, V2_3_3, V3_0_0, V3_0_0_BETA1, V3_0_0_BETA2,
	  V3_0_0_BETA3, V3_0_0_RC1, V3_0_1, V3_0_2, V3_0_3, V3_0_3_BETA1,
	  V3_1_0_ALPHA1): Missing files for PostgreSQL 8.4 paraser
	  adaoptation.  Patch contributed by Akio Ishida.

2009-08-01 20:41  t-ishii

	* child.c: Check MASTER_CONNECTION(p)->sp) is non 0 before further
	  referring to sp. Current implementation may interrupt in the window,
	  after setting p and before setting sp.

2009-08-01 20:34  t-ishii

	* pool_connection_pool.c: Fix pool_debug's mismatch between data
	  type and conversion specification for time_t.  Check
	  MASTER_CONNECTION(p)->sp) is non 0 before further referring to sp.
	  Current implementation may interrupt in the window, after setting p
	  and before setting sp.

2009-08-01 12:20  t-ishii

	* test/parser/: parse_schedule, input/v84.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND) (utags: V2_3, V2_3_1, V2_3_2,
	  V2_3_2_1, V2_3_2_2, V2_3_3, V3_0_0, V3_0_0_BETA1, V3_0_0_BETA2,
	  V3_0_0_BETA3, V3_0_0_RC1, V3_0_1, V3_0_2, V3_0_3, V3_0_3_BETA1,
	  V3_1_0_ALPHA1): parser test for PostgreSQL 8.4 or later.  Patch
	  contributed by Akio Ishida.

2009-07-30 23:44  t-ishii

	* pool_process_query.c, pool_rewrite_outfuncs.c, pool_type.h,
	  parser/Makefile.am (tags: V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), parser/Makefile.in (tags: V2_3),
	  parser/copyfuncs.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), parser/gram.c (tags: V2_3_3, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_3), parser/gram.h (tags: V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), parser/gram.y (tags: V2_3_3, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_3), parser/keywords.c (tags: V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2, V2_3_1, V2_3), parser/keywords.h (tags: V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2, V2_3_1, V2_3), parser/makefuncs.c (tags:
	  V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_3),
	  parser/makefuncs.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2, V2_3_1, V2_3), parser/nodes.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), parser/nodes.h (tags: V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), parser/outfuncs.c, parser/parsenodes.h (tags:
	  V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_3),
	  parser/parser.c (tags: V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), parser/pool_memory.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), parser/pool_parser.h (tags: V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), parser/primnodes.h (tags: V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/parser/Makefile (tags: V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/parser/expected/copy.out (tags: V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2, V2_3_1, V2_3), test/parser/expected/create.out
	  (tags: V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1,
	  V3_0_0, V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1,
	  V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_3),
	  test/parser/expected/cursor.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/parser/expected/delete.out (tags: V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2, V2_3_1, V2_3), test/parser/expected/insert.out,
	  test/parser/expected/misc.out (tags: V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/parser/expected/prepare.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/parser/expected/privileges.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3), test/parser/expected/select.out,
	  test/parser/expected/update.out (tags: V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3): Adopt PostgreSQL 8.4 parser. Patch contributed by
	  Akio Ishida.

2009-07-28 09:34  t-ishii

	* pool_process_query.c: Fix typo in comment

2009-07-26 18:14  t-ishii

	* pool_rewrite_outfuncs.c: Fix breakage by previous commit.  Patch
	  by Guillaume Lelarge.

2009-07-26 12:09  t-ishii

	* pool_rewrite_outfuncs.c: fix: Join statment in parallel query

	       sample)
	       Accouts table is defined by dist_def,
	       the below query is executed as loadbalance.

	       SELECT a.aid
	         FROM
	           accounts as a
	         JOIN
	           accounts as b
	         ON  a.aid=b.aid
	         WHERE a.aid =1 or a.aid=2;

2009-07-26 12:01  t-ishii

	* pool_process_query.c: Fix comment about load balancing.

2009-07-26 11:57  t-ishii

	* pool_sema.c: Fix various pool_error/log format errors.  Patch
	  provided by Akio Ishida.

2009-07-22 17:51  t-ishii

	* child.c, main.c, pool.h, pool_process_query.c,
	  pool_proto_modules.c, pool_rewrite_outfuncs.c, pool_shmem.c: Fix
	  various pool_error/log format errors.  Patch provided by Akio
	  Ishida.

2009-07-22 17:26  t-ishii

	* pool_process_query.c, pool_proto_modules.c, pool_proto_modules.h:
	  Query cancel by statement timeout does not generate "kind mismatch"
	  error any more.  How to reproduce the test case:

	  Directory connect to PostgreSQL.  T1: BEGIN; T1: LOCK TABLE t1;

	  T2: SET statement_timeout TO 5000; T2: UPDATE t1 SET ...

	  UPDATE query aborts and error message comes out on T2: ERROR:
	  canceling statement due to statement timeout

	  A side effect of this is, statement timeout works correctly (rather
	  than statement timeout value * # of node).

	  Note that to initiate T1 by directory connecting to slave node will
	  not work (still results in kind mismatch error). But I don't think
	  this could happend in the real world.

	  Also refactor error detecting modules (detect_deadlock_error and so
	  on).

2009-07-21 18:48  t-ishii

	* main.c: Check read(2) error in health_check(). This should detect
	  case described in message below, i.e. postmaster is blocked by
	  SIGSTOP.

	  Subject: [Pgpool-general] Healt Check issues From: Vctrjsn@gmail.com
	  To: pgpool-general@pgfoundry.org Date: Sun, 05 Jul 2009 18:01:18
	  +0000

2009-07-21 10:43  t-ishii

	* pool.h, pool_proto_modules.c: Check frontend connection while
	  waiting for response from backend for extended protocol (Execute()).
	  Replace synchronize() with wait_for_query_response().  Also tweak
	  pool.h so that it includes cancel packet's mazic proto number.

2009-07-21 09:30  t-ishii

	* pool_process_query.c: Do not start transaction if the command is
	  CLUSTER with no argument

2009-07-20 21:21  t-ishii

	* child.c, pool.h, pool_process_query.c, pool_proto_modules.c,
	  pool_proto_modules.h: Check frontend connection while waiting for
	  response from backend.  This is done in wait_for_query_response() by
	  writing a dummy parameter status packet to pgpool client every 1
	  second. If the write fails, a cancel packet is sent to backend to
	  free backend.  This is usefull to prevent pgpool child from waiting
	  forever for backend response. Pgpool client will diconnect to pgpool
	  if the query takes too long. This is typical use case for Web
	  applications.

2009-07-20 21:16  t-ishii

	* pool_process_query.c: Fix bug with SimpleForwardToFrontend().
	  Clients using the extend protocol send 'H'(Flush) after each
	  command. Problem is, SimpleForwardToFrontend does not immediately
	  forward 'C'(Command Complete) packet to frontend. So the client
	  sends 'H' and wait for 'C'. On the other hand backend receives 'H'
	  but reply back nothing since Command complete has nothing to be
	  returned. Both side stuck.

	  The fix is, forwarding 'C' packet immediately after receiving it
	  from backend. To prevent similar bugs happen in the future, I put
	  pool_flush(frontend) after calling SimpleForwardToFrontend in
	  pool_process_query() (other places already do this).

	  The extra pool_flush() might harm performance. So I did some tests
	  using pgbench -S, and found nothing has been changed regarding
	  performance after patching.

	  Bug report from Gavin Sherry along with patches for
	  SimpleForwardToFrontend().

2009-07-20 21:06  t-ishii

	* pool.h, pool_process_query.c: Add pool_set_timeout() to control
	  pool_check_fd()'s behavior.  This can be used for various places.
	  The first user is reset_backend() to fix following scenario: Do
	  COPY_FROM(for example pgbench -i) Cancel pgbench pgpool waits for
	  response from backend while sending reset queries and hang.  Backend
	  waits for data coming from pgpool forever.

	  BTW, I don't think PostgreSQL's befaviro for COPY_FROM is quite
	  correct since the doc stats:"Receipt of any other non-copy message
	  type constitutes an error that will abort the copy-in state as
	  described above" If my understanding correct, COPY_FROM should abort
	  copy-in state if it receives ABORT (issued in reset_backend).  It
	  seems PostgreSQL is not implemented as stated in the doc...

2009-07-15 15:09  t-ishii

	* pool_process_query.c: Fix bug with prepared statement
	  deallocation:

	  Subject: [Pgpool-general] Pgpool probelms From: Nimesh Satam
	  <nimesh.satam@gmail.com> To: pgpool-general@pgfoundry.org Cc: Nimesh
	  Satam <nimesh.zedo@gmail.com> Date: Wed, 17 Jun 2009 11:31:37 +0530

	  This was caused a bug in reset_backend().

	  if (qcnt >= qn + prepared_list.cnt) {
	      reset_prepared_list(&prepared_list);
	      return 2; } send_deallocate(backend, &prepared_list, qcnt - qn);
	  return 1;

	  Problem is, send_deallocate -> SimpleQuery("DEALLOCATE") calls
	  del_prepared_list, which will decrement prepared_list.cnt. In short,
	  incrementing of qcnt *and* decrementing of prepared_list.cnt happen
	  at the same time. So deallocate is only called 1/2 times than it
	  should be.

	  Bug analysis and fix provided by Akio Ishida.

2009-07-14 17:39  t-ishii

	* sql/pgpool-recovery/pgpool-recovery.c (tags: V2_3_3, V2_3_2_2,
	  V2_3_2_1, V2_3_2, V2_3_1, V2_3): PostgreSQL 8.4 needs to include
	  utils/binutils.h

2009-05-24 17:43  t-ishii

	* sql/pgpool-recovery/Makefile (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3): Support pre 8.0 PostgreSQL which does not have
	  pg_config --pgxs option.  Patch provided by Enrico Pirozzi with
	  slight modification by Tatsuo Ishii

2009-05-12 10:01  t-ishii

	* doc/pgpool-en.html: Fix description of client_idle_limit

2009-05-02 17:48  t-ishii

	* pool_process_query.c: Fix is_select_query() to test "sql"
	  parameter is NULL.  As of 2.2, pgpool sets Portal->sql_string to
	  NULL for SQL command PREPARE.  Usually this is ok, since in most
	  cases SQL command EXECUTE follows anyway. Problem is, some
	  applications mix PREPARE with extended protocol command "EXECUTE"
	  and so on. Execute() seems to think this never happens but it is not
	  real. Someday we should extract actual query string from
	  PrepareStmt->query and set it to Portal->sql_string.

2009-05-02 17:45  t-ishii

	* pool_stream.c: Fix pool_flush() so that it ignores error on
	  frontend connection.  This is needed to continue processing with
	  backend, otherwise we risk data incositency.

2009-05-02 17:41  t-ishii

	* child.c: Call pool_send_frontend_exits() before pool_discard_cp()
	  when resetting connection fails. This will avoid "unexpected EOF on
	  client connection" error on when pgpool client exits abnormaly

2009-05-01 09:37  t-ishii

	* pool_proto_modules.c: Add missing patches for this:

	  date: 2009/04/08 11:12:11;  author: t-ishii;  state: Exp;  lines:
	  +15 -14 In master slave mode, sometimes DEALLOCATE fails. This is
	  caused by that the first PREPARE was not executed on the slave.
	  Patch contributed by Toshihiro Kitagawa.

2009-04-08 20:11  t-ishii

	* pool_proto_modules.c: In master slave mode, sometimes DEALLOCATE
	  fails. This is caused by that the first PREPARE was not executed on
	  the slave.  Patch contributed by Toshihiro Kitagawa.

2009-04-03 22:43  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html: Add documents about
	  configuration reloading.

2009-04-03 22:30  t-ishii

	* pool_proto_modules.c: Fix SimpleQuery() to properly check
	  extended query related commands.  Before it ignores them if query is
	  not NULL. This is problematic if frontend == NULL, which could
	  happen with queries defined in reset_query_list. The bug had been
	  there since 2.1 BTW.

2009-03-23 10:14  devrim

	* pgpool.spec, redhat/pgpool.init:
	  - Own /usr/share/pgpool-II directory.
	  - Fix pid file path in init script, per pgcore #81.
	  - Fix spec file -- we don't use short_name macro in pgcore spec
	  file.
	  - Create pgpool pid file directory, per pgcore #81.
	  - Fix stop/start routines, also improve init script a bit.
	  - Install conf files to a new directory (/etc/pgpool-II), and get
	    rid of sample conf files.

2009-03-23 10:13  devrim

	* redhat/pgpool.conf.sample.patch (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_3_2_2, V2_3_2_1, V2_3_2,
	  V2_3_1, V2_3): Add a patch which configures sample conf file to
	  match RPM and Red Hat defaults.

2009-03-14 12:39  t-ishii

	* pool_process_query.c: Fix need_insert_lock so that it returns
	  false if the protocol version is 2. insert_lock has not been working
	  for V2 protocol anyway, so this is ok.

2009-03-09 00:00  gleu

	* main.c, pgpool.8.in, doc/pgpool-en.html: Update usage function,
	  doc and man page.

2009-03-07 18:19  t-ishii

	* pool_process_query.c: Add a comment to need_insert_lock() if the
	  query being used to check if the table has SERIAL column is valid
	  for PostgreSQL 7.3 to 8.3.

2009-03-07 08:49  t-ishii

	* pool_process_query.c: Make excessive message level in
	  read_kind_from_backend from LOG to DEBUG.

2009-03-06 18:35  gleu

	* main.c: Add support for long options name in pgpool command.

2009-03-01 22:22  t-ishii

	* doc/pgpool-ja.html: Fix release note for 2.2

2009-02-28 15:29  t-ishii

	* Makefile.in: Update Makefile.am

2009-02-28 15:25  t-ishii

	* Makefile.am: Add doc/load_balance.png, doc/load_balance.odp

2009-02-28 13:45  t-ishii

	* ChangeLog, NEWS, TODO (tags: V2_2_3, V2_2_2, V2_2_1), configure
	  (utags: V2_2_0): Version 2.2

2009-02-28 13:40  t-ishii

	* configure.in (tags: V2_2_0): Version 2.2

2009-02-24 11:20  t-ishii

	* pool_auth.c (tags: V2_2_3, V2_2_2, V2_2_1), pool_process_query.c
	  (utags: V2_2_0): Prpare for receiving parameter status packets.

	  If postgresql.conf was changed and reloaded, PostgreSQL sends
	  parameter status packets asynchronously even those changed
	  parameters are not one of session_authorization etc., which is
	  marked as GUC_REPORT in guc.c(GUC_REPORT means parameter status
	  packet is sent if its value is changed).

	  After receiving those packets, they are discarded. I think this is
	  harmless since most of changes are not affected to the frontend
	  behavior.

2009-02-21 19:00  t-ishii

	* TODO, configure, ChangeLog (utags: V2_2_0_RC2): pgpool-II 2.2 RC2

2009-02-21 18:56  t-ishii

	* configure.in (tags: V2_2_0_RC2): pgpool 2.2 RC2

2009-02-21 18:52  t-ishii

	* doc/load_balance.png (tags: V3_0_0_BETA3, V3_0_0_BETA2,
	  V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1,
	  V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2): A load balance logic explanation figure

2009-02-21 18:47  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html (utags: V2_2_0, V2_2_0_RC2):
	  Add comment about rsync and autovacuum.

2009-02-20 10:34  t-ishii

	* pool_process_query.c (tags: V2_2_0_RC2): Fix
	  pool_send_frontend_exits() so that it checks the connection to
	  backend if it actually exists. This is needed, for example, in the
	  final stae of online recovery. pgpool child holds 1 connection to a
	  backend. After failback one more backend added but there's no
	  connection to the backend.

2009-02-17 18:50  t-ishii

	* pool_process_query.c: Do not start internal transaction if CREATE
	  INDEX CONCURRENTLY

2009-02-17 15:16  devrim

	* pgpool.spec (tags: V2_2_0, V2_2_0_RC2): Update to 2.2 (Download
	  URL is broken, since we don't know yet the pgfoundry download URL
	  yet)

2009-02-15 14:35  t-ishii

	* configure (tags: V2_2_0_RC1): run autoconf

2009-02-15 14:32  t-ishii

	* configure.in (tags: V2_2_0_RC1): 2.2 RC1

2009-02-15 14:31  t-ishii

	* ChangeLog (tags: V2_2_0_RC1): Update Changelog

2009-02-15 14:29  t-ishii

	* TODO (tags: V2_2_0_RC1): Mention that two items were resolved

2009-02-15 14:26  t-ishii

	* pgpool.conf.sample (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3,
	  V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2), doc/pgpool-en.html,
	  doc/pgpool-ja.html (utags: V2_2_0_RC1): Reflect the fact that
	  DISCARD ALL holds exclusive lock on pg_listener, thus will degrade
	  performance.

2009-02-10 10:11  t-ishii

	* pool_process_query.c (tags: V2_2_0_RC1): Fix
	  is_internal_transaction_needed() so that DROP DATABASE does not
	  start internal transaction

2009-02-07 21:57  t-ishii

	* configure (tags: V2_2_0_BETA2): Run autoconf

2009-02-07 21:57  t-ishii

	* configure.in (tags: V2_2_0_BETA2): Update version

2009-02-07 21:52  t-ishii

	* NEWS (tags: V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2): Update NEWS

2009-02-07 00:30  t-ishii

	* pool_process_query.c (tags: V2_2_0_BETA2): Add pid_file_name to
	  show pool_status

2009-02-05 17:24  t-ishii

	* doc/pgpool-ja.html (tags: V2_2_0_BETA2): Fix typo

2009-02-05 09:33  t-ishii

	* ChangeLog (tags: V2_2_0_BETA2): Run cvs2cl.pl -t --fsf

2009-02-05 09:30  t-ishii

	* doc/pgpool-ja.html: Add more fix to release info

2009-02-05 09:26  t-ishii

	* recovery.c (tags: V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2): Fix online recovery to wait for
	  failback done before allowing to accept connections from clients. It
	  was supposed to work like this but actually was not since the day 0
	  when online recovery was born. Without the fix there could be
	  potential data inconsistency among DB nodes.

2009-02-05 09:24  t-ishii

	* main.c (tags: V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2):
	  Fix/add comments

2009-02-01 19:13  t-ishii

	* NEWS: Add new item

2009-02-01 19:11  t-ishii

	* pool_process_query.c: Start internal transaction if necessary.
	  Before we only started transaction INSERT, UPDATE, DELETE and
	  SELECT. Obviously we need to start transaction other than these, for
	  example CREATE TABLE.  To avoid an overhead to look up large number
	  of statements (currently 70), we use bsearch() now.

2009-01-31 22:17  t-ishii

	* doc/pgpool-ja.html: Update release note

2009-01-30 17:15  t-ishii

	* test/jdbc/README.euc_jp (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2): Add comment how to add CLASSPATH

2009-01-30 09:06  y-mori

	* pool_rewrite_query.c, pool_rewrite_query.h (tags: V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4)
	  (utags: V2_2_0, V2_2_0_BETA2, V2_2_0_RC1, V2_2_0_RC2, V2_2_1,
	  V2_2_2, V2_2_3): Add comment

2009-01-28 15:48  t-ishii

	* NEWS: Add more items

2009-01-27 10:04  t-ishii

	* COPYING (tags: V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1,
	  V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2): Update copyright year

2009-01-25 20:13  t-ishii

	* NEWS, TODO (tags: V2_2_0_BETA2), configure, configure.in,
	  version.h (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2),
	  doc/pgpool-en.html (tags: V2_2_0_BETA2), doc/pgpool-ja.html
	  (utags: V2_2_0_BETA1): Prepare 2.2 beta1

2009-01-25 19:13  t-ishii

	* main.c, pool.h (tags: V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2), pool_config.l (tags: V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2), pgpool.conf.sample (tags: V2_2_0_BETA2),
	  pool_config.c (tags: V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2) (utags: V2_2_0_BETA1): Add
	  pid_file_name directive

2009-01-25 13:32  t-ishii

	* ChangeLog (tags: V2_2_0_BETA1): ChangeLog is now generated by
	  using cvs2cl.pl -t --fsf

2009-01-25 09:09  t-ishii

	* pool_rewrite_query.c (tags: V2_2_0_BETA1): Remove unused static
	  function check_whereClause() Update Copyright year

2009-01-24 20:34  t-ishii

	* pool.h: Include limit.h. This seems to be necessary Fedra box.
	  Update copyright year

2009-01-22 18:29  y-mori

	* pool_stream.c (tags: V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1): Fix different function name was used
	  in the error message.

2009-01-22 18:16  y-mori

	* pool_process_query.c (tags: V2_2_0_BETA1), pool_proto_modules.c
	  (tags: V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1), pool_rewrite_query.c, pool_rewrite_query.h (tags:
	  V2_2_0_BETA1): add the comment related to parallel query

2009-01-22 09:50  t-ishii

	* child.c (tags: V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1): Remove unnecessary function
	  declaration for child_exit()

	  Add comments to child_exit() which had no comments at all

	  Modify child_exit() so that it sends terminate mesagges before
	  exiting. This will prevent backend process from being idle waiting
	  for TCP keepalive event occurs.  This is not good since a backend
	  process may hold locking on certain tables.

2009-01-22 09:45  t-ishii

	* pool_process_query.c: Modify pool_send_frontend_exits() so that
	  it change fd to non block while sending terminate message (X) to
	  backend.  This should prevent pgpool from being blocked while
	  sending data to socket.

2009-01-21 10:43  t-ishii

	* pool_process_query.c: Add debug code and message

2009-01-18 22:54  t-ishii

	* ps_status.c (tags: V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1): Fix FreeBSD case. patch
	  provided by Jun Kuriyama.

2009-01-14 23:54  t-ishii

	* pool_process_query.c: Fix excessive debug statement

2009-01-07 22:33  t-ishii

	* pool_process_query.c: Add new argument to detect_error() so that
	  it can recognize the error class (E or N). per bug report from
	  Daniel: From: Daniel.Crespo@l-3com.com To:
	  <pgpool-general@pgfoundry.org> Date: Tue, 6 Jan 2009 12:50:08 -0500

	  The bug was caused by detect_postmaster_down_error() not detecting
	  receive crash shutdown error.

	  Enbug by: Subject: [Pgpool-committers] pgpool - pgpool-II: Fix
	  detect_error() so that it ignores NOTICE.  From:
	  t-ishii@pgfoundry.org (User T-ishii) To:
	  pgpool-committers@pgfoundry.org Date: Tue, 30 Dec 2008 01:05:37
	  +0000 (UTC)

2009-01-07 22:27  t-ishii

	* pool_connection_pool.c (tags: V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1), pool_proto_modules.c:
	  Update copyright year

2009-01-02 18:38  t-ishii

	* pool_process_query.c: Emit pool_error when detects kind mismatch
	  error.  Before we only sent error messages to client, but this will
	  leave only on client, which may or may not be kept.  Leaving it on
	  pgpool log should leave on pgpool side at least.

2008-12-31 23:45  t-ishii

	* child.c, main.c: Fix typos in comments. Patch contributed by Jun
	  Kuriyama.

2008-12-31 23:42  t-ishii

	* pool_sema.c (tags: V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1): Enhance error message
	  when failed to create semaphores.  Patch contributed by Jun
	  Kuriyama.

2008-12-31 19:25  t-ishii

	* pcp/: pcp.c, pcp.h (tags: V2_2_7), pcp_attach_node.c (tags:
	  V2_2_7), pcp_detach_node.c (tags: V2_2_7), pcp_node_count.c
	  (tags: V2_2_7), pcp_node_info.c (tags: V2_2_7), pcp_proc_count.c
	  (tags: V2_2_7), pcp_proc_info.c (tags: V2_2_7),
	  pcp_recovery_node.c (tags: V2_2_7), pcp_stop_pgpool.c (tags:
	  V2_2_7), pcp_systemdb_info.c (tags: V2_2_7) (utags: V2_2_0,
	  V2_2_0_BETA1, V2_2_0_BETA2, V2_2_0_RC1, V2_2_0_RC2, V2_2_1,
	  V2_2_2, V2_2_3, V2_2_4, V2_2_5, V2_2_6, V2_3, V2_3_1, V2_3_2,
	  V2_3_2_1, V2_3_2_2, V2_3_3): Add -d (debug)option to pcp
	  commands. patch contributed by Jun Kuriyama

2008-12-30 21:16  t-ishii

	* pool.h, pool_process_query.c, pool_proto_modules.c: Enhance "kind
	  mismatch" error message to include original query.  This would not
	  work for extended query, though.

2008-12-30 10:05  t-ishii

	* pool_process_query.c: Fix detect_error() so that it ignores
	  NOTICE.  Without this following error occurs, for example:

	  BEGIN; BEGIN;

	  ERROR:  kind mismatch among backends 0[N] 1[E]

2008-12-30 09:59  t-ishii

	* child.c, main.c, pool.h, pool_auth.c (tags: V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1), pool_type.h (tags:
	  V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1): Fix bug with
	  query cancel. It seems this has not been working since pgpool-II was
	  born.

	  To fix this, now we have each connection's pid and cancel key in the
	  shared memory area. If a cancel packet is sent, the table is
	  searched by the pid and the cancel key. If found, the actual cancel
	  key is sent to each backend.

2008-12-27 16:26  t-ishii

	* config.h.in (tags: V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1,
	  V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1):
	  Update timestamp

2008-12-23 21:26  t-ishii

	* pool_process_query.c: Fix unnessary code(maybe copy & paste
	  error?) Take out internal transction starting code from insert_lock.

2008-12-23 21:24  t-ishii

	* pool_proto_modules.c: Fix Query() so that it starts transaction
	  *before* checking insert lock is needed or not

2008-12-23 21:21  t-ishii

	* child.c: Do not make a connection cache for postgres database

2008-12-21 21:57  t-ishii

	* pgpool.conf.sample: Change insert_lock's default value to true.
	  Since automatic SERIAL data type is implemented, always making
	  insert_lock to true is harmless.

2008-12-21 08:02  t-ishii

	* pool.h, pool_config.c, pool_process_query.c: If SERIAL data type
	  is used(checked in system catalog)  and insert_lock is true(now
	  default) then automatically lock the table.

2008-12-21 07:59  t-ishii

	* pool_config.l: Now insert_lock is defaulted to be true

2008-12-20 20:21  t-ishii

	* pool_process_query.c: Fix need_insert_lock() so that it runs a
	  little bit faster with no INSERT case.

2008-12-20 20:12  t-ishii

	* pool_proto_modules.c: Enhance and fix comments related to Query()

2008-12-13 20:25  t-ishii

	* parser/gram.c (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3,
	  V2_2_2, V2_2_1, V2_2_0), Makefile.am, Makefile.in, parser/gram.h
	  (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1,
	  V2_2_0) (utags: V2_2_0_BETA1, V2_2_0_BETA2, V2_2_0_RC1,
	  V2_2_0_RC2): Update generated files

2008-12-13 20:23  t-ishii

	* pool_process_query.c, pool_proto_modules.c, pool_proto_modules.h
	  (tags: V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1): Refactor pool_process_query.c. Now
	  it is devided into pool_process_query.c and pool_proto_modules.c.
	  Also pool_proto_modules.h added which is a companion header file.

2008-12-13 20:21  t-ishii

	* main.c: Fix comment

2008-12-13 17:20  t-ishii

	* pool_process_query.c: Fix Execute() to avoid kind mismatch error
	  caused by "SET TRANSACTION ISOLATION LEVEL must be called before any
	  query".

2008-12-13 17:13  t-ishii

	* pool_process_query.c: Avoid kind mismatch error caused by "SET
	  TRANSACTION ISOLATION LEVEL must be called before any query".  This
	  could happen in following scenario:

	   * M:S1:BEGIN;
	   * S:S1:BEGIN;
	   * M:S1:SELECT 1; <-- only sent to MASTER
	   * M:S1:SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;
	   * S:S1:SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;
	   * M: <-- error
	   * S: <-- ok since no previous SELECT is sent. kind mismatch error
	   occurs!

	  Fix ReadyForQuery() by calling pool_unread if backend after
	  do_error_command executed not returns read for query packet.

	  Fix comments

2008-12-08 22:48  t-ishii

	* pool_process_query.c: Check serialization failure error and abort
	  all nodes if so. Otherwise we allow data inconsistency among DB
	  nodes. See following scenario: (M:master, S:slave)

	  M:S1:BEGIN; M:S2:BEGIN; S:S1:BEGIN; S:S2:BEGIN; M:S1:SET TRANSACTION
	  ISOLATION LEVEL SERIALIZABLE; M:S2:SET TRANSACTION ISOLATION LEVEL
	  SERIALIZABLE; S:S1:SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;
	  S:S2:SET TRANSACTION ISOLATION LEVEL SERIALIZABLE; M:S1:UPDATE t1
	  SET i = i + 1; S:S1:UPDATE t1 SET i = i + 1; M:S2:UPDATE t1 SET i =
	  i + 1; <-- blocked S:S1:COMMIT; M:S1:COMMIT; M:S2:ERROR:  could not
	  serialize access due to concurrent update S:S2:UPDATE t1 SET i = i +
	  1; <-- success in UPDATE and data becomes inconsistent!

2008-12-08 21:38  t-ishii

	* pool_process_query.c: Forget to add free_string()

2008-12-08 21:32  t-ishii

	* pool_process_query.c: Fix uninitialized variable in
	  read_kind_from_backend.  Also refactor to make it more effective and
	  readable.  Add lots of comments and enhance error message to display
	  eacho kinds.

2008-12-05 23:38  t-ishii

	* pool_process_query.c: Fix client_idle_limit_in_recovery handling
	  not to hang when goes into 2nd stage.  Also fix grammatical errors
	  in comments.

2008-11-27 09:30  t-ishii

	* pool_auth.c: Fix thoughtless coding in MD5 case checking. We
	  should have considered raw mode case. Bug pointed out by Duco Fijma.
	  See discussions below for more details.  Subject: [Pgpool-general]
	  MD5 authentication in "raw mode" From: Duco Fijma <duco@fijma.net>
	  To: pgpool-general@pgfoundry.org Date: Tue, 25 Nov 2008 13:29:39
	  +0100

2008-11-15 16:10  t-ishii

	* pool_process_query.c: Fix pool_discard_packet. Missing statement
	  in the last commit.

2008-11-15 15:15  t-ishii

	* pool_process_query.c: Fix do_error_command. If mistakely assumed
	  that after sending an error query, always ReadyForQuery came right
	  after that. If some debugging or logging verboseness is set,
	  PostgreSQL might sends NOTICE before ReadyForQuery.

2008-11-12 22:42  t-ishii

	* pool_process_query.c: Fix do_command in case of notice message
	  sent right after Complete command response. See threads in
	  pgpool-general:

	  Subject: Re: [Pgpool-general] Pgpool-II - replication problems From:
	  "nir osovsky" <nosovsky1@gmail.com>

	  for more details.

2008-11-10 09:58  t-ishii

	* pool_process_query.c: Enhance error message in do_command

2008-11-07 18:20  t-ishii

	* ChangeLog, Makefile.in, aclocal.m4 (tags: V3_0_2, V3_1_0_ALPHA1,
	  V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2,
	  V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1,
	  V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1), configure,
	  pgpool.conf.sample, pool.h, pool_config.c, pool_config.l,
	  pool_process_query.c, pool_stream.c, doc/pgpool-en.html,
	  doc/pgpool-ja.html, parser/Makefile.in (tags: V2_2_7, V2_2_6,
	  V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1), pcp/Makefile.in (tags:
	  V2_2_7, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1,
	  V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1): Add
	  client_idle_limit_in_recovery

2008-10-31 14:21  t-ishii

	* doc/load_balance.odp (tags: V3_0_0_BETA3, V3_0_0_BETA2,
	  V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1,
	  V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1): Add a flow
	  chart which explains load balance/replication/send to master only is
	  decided.

2008-10-31 10:31  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html: Fix wording Fix description
	  for replicate_select and "condition for load balance" section.

2008-10-31 10:28  t-ishii

	* pgpool.conf.sample: Fix incorrect comment for recovery_timeout

2008-09-05 13:25  t-ishii

	* main.c: Fix and enhance comments

2008-08-29 14:17  t-ishii

	* pool_process_query.c: Allow to load balance DECLARE, FETCH and
	  CLOSE.  Also fix comments.

2008-08-29 11:54  t-ishii

	* main.c: Fix bug in fork_a_child which mistakely closed pipe fds
	  which are not created yet at the startup time

2008-08-28 21:37  t-ishii

	* pool_process_query.c: Fix/enhance log messages and comments

2008-08-28 21:35  t-ishii

	* main.c:
	  - Close all file descriptors when running in daemon mode.  Otherwise
	    we inherit socket from apache when it's started by pgpoolAdmin.
	    This results in that port 80 is occupied for example.  Pach
	    provided by Akio Ishida. Also add chdir("/"). This always good for
	    daemon programs.

	  - Always fail over and restart all children. Before we do not
	    restart if master has not been changed. This was wrong. If we have
	    trouble with network cable or something, TCP/IP stack keeps on
	    retrying for long time and the only way to prevent it is restarting
	  process.

2008-07-23 17:50  y-asaba

	* NEWS, configure, configure.in, doc/pgpool-ja.html (utags:
	  V2_1_0): Prepare for 2.1.

2008-07-08 16:53  y-mori

	* ChangeLog (tags: V2_1_0), NEWS (utags: V2_1_0_RC1): Prepare for
	  	pgpool-II 2.1 RC1.  -add comment to ChangeLog NEWS

2008-07-08 16:41  y-mori

	* NEWS: FIX indent

2008-07-08 16:37  y-mori

	* doc/pgpool-ja.html (tags: V2_1_0_RC1): Update release note
	       parallel query bug fix comment

2008-07-08 16:21  y-asaba

	* Makefile.in (tags: V2_1_0), aclocal.m4 (tags: V2_1_0), configure,
	  configure.in, parser/Makefile.in (tags: V2_1_0), pcp/Makefile.in
	  (tags: V2_1_0) (utags: V2_1_0_RC1): Prepare for pgpool-II 2.1
	  RC1.

2008-07-04 22:00  y-mori

	* pool_rewrite_outfuncs.c (tags: V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1): FIX: query rewrite of DISTINCT ON

2008-07-04 14:27  y-mori

	* pool.h (tags: V2_1_0, V2_1_0_RC1), pool_process_query.c (tags:
	  V2_1_0, V2_1_0_RC1), pool_rewrite_outfuncs.c,
	  pool_rewrite_query.c (tags: V2_1_0, V2_1_0_RC1), pool_stream.c
	  (tags: V2_1_0, V2_1_0_RC1): FIX: join partitioned tables

	  Delete: pool_read_parallel

2008-07-01 21:26  y-mori

	* pool_rewrite_outfuncs.c: fix: Converting JOIN expression from
	  USING to ON in query rewriting at parallel mode

2008-06-30 16:05  y-mori

	* pool_process_query.c: Fix Hung up when two or more insert
	  statment was executed in parallel mode

2008-05-30 16:18  y-asaba

	* pool_process_query.c: Fixed segfault if client protocol was V2.

2008-05-22 23:36  y-asaba

	* main.c (tags: V2_1_0, V2_1_0_RC1): If a backend raised FATAL
	  error while health checking, do not send a Terminate message.
	  Because sending the message fails with EPIPE.

2008-05-08 12:02  y-asaba

	* child.c (tags: V2_1_0, V2_1_0_RC1): Fix segfault if all weight
	  values are zero and master node is down.  Perf report by Michael
	  SALOMON.

2008-05-04 14:04  y-asaba

	* sql/pgpool-recovery/pgpool-recovery.c (tags: V2_2_2, V2_2_1,
	  V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1,
	  V2_1_0, V2_1_0_RC1): Use snprintf().

2008-04-12 03:09  devrim

	* pgpool.spec (tags: V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1,
	  V2_1_0, V2_1_0_RC1): Sync with community spec file.  Fix
	  Requires: problem.

2008-04-09 16:45  y-asaba

	* redhat/pgpool.init (tags: V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1):
	  * Remove non-ascii character.
	  * Fix the daemon stdio redirection.

	  Per report by kabe-san.

2008-04-09 16:03  y-asaba

	* sample/replicate_def_pgbench.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1): Fix SQL error.

2008-04-09 16:01  y-asaba

	* sql/system_db.sql (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1): Drop
	  replicate_def table if exists.

2008-04-09 15:26  devrim

	* redhat/pgpool.init:
	  - Honor /etc/sysconfig/pgpool settings. Previously we could never
	    customize PGPOOLPID=/var/run/pgpool.pid et al.
	  - Remaining hardcoded paths replaced by customizable variables
	     such as $PGPOOLCONF .

2008-04-09 15:22  y-asaba

	* Makefile.am (tags: V2_1_0, V2_1_0_RC1), Makefile.in: Add
	  sample/replicate_def_pgbench.sql into a release tar ball.

2008-04-07 01:49  devrim

	* pgpool.spec: Update to 2.1 beta2

2008-04-04 13:32  y-asaba

	* NEWS, doc/pgpool-ja.html (utags: V2_1_0_BETA2): Update 2.1
	  release note.

2008-04-03 22:10  y-asaba

	* pool_process_query.c (tags: V2_1_0_BETA2): Fix hang up in
	  Execute.

	  We sended a syntax error query to abort a transaction if
	  replicate_select was true. However, the query was sended over Query
	  message. In extended query mode, we *must* send the query over
	  Execute message. Because postgres discards messages until a Sync is
	  reached when an error is detected.

2008-04-03 14:44  y-asaba

	* ChangeLog (tags: V2_1_0_BETA2): Add.

2008-04-03 14:30  y-asaba

	* pool_process_query.c: Do not close a internal transaction when
	  Sync message is received after receiving Parse message. This hack is
	  for PHP-PDO.

2008-04-02 11:48  y-asaba

	* NEWS, doc/pgpool-ja.html: Update release note.

2008-04-01 17:31  y-asaba

	* configure, configure.in (utags: V2_1_0_BETA2): Prepare for 2.1
	  beta2.

2008-04-01 10:12  y-asaba

	* pool_rewrite_outfuncs.c (tags: V2_1_0_BETA2): Fix "AS" handling
	  in FROM clause.  Patch contributed by sho-san.

2008-03-31 17:27  y-asaba

	* pgpool.8.in (tags: V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2): Enhance manpage.
	    patch contributed by kabe-san.
	  - no hypenation, no justify for better greppability
	    - have explicit subsection for [noargs], stop, switch for
	    readability
	  - some phrases rewritten to suit manpages
	    - add "-v" option

2008-03-31 17:07  y-asaba

	* ChangeLog: Add items.

2008-03-31 13:19  t-ishii

	* TODO (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2): Add Docs section
	  and add an item (writelibpcp docs)

2008-03-31 11:56  y-asaba

	* NEWS, doc/pgpool-ja.html: Add a item into 2.1 release note.

2008-03-28 01:06  y-asaba

	* child.c, pool_hba.c (tags: V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1) (utags: V2_1_0_BETA2): Use child_exit() instead of
	  exit().

2008-03-28 01:04  y-asaba

	* pcp_child.c (tags: V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2), recovery.c (utags: V2_1_0,
	  V2_1_0_BETA2, V2_1_0_RC1, V2_2_0_BETA1): Fix a race condition
	  between SIGUSR2 signal and pause().

2008-03-28 01:01  y-asaba

	* pool_connection_pool.c (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2):
	  Fix core dump with the following scenario.
	    1. detach a node.
	    2. create connection pool
	    3. attach the node.
	    4. reuse the connection pool

2008-03-27 17:26  y-asaba

	* doc/pgpool-ja.html: Remove a wrong restriction.

2008-03-27 16:54  y-asaba

	* doc/: pgpool-en.html (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2),
	  pgpool-ja.html, pgpool.css (tags: V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2),
	  tutorial-en.html (tags: V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2), tutorial-ja.html (tags: V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2):
	  Add copyright.

2008-03-27 16:24  y-asaba

	* doc/: tutorial-en.html, tutorial-ja.html: Add an example to
	  rotate pgpool log files.

2008-03-27 11:53  y-asaba

	* pool_process_query.c: Improve network I/O routine.

2008-03-27 11:51  t-ishii

	* doc/pgpool-en.html: Add description about the timing of recovery
	  command invocation

2008-03-27 11:49  t-ishii

	* TODO: Add TODO items

2008-03-26 18:18  t-ishii

	* doc/pgpool-ja.html: Add description about the timing of recovery
	  command invocation

2008-03-25 14:15  t-ishii

	* TODO: Add more TODO

2008-03-25 10:00  t-ishii

	* TODO: Translate into English

2008-03-20 17:33  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html: Enhance reset_query_list
	  description.

2008-03-20 16:33  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html: Add info about pgpool-II
	  download page.

2008-03-18 17:39  y-asaba

	* pgpool.conf.sample (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2):
	  Remove ";" in recovery_timeout.

2008-03-14 16:09  y-asaba

	* doc/: pgpool-en.html, pgpool-ja.html (utags: V2_1_0_BETA1):
	  * Changed title from README to user manual.
	  * Emphasized load balancing note.

2008-03-14 16:06  y-asaba

	* doc/pgpool.css (tags: V2_1_0_BETA1): Add <h4> style.

2008-03-14 15:57  y-asaba

	* NEWS (tags: V2_1_0_BETA1): Reviewed.

2008-03-14 15:53  y-asaba

	* doc/pgpool-en.html: Updated English documentation.

2008-03-14 15:30  y-asaba

	* doc/pgpool-ja.html: Add recovery_timeout description.

2008-03-14 14:45  y-asaba

	* NEWS: Added 2.1 beta release note.  I hope to review it.

2008-03-14 11:43  y-asaba

	* doc/pgpool-ja.html: Added 2.1 release note.

2008-03-14 11:00  y-asaba

	* pgpool.conf.sample (tags: V2_1_0_BETA1): Add comment for '%M'
	  format.

2008-03-14 10:35  y-asaba

	* ChangeLog (tags: V2_1_0_BETA1): Add entries.

2008-03-13 22:11  y-asaba

	* pool_process_query.c (tags: V2_1_0_BETA1):
	  * Fixed kind mismatch error in master slave mode with following
	    scenario. This bug was introduced in pgpool-II v2.0.

	    BEGIN;
	    SET client_encoding TO SJIS;

	  * Fixed load balancing in master slave mode. This bug was introduced
	    in pgpool-II v2.0.

2008-03-13 16:01  y-asaba

	* pg_md5.c (tags: V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1,
	  V2_1_0_BETA2, V2_1_0_BETA1): Fix compile error on FreeBSD.  Per
	  report by ISHIDA Akio.

2008-03-13 12:46  y-asaba

	* ylwrap (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1): Add ylwrap generated by automake 1.10.

2008-03-13 03:22  devrim

	* pgpool.spec (tags: V2_1_0_BETA2, V2_1_0_BETA1): Update to 2.1
	  beta1

2008-03-12 21:33  y-asaba

	* configure, configure.in (utags: V2_1_0_BETA1): Stamp beta1.

2008-03-12 18:33  t-ishii

	* pgpool.conf.sample: Fix comments for load_balance_mode which were
	  no longer true.

2008-03-12 18:32  y-asaba

	* pool_config.c (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1): Run flex v2.5.33

2008-03-12 18:32  y-asaba

	* version.h (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1):
	  Change version string.

2008-03-12 18:31  y-asaba

	* child.c (tags: V2_1_0_BETA1), pool_process_query.c: If
	  load_balance_mode is false, then pgpool does not calculate load
	  balancing node.

2008-03-12 14:06  y-asaba

	* main.c (tags: V2_1_0_BETA2, V2_1_0_BETA1): health_check_timeout
	  did not work correctly.  Report and patch by Kenichi Sawada.

2008-03-12 14:00  y-asaba

	* main.c: Improve bind(2) and unlink(2) error message.  Patch
	  contributed by Jun Kuriyama.

2008-03-12 13:53  y-asaba

	* pcp/pcp_recovery_node.c (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1): Fix typos in pcp_recovery_node.c usage.  Patch
	  contributed by Jun Kuriyama.

2008-03-12 13:51  y-asaba

	* Makefile.in (tags: V2_1_0_BETA2, V2_1_0_BETA1), aclocal.m4 (tags:
	  V2_1_0_BETA2, V2_1_0_BETA1), config.h.in (tags: V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1), configure, configure.in,
	  parser/Makefile.in (tags: V2_1_0_BETA2, V2_1_0_BETA1),
	  pcp/Makefile.in (tags: V2_1_0_BETA2, V2_1_0_BETA1): Support
	  set_ps_display on FreeBSD.  Patch contributed by ISHIDA Akio.

2008-03-12 12:54  t-ishii

	* pool_auth.c (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1): Add detailed error messages when auth phase fail.
	  Current messages:

	  pool_read_message_length: message length (8 ) in slot 1 does not
	  match with slot 0(12)

	  is confusing and does very little help.

2008-03-12 11:01  y-asaba

	* pool_process_query.c: Fixed DEALLOCATE ALL processing.

2008-03-11 12:04  y-asaba

	* ChangeLog: Added entries.

2008-03-11 11:54  y-asaba

	* main.c, doc/pgpool-en.html, doc/pgpool-ja.html:
	  * Add '%M'format to obtain old master node ID into failover_command
	    and failback_command.

	  * When master node was down, killed all children process during
	    executing failover_command.

	  * Fixed SIGSEGV if backend0 was undefined.

2008-03-11 11:49  y-asaba

	* pool_process_query.c: Fixed hang up if a node was executed
	  immediate shutdown.

2008-03-11 00:08  t-ishii

	* pool_auth.c: Fix using uninialized varible in
	  pool_read_message_length()

2008-03-10 13:37  t-ishii

	* pool_process_query.c: [no log message]

2008-03-04 16:58  y-asaba

	* ChangeLog: Add entries.

2008-03-03 12:39  y-asaba

	* pool_process_query.c: Fix hang up after processing "show
	  pool_status".  Per report by ISHIDA Akio.

2008-02-29 13:49  yamaguti

	* ChangeLog: added entry for the change in pg_md5.c

2008-02-29 13:40  yamaguti

	* pg_md5.c:
	  * implement password prompt with option "-p" (patch contributed by
	    Volkan Yazici)

	  * disable ECHO while reading password from stdin

2008-02-26 18:55  y-asaba

	* main.c:
	  - Add comment.
	  - Add -v option, which prints version info.

2008-02-25 20:22  y-asaba

	* recovery.c (tags: V2_1_0_BETA1): Improve error message.

2008-02-25 11:58  y-asaba

	* pool_process_query.c: Fix asynchronous query handling.

	  When ReadyForQuery message was received, pgpool set off
	  loadbalancing flag, internal transaction flag and so on. If client
	  sended a Query message before receiving the ReadyForQuery message,
	  pgpool reported error message.

	  So, we block the Query message while backend nodes process a query.

2008-02-20 19:12  y-asaba

	* pool_process_query.c: Return TRUE in is_select_query() if a query
	  is "COPY TO STDOUT".  kind mismatching error was caused by pg_dump
	  or pg_dumpall.  Per report by Bruno Lustosa.

2008-02-19 14:54  y-asaba

	* Makefile.in, aclocal.m4, configure, configure.in: Stamp
	  2.1-devel.  We hope to release 2.1 on March.

2008-02-19 14:46  y-asaba

	* pool_process_query.c: Fix HINT clause handling in extended query
	  protocol.  pgpool did not replicate the following query with
	  extended query protocol.

	    /* REPLICATION */ SELECT func();

	  Per report by Sagar Thapa.

2008-02-19 14:18  y-asaba

	* pool_process_query.c: Fix misspell.  Patch contributed by Jun
	  Kuriyama.

2008-02-18 18:58  y-asaba

	* pool_stream.c (tags: V2_1_0_BETA2, V2_1_0_BETA1): Add error
	  checking.

2008-02-15 18:43  y-asaba

	* main.c: Polling signals per 3 secs when health check is disabled.

2008-02-15 18:36  y-asaba

	* main.c: Fix zombie process problem. "switching" flag did not
	  clear when invalid node ID was detached.

2008-02-15 15:19  y-asaba

	* pool_process_query.c: Fix DISCARD statement handling.

2008-02-15 13:04  y-asaba

	* main.c: Fix compiler warning.

2008-02-14 14:48  y-asaba

	* main.c: Add comment.

2008-02-14 14:24  y-asaba

	* ChangeLog: Add ChangeLog items.

2008-02-14 14:09  y-asaba

	* main.c: Fix a failover bug that pgpool did not determine a next
	  master node in raw_mode.

2008-02-14 14:05  y-asaba

	* pool_connection_pool.c (tags: V2_1_0_BETA1): Do not create
	  connection cache to standby nodes in raw_mode.  As a result, we can
	  use pgpool-II + warm standby with raw_mode.

2008-02-12 20:16  y-asaba

	* child.c, pgpool.conf.sample, pool.h (tags: V2_1_0_BETA2,
	  V2_1_0_BETA1), pool_config.c, pool_config.l (tags: V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1), pool_process_query.c,
	  pool_stream.c, doc/pgpool-en.html, doc/pgpool-ja.html: Remove
	  "replication_timeout" parameter.

	  This parameter was enabled if replication_strict = false. However
	  replication_strict was already removed.

2008-02-12 16:29  yamaguti

	* pool.h: Fix a bug in raw mode where only 1 of multiple nodes were
	  recognized by pgpool.

2008-02-08 19:57  y-asaba

	* pool_stream.c: Fix wrong timeout handling in pool_read2() and
	  pool_read_string().

2008-02-08 17:10  yamaguti

	* pcp/pcp.c (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1):
	  Disabled PCP client's timeout.

	  PCP commands still take timeout option, but ignores and set
	  notimeout.

2008-02-08 15:47  y-asaba

	* sql/pgpool-recovery/pgpool-recovery.c (tags: V2_1_0_BETA2,
	  V2_1_0_BETA1): PostgreSQL superuser can *only* execute
	  pgpool_recovery and pgpool_remote_start functions because of
	  security issue.

2008-02-08 15:47  yamaguti

	* main.c, pcp_child.c (tags: V2_1_0_BETA1), recovery.c: Implemented
	  configuration file "reload" function into PCP.

2008-02-08 13:11  yamaguti

	* recovery.c: Use "recovery_timeout" to decide how long pgpool
	  should wait before online-recovery fails.

2008-02-08 13:10  yamaguti

	* pgpool.conf.sample, pool.h, pool_config.c, pool_config.l: added a
	  new configuration parameter "recovery_timeout".

	  pgpool waits so many seconds, specified by recovery_timeout, for:

	  1) all client connections are closed before the 2nd stage
	  2) a remote host to start up in the final stage

	  Note that "recovery_timeout = 0" means NO WAIT; not no timeout.

2008-02-05 19:05  y-asaba

	* pool_auth.c: Fix minor bug introduced by previous commit.

2008-02-05 18:57  y-asaba

	* pool_auth.c: Fix authentication error when master was down.

2008-02-05 11:13  y-asaba

	* pool_process_query.c: Remove unneccesary flushing output buffer.

2008-01-29 11:01  y-asaba

	* doc/pgpool-ja.html: Add description of recovery script.

2008-01-29 10:56  y-asaba

	* ChangeLog, child.c, main.c, pcp_child.c, pool.h, pool_auth.c,
	  pool_config.c, pool_config.l, pool_connection_pool.c,
	  pool_error.c (tags: V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1,
	  V2_1_0_BETA2, V2_1_0_BETA1), pool_hba.c (tags: V2_1_0_BETA1),
	  pool_ip.c (tags: V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1,
	  V2_1_0_BETA2, V2_1_0_BETA1), pool_ip.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  pool_ipc.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), pool_params.c (tags: V2_2_3, V2_2_2, V2_2_1,
	  V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1,
	  V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1), pool_path.c
	  (tags: V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), pool_path.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), pool_process_query.c, pool_query_cache.c (tags:
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), pool_rewrite_query.c (tags: V2_1_0_BETA2,
	  V2_1_0_BETA1), pool_rewrite_query.h (tags: V2_1_0, V2_1_0_RC1,
	  V2_1_0_BETA2, V2_1_0_BETA1), pool_sema.c (tags: V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1), pool_shmem.c (tags:
	  V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  pool_signal.c (tags: V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1,
	  V2_1_0_BETA2, V2_1_0_BETA1), pool_signal.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  pool_stream.c, pool_system.c (tags: V2_2_3, V2_2_2, V2_2_1,
	  V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1,
	  V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1), pool_type.h
	  (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  ps_status.c (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), recovery.c, strlcpy.c (tags: V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  COPYING (tags: V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), pcp/Makefile.in, pcp/pcp.c, pcp/pcp.h (tags:
	  V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  pcp/pcp_attach_node.c (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/Makefile.in, parser/copyfuncs.c (tags:
	  V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1), parser/gram.c (tags:
	  V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  pcp/pcp_detach_node.c (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), pcp/pcp_error.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  pcp/pcp_node_count.c (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), pcp/pcp_node_info.c (tags: V2_1_0, V2_1_0_RC1,
	  V2_1_0_BETA2, V2_1_0_BETA1), pcp/pcp_proc_count.c (tags: V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1), pcp/pcp_proc_info.c
	  (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  pcp/pcp_recovery_node.c, pcp/pcp_stop_pgpool.c (tags: V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1), pcp/pcp_stream.c (tags:
	  V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3,
	  V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1,
	  V2_1_0_BETA2, V2_1_0_BETA1), pcp/pcp_stream.h (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  pcp/pcp_systemdb_info.c (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), sql/pgpool-recovery/pgpool-recovery.c,
	  parser/gram.h (tags: V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/gram.y (tags: V2_2_7, V2_2_6, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/keywords.c (tags: V2_2_7, V2_2_6, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/keywords.h (tags: V2_2_7, V2_2_6, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/list.c (tags: V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  parser/makefuncs.c (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3,
	  V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  parser/makefuncs.h (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3,
	  V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  parser/memnodes.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/nodes.c (tags: V2_2_7, V2_2_6, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/nodes.h (tags: V2_2_7, V2_2_6, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/outfuncs.c (tags: V2_2_5, V2_2_4, V2_2_3,
	  V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  parser/parsenodes.h (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/parser.h (tags: V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  parser/pg_list.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/pool_memory.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  parser/pool_memory.h (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/pool_parser.h (tags: V2_2_7, V2_2_6,
	  V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1,
	  V2_1_0_BETA2, V2_1_0_BETA1), parser/pool_string.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  parser/pool_string.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/primnodes.h (tags: V2_2_7, V2_2_6, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/scan.c (tags: V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  parser/scan.l (tags: V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1,
	  V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2,
	  V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1,
	  V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1), parser/scansup.h (tags:
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1), parser/value.c (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  parser/value.h (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1): Update copyright.

2008-01-28 11:31  y-asaba

	* ChangeLog: Add item.

2008-01-28 11:26  y-asaba

	* pool_process_query.c: Change log level of the following message
	  from ERROR to LOG.

	    ProcessFrontendResponse: failed to read kind from frontend. fronend
	    abnormally exited

	  This means that pgpool detects unexpected EOF. This is not pgpool's
	  error.

2008-01-25 18:49  y-asaba

	* ChangeLog: Add item.

2008-01-25 16:20  y-asaba

	* pool_process_query.c: Load balancing node was changed after
	  processing transaction.  For example,

	    SELECT 1; <-- node 1
	    BEGIN;
	    SELECT 2; <-- node 0(master)
	    END;
	    SELECT 3; <-- node 0(master)

	  "SELECT 3" was sended to a master node, not a load balancing node.

	  VALID_BACKEND macro does not check node validation if
	  in_load_balancing is 1. So we do not use VALID_BACKEND macro to
	  check whether load balancing node is down.

2008-01-19 18:49  y-asaba

	* pool_process_query.c: Add comments.

2008-01-15 11:10  y-asaba

	* pool_process_query.c: Remove unused variable.

2008-01-11 12:11  y-asaba

	* pool_process_query.c: Add comments.

2008-01-11 11:30  y-asaba

	* ChangeLog, main.c, pool_hba.c, pool_process_query.c,
	  parser/parser.c (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3,
	  V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1),
	  parser/pool_memory.c, parser/pool_memory.h: Fix memory leak at
	  prepared statement list.

	  pgpool caches a parse tree in prepared statement list. The parse
	  tree copy deeply, but we freed only the top node of the parse tree.

2008-01-09 18:10  y-asaba

	* recovery.c: Refactoring recovery code.

2008-01-08 13:31  y-asaba

	* main.c: Fix compile error.

2008-01-08 11:20  y-mori

	* doc/: tutorial-en.html, tutorial-ja.html (utags: V2_1_0_BETA1):
	  FIX tutorial
	     Because replicate_def table is confused dist_def table when a
	     parallel mode is set according to the tutorial, data is not
	  divided.

2008-01-02 17:32  t-ishii

	* main.c: Fix bug in previous commit Fix typo

2007-12-27 12:00  y-asaba

	* ChangeLog: Add ChangeLog items.

2007-12-27 11:21  y-asaba

	* main.c, pgpool.conf.sample, doc/pgpool-en.html,
	  doc/pgpool-ja.html: Allow '%m' character to obtain master node id
	  in failover_command and failback_command.

2007-12-26 16:05  y-asaba

	* doc/: pgpool-en.html, pgpool-ja.html: Add multi-statement
	  restriction.

2007-12-26 11:40  y-asaba

	* pool_process_query.c: Fix internal transaction handling in
	  extended query protocol.  pgpool did not send "COMMIT" to close an
	  internal transaction block.

2007-12-22 09:11  t-ishii

	* recovery.c: Add lots of pool_log to show the recovery steps

2007-12-11 12:59  t-ishii

	* main.c: Change "starting health checking" and "retrying %d th
	  health checking" log messages to DEBUG messages since they are too
	  verbose.

2007-12-07 15:35  y-asaba

	* TODO (tags: V2_1_0_BETA1): TODO: Add replication function list.

2007-12-07 14:08  y-asaba

	* child.c, config.h.in, configure, configure.in, pcp_child.c,
	  pool_config.c, pool_config.l, pcp/pcp.c: Fix compile error and
	  warning on Solaris 10.

2007-12-06 13:59  y-mori

	* pool_rewrite_query.c: FIX: INSERT statment in a parallel mode
	       How to count the Value Clause list was wrong

2007-12-05 17:15  y-asaba

	* pool_stream.c: Improve buffering algorithm in pool_write().

2007-12-03 10:47  y-asaba

	* pool_process_query.c: Don't output log if PostgreSQL send a
	  warning message in do_command().

2007-12-02 11:45  y-asaba

	* pool_process_query.c: Fix segmentation fault if CloseComplete
	  command was received.

2007-12-01 23:50  y-asaba

	* pool_process_query.c: Fix memory leak when PREPARE or DEALLOCATE
	  is failed.

2007-12-01 22:26  y-asaba

	* pool_process_query.c: Remove debug log.

2007-11-30 16:38  y-mori

	* pool_rewrite_query.c: Fix: The INSERT statment did not correspond
	       to the parser of postgresql 8.3 that pgpool-II 2.0 had.
	       Therefore, the following errors occur if INSERT is done in a
	       parallel mode

	       ERROR: pgpool2 sql restriction
	       DETAIL: cannot use SElectStmt in InserStmt

2007-11-24 22:04  t-ishii

	* doc/: pgpool-en.html, pgpool-ja.html: Fix english docs.  Add a
	  link to tutorial.

2007-11-23 09:14  t-ishii

	* pool_config.c, pool_config.l: Add missing replicate_select entry.
	  per bug report on [pgsql-jp: 38968].

2007-11-22 04:35  devrim

	* pgpool.spec: Update to 2.0.1

2007-11-21 19:18  y-asaba

	* configure, configure.in (utags: V2_0_1): Prepare for 2.0.1.

2007-11-21 19:09  y-asaba

	* NEWS, doc/pgpool-ja.html (utags: V2_0_1): Release note for
	  pgpool-II 2.0.1.

2007-11-21 18:39  y-asaba

	* ChangeLog (tags: V2_0_1): update.

2007-11-21 18:37  y-asaba

	* pool_process_query.c (tags: V2_0_1): Fix segmentation fault when
	  UPDATE or DELETE is executed.  The bug is critical so we must
	  release 2.0.1 as soon as possible.

2007-11-21 13:47  y-asaba

	* recovery.c (tags: V2_0_1): Use snprintf() instead of sprintf().

2007-11-21 10:47  y-asaba

	* pool_process_query.c: Send a syntax error query to a master node
	  when master_slave is true.

2007-11-16 14:29  y-mori

	* doc/: pgpool-en.html (tags: V2_0_1), pgpool-ja.html (utags:
	  V2_0_0): ADD: documents (Setting method of Query cache)

2007-11-16 11:52  y-asaba

	* pool_auth.c (tags: V2_0_1, V2_0_0): Fix segmentation fault in a
	  password authentication when a node is down.

2007-11-16 10:56  y-asaba

	* ChangeLog (tags: V2_0_0): pgpool-II 2.0

2007-11-16 10:51  y-asaba

	* Makefile.in (tags: V2_0_1), aclocal.m4 (tags: V2_0_1), configure,
	  parser/Makefile.in (tags: V2_0_1), parser/gram.c (tags: V2_0_1),
	  parser/gram.h (tags: V2_0_1), pcp/Makefile.in (tags: V2_0_1)
	  (utags: V2_0_0): Prepare for pgpool-II 2.0.

2007-11-16 10:39  y-asaba

	* doc/: pgpool-en.html, pgpool-ja.html:
	  - Fix the sample script of online recovery.
	  - Add note about timeout of pcp_recovery_node.

2007-11-16 09:20  gleu

	* doc/pgpool-en.html: Typo fix.

2007-11-15 09:39  y-mori

	* pool_rewrite_outfuncs.c (tags: V2_1_0_BETA1),
	  pool_rewrite_query.h (utags: V2_0_0, V2_0_1): FIX: It corresponed
	      to the following Queries.  ex) select * from (select a,b,c from t1)
	                                                     as t2(d,e,f) ~~~~~

2007-11-14 16:46  y-mori

	* pool_process_query.c (tags: V2_0_0): FIX: The load-balnace was
	  not functioning in a parallel mode

2007-11-14 13:59  y-mori

	* pool_rewrite_outfuncs.c: FIX:
	     It made a mistake in the processing of OUTER JOIN (syntax of C
	     lang)

2007-11-14 12:59  y-mori

	* pool.h (tags: V2_0_1, V2_0_0), pool_process_query.c,
	  pool_stream.c (tags: V2_0_1, V2_0_0): fix:
	      -When the setting of replication_timeout was effective,
	       SELECT that the execution time is long did the time-out
	       in only a parallel mode.

	      -A wrong number was displayed when replicated table was
	       updated or deleted in only a parallel mode.

2007-11-13 10:44  y-asaba

	* configure.in (tags: V2_0_0): Prepare for pgpool-II 2.0.

2007-11-13 03:12  devrim

	* doc/pgpool-en.html: Removed some garbage chars Fixed indendation
	  of some paragraphs Fixed some typos

	  There seems a lot to do btw.

2007-11-12 18:04  y-asaba

	* NEWS (tags: V2_0_0), doc/pgpool-ja.html: Prepare for pgpool-II
	  2.0.

2007-11-12 18:02  y-asaba

	* doc/pgpool-ja.html: Fix typo.

2007-11-12 17:34  y-mori

	* doc/tutorial-en.html (tags: V2_0_1, V2_0_0): add: pgpoo-II 2.0
	       tutorial -parallel-query section

2007-11-12 15:40  y-mori

	* doc/: pgpool-en.html, pgpool-ja.html: add:
	  	pgpool-II 2.0 manual.
	    -add parallel-query section

	  fix:
	  	Japanese manual.
	    - typo

2007-11-09 16:25  y-mori

	* doc/: pgpool-ja.html, pgpool.css (tags: V2_0_1, V2_0_0),
	  tutorial-ja.html (tags: V2_0_1, V2_0_0): pgpoo-ll 2.0 manual &
	  	tutorial (Japanese)
	  - Add parallel query section

2007-11-09 15:09  y-mori

	* sample/replicate_def_pgbench.sql (tags: V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0): ADD Sample SQL file

2007-11-09 13:56  y-mori

	* sql/system_db.sql (tags: V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1,
	  V2_0_0): ADD "replicate_def" table in "pgpool_catalog" schema

2007-11-09 13:41  y-asaba

	* pgpool.8.in (tags: V2_1_0_BETA1, V2_0_1, V2_0_0): Add reload
	  option.

2007-11-09 13:37  y-asaba

	* main.c (tags: V2_0_1, V2_0_0): Add pgpool reload in usage().

2007-11-09 12:00  y-asaba

	* Makefile.am, test/jdbc/README.euc_jp (tags: V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1) (utags: V2_0_0, V2_0_1, V2_1_0_BETA1, V2_1_0_BETA2):
	  Add README.euc_jp

2007-11-08 10:43  y-asaba

	* doc/pgpool-en.html: pgpool-II 2.0 manual.
	    - Add online recovery section.
	    - Add new parameters.

	  TODO: review my English...

2007-11-07 19:05  y-asaba

	* pool_process_query.c: Send Sync message before calling
	  insert_lock().

2007-11-07 15:35  y-mori

	* pool_rewrite_outfuncs.c: fix: join rule for /*NOT*/SQL99 type
	  join,CROSS JOIN and NATURAL JOIN

2007-11-06 16:07  y-asaba

	* test/jdbc/InsertTest.java (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0), test/jdbc/RunTest.java (tags:
	  V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1,
	  V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0),
	  test/jdbc/pgpool.properties (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0), test/jdbc/prepare.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), test/jdbc/expected/insert (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), Makefile.am: Add INSERT statement test.

2007-11-05 14:26  y-asaba

	* pool_process_query.c: Fix insert_lock with extended query
	  protocol.

2007-11-05 11:08  y-asaba

	* pool_process_query.c: Use FD_SETSIZE instead of 1024 at set_fd,
	  isset_fd and zero_fd.

2007-11-05 10:41  y-asaba

	* pool_process_query.c: Ignore white space in need_insert_lock().

2007-11-02 18:20  y-mori

	* pool_process_query.c: Fix: compile error at FreeBSD4.1

2007-11-02 01:57  devrim

	* pgpool.spec (tags: V2_0_1, V2_0_0): Update spec file for 2.0
	  beta1

2007-11-01 19:14  y-asaba

	* Makefile.am: Fix compile error with SUN's cc.

2007-11-01 19:11  y-asaba

	* configure.in, pool_process_query.c, parser/Makefile.am (tags:
	  V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0),
	  pcp/Makefile.am (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0): Fix compile error with SUN's cc.

2007-11-01 17:17  y-asaba

	* pcp/pcp_proc_count.c (tags: V2_0_1, V2_0_0): Fix warning with
	  SUN's cc.

2007-11-01 11:08  t-ishii

	* Makefile.in (tags: V2_0_0_BETA1): Rerun autoconf

2007-11-01 11:01  y-asaba

	* Makefile.am (tags: V2_0_0_BETA1): Remove test.diff

2007-11-01 10:45  t-ishii

	* Makefile.in, aclocal.m4 (tags: V2_0_0_BETA1), configure (tags:
	  V2_0_0_BETA1), pool_config.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1), parser/Makefile.in (tags: V2_0_0_BETA1),
	  pcp/Makefile.in (tags: V2_0_0_BETA1): Run autoconf

2007-10-31 19:45  y-asaba

	* NEWS, pgpool.conf.sample (tags: V2_0_1, V2_0_0), pool.h,
	  pool_config.l (tags: V2_0_1, V2_0_0), pool_process_query.c,
	  doc/pgpool-en.html, doc/pgpool-ja.html (utags: V2_0_0_BETA1):
	  Remove replicate_strict derective. pgpool-II 2.x always set to true.

2007-10-31 19:13  y-asaba

	* ChangeLog (tags: V2_0_0_BETA1): pgpool-II 2.0 beta1

2007-10-31 18:41  y-mori

	* test/pdo-test/README.euc_jp (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1): ADD: pdo test
	  program manual(Japanese)

2007-10-31 15:10  y-asaba

	* doc/pgpool-ja.html: Add comments about reloadable derectives.

2007-10-31 13:15  y-asaba

	* pool_config.l: Allow to reload pcp_timeout.

2007-10-31 12:49  y-mori

	* pool_rewrite_outfuncs.c (tags: V2_0_0_BETA1): FIX: "IN" predicate
	  at query rewriting

2007-10-31 12:31  y-asaba

	* NEWS: pgpool-II 2.0(beta1) release note.

2007-10-30 21:44  t-ishii

	* pool_auth.c (tags: V2_0_0_BETA1): Fix confusing variable name
	  Enhance error message Check unsupported auth method

2007-10-30 16:13  y-asaba

	* pool_process_query.c: Fix segfault with "SHOW pool_status".

2007-10-30 16:09  y-asaba

	* Makefile.am: Remove gprof option.

2007-10-30 15:58  y-asaba

	* doc/: pgpool-ja.html, pgpool.css (tags: V2_0_0_BETA1): Improve
	  online-recovery documentation.

2007-10-30 11:35  y-asaba

	* configure.in (tags: V2_0_0_BETA1): Prepare for pgpool-II 2.0
	  beta1.

2007-10-30 11:11  y-asaba

	* pool_auth.c: Previous commit did not support V2 protocol.

2007-10-30 10:53  y-asaba

	* pool_auth.c: Send the following error message to frontend if
	  client auth method is md5 password in replication, master-slave and
	  parallel modes.

	    MD5 authentication is unsupported in replication, master-slave and
	    parallel modes.

2007-10-29 17:12  y-asaba

	* Makefile.am: Merge V1_STABLE branch.

2007-10-29 15:55  y-asaba

	* pgpool.spec (tags: V2_0_0_BETA1): Merge V1_STABLE branch.

2007-10-29 15:28  y-asaba

	* redhat/: pgpool.init, pgpool.sysconfig (tags: V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1) (utags: V2_0_0,
	  V2_0_0_BETA1, V2_0_1, V2_1_0_BETA1, V2_1_0_BETA2): Merge redhat
	  scripts from V1_STABLE branch.

2007-10-29 15:09  y-asaba

	* doc/pgpool-ja.html: Fix insert_lock description.

2007-10-29 14:52  y-asaba

	* doc/pgpool-ja.html: Add new directives and update description of
	  online recovery.

2007-10-29 14:50  y-asaba

	* pgpool.conf.sample, pool.h, pool_config.l, pool_process_query.c,
	  recovery.c (tags: V2_0_0, V2_0_0_BETA1): Add new directives
	  "recovery_1st_stage_command" and "recovery_2nd_stage_command".

	  pgpool don't block client connections and data update operations
	  while executing recovery_1st_stage_command. In
	  recovery_2nd_stage_command, pgpool block them.

	  If you recover by PITR, the first stage command get a base backup.
	  Then you switch XLOG in the second stage command.

2007-10-29 13:37  y-asaba

	* sql/pgpool-recovery/: pgpool-recovery.c, pgpool-recovery.sql.in
	  (tags: V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1,
	  V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1) (utags: V2_0_0,
	  V2_0_0_BETA1, V2_0_1): Change pgpool_recovery signature from
	  pgpol_recovery(text, text) to pgpool_recovery(text, text, text). The
	  first argument is script name.

	  * pgpool_recovery arguments:
	    #1: script name
	    #2: remote host name
	    #3: remote database cluster path

	  return value:
	    command status (= "$?" value)

2007-10-29 13:16  y-mori

	* pool_process_query.c, pool_rewrite_outfuncs.c,
	  pool_rewrite_query.h (tags: V2_0_0_BETA1), parser/outfuncs.c
	  (tags: V2_0_1, V2_0_0, V2_0_0_BETA1): add optimization of
	  aggregate function and group by clause in parallel mode

2007-10-29 10:20  t-ishii

	* Makefile.in, pgpool.conf.sample, pool.h, pool_config.c,
	  pool_config.l, pool_process_query.c, parser/gram.c (tags:
	  V2_0_0_BETA1), parser/scan.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1): Change child_idle_limit to client_idle_limit

2007-10-26 20:28  y-asaba

	* pool_process_query.c: All signals are blocked while sending a
	  "COMMIT" command.

2007-10-26 16:41  y-asaba

	* pool_process_query.c: Check return value of pool_flush().

2007-10-23 16:32  y-asaba

	* sql/pgpool-recovery/pgpool-recovery.c: Change error message.

2007-10-23 13:44  y-asaba

	* Makefile.am, doc/pgpool-ja.html, sample/pgpool_recovery_pitr
	  (tags: V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2,
	  V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1,
	  V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1): Add
	  online recovery script using pitr.

2007-10-22 17:59  y-asaba

	* test/jdbc/.cvsignore (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1): Add .cvsignore file.

2007-10-22 17:55  y-asaba

	* Makefile.am: Add test/jdbc/* into tar ball.

2007-10-22 17:47  y-asaba

	* test/jdbc/: AutoCommitTest.java (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), BatchTest.java (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), ColumnTest.java (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), LockTest.java (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), PgpoolTest.java (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), RunTest.java, SelectTest.java (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), UpdateTest.java (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), pgpool.properties, prepare.sql, run.sh (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), expected/autocommit (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), expected/batch (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), expected/column (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), expected/lock (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), expected/select (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0), expected/update (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0) (utags: V2_0_0_BETA1): Add test program using
	  Java+JDBC driver.

2007-10-22 13:23  y-asaba

	* NEWS, doc/pgpool-ja.html: Merge from V1_STABLE branch.

2007-10-18 18:55  y-asaba

	* pool_query_cache.c (tags: V2_0_1, V2_0_0, V2_0_0_BETA1): Although
	  the second argument of PQunescapeBytea() requires size_t which size
	  is 8 byte in 64bit machine, pgpool passed 4 byte variable.  It
	  caused segfault. So fixed passing size_t variable.

2007-10-18 18:52  y-mori

	* test/pdo-test/: collections.inc, def.inc, log.txt, pdotest.php,
	  regsql.inc, SQLlist/test1.sql, SQLlist/test2.sql,
	  mod/database.inc, mod/def.inc, mod/errorhandler.inc (utags:
	  V2_0_0, V2_0_0_BETA1, V2_0_1, V2_1_0, V2_1_0_BETA1, V2_1_0_BETA2,
	  V2_1_0_RC1, V2_2_0, V2_2_0_BETA1, V2_2_0_BETA2, V2_2_0_RC1,
	  V2_2_0_RC2, V2_2_1, V2_2_2, V2_2_3, V2_2_4, V2_2_5, V2_2_6,
	  V2_2_7, V2_3, V2_3_1, V2_3_2, V2_3_2_1, V2_3_2_2, V2_3_3, V3_0_0,
	  V3_0_0_BETA1, V3_0_0_BETA2, V3_0_0_BETA3, V3_0_0_RC1, V3_0_1,
	  V3_0_2, V3_0_3, V3_0_3_BETA1, V3_1_0_ALPHA1,
	  V3_1_0_WITHOUT_FOLLOW_COMMAND): ADD: extend protocol test tool

2007-10-18 17:24  y-asaba

	* sample/pgpool_recovery (tags: V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1): execute rsync as
	  background jobs.

2007-10-18 13:48  y-asaba

	* sample/pgpool_recovery:
	  * Add --update option.
	  * Sync pg_twophase directory.

2007-10-18 11:54  y-asaba

	* pool_process_query.c: Fix compile warning on Solaris.

2007-10-18 10:21  y-asaba

	* pool_config.c, pool_config.l: Set failback_command default value
	  to empty string;

2007-10-17 19:23  y-asaba

	* main.c (tags: V2_0_0_BETA1): Fix segfault when failover_command
	  is empty.

2007-10-17 15:31  y-mori

	* pool_rewrite_outfuncs.c: FIX: lost alias name of column in query
	  rewriting when it was used at GRUP BY CLAUSE..etc

2007-10-17 12:00  y-mori

	* pool.h, pool_process_query.c, pool_rewrite_outfuncs.c: Fix:
	  compiler's warning

2007-10-16 12:44  y-asaba

	* pool_process_query.c: Fix hang up in load balancing mode.

2007-10-15 22:56  y-mori

	* pool_rewrite_outfuncs.c: fix Type Casting of Constant value was
	  not supported

2007-10-15 21:56  y-mori

	* pool_process_query.c: FIX wrong file descriptor was used at
	  pool_prallel_exec

2007-10-15 19:38  y-mori

	* pool_process_query.c, pool_rewrite_query.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1): FIX insert rule in parallel mode

2007-10-15 19:20  y-asaba

	* test/parser/: expected/create.out (tags: V2_2_7, V2_2_6),
	  expected/select.out, input/select.sql (utags: V2_0_0,
	  V2_0_0_BETA1, V2_0_1, V2_1_0, V2_1_0_BETA1, V2_1_0_BETA2,
	  V2_1_0_RC1, V2_2_0, V2_2_0_BETA1, V2_2_0_BETA2, V2_2_0_RC1,
	  V2_2_0_RC2, V2_2_1, V2_2_2, V2_2_3, V2_2_4, V2_2_5): Add test
	  cases.

2007-10-15 19:18  y-asaba

	* parser/outfuncs.c: Support interval operator.

2007-10-15 18:51  y-asaba

	* parser/: gram.y, scan.l (utags: V2_0_0, V2_0_0_BETA1, V2_0_1):
	  Fix core dump with the following SQL.
	    SELECT * FROM tbl LIMIT 1,0;

2007-10-15 16:05  y-asaba

	* pool_process_query.c: Fix invalid memory access when pgpool
	  processed DEALLOCATE statement.

2007-10-15 15:56  y-mori

	* pool_config.c, pool_process_query.c, pool_rewrite_outfuncs.c,
	  pool_rewrite_query.c, pool_rewrite_query.h, pool_system.c (tags:
	  V2_0_1, V2_0_0, V2_0_0_BETA1), pool_type.h (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1): ADD query rewriting to main trunc

2007-10-15 15:11  y-asaba

	* parser/pool_memory.c (tags: V2_0_1, V2_0_0, V2_0_0_BETA1): Fix
	  core dump with a large SQL.

2007-10-12 21:27  t-ishii

	* pgpool.conf.sample, pool.h, pool_config.c, pool_process_query.c,
	  parser/scan.c: Add pool_status entry for child_idle_limit Fix
	  comments

2007-10-12 18:15  y-asaba

	* pgpool.conf.sample: Add new directive "authentication_timeout"
	  into pgpool.conf.sample.

2007-10-12 15:56  y-asaba

	* doc/pgpool-ja.html: Add authentication_timeout.

2007-10-12 14:55  y-asaba

	* main.c: Fix compiler warning.

2007-10-12 14:30  y-asaba

	* parser/: parser.c (tags: V2_0_1, V2_0_0, V2_0_0_BETA1),
	  pool_parser.h (tags: V2_0_1, V2_0_0, V2_0_0_BETA1), scan.l: Fix
	  scanner's error handling. If there was a unterminated double-quote
	  identifier, scanner entered infinite-loop.

2007-10-12 13:51  y-asaba

	* child.c (tags: V2_0_1, V2_0_0, V2_0_0_BETA1), pool.h,
	  pool_config.c, pool_config.l, pool_process_query.c: Add new
	  directive "authentication_timeout". The directive means the maximum
	  time in seconds to complete client authentication. The default value
	  is 60.

2007-10-12 13:50  y-asaba

	* TODO (tags: V2_0_1, V2_0_0, V2_0_0_BETA1): Remove some items.

2007-10-12 13:39  y-asaba

	* test/parser/input/select.sql: Add test cases.

2007-10-12 13:38  y-asaba

	* parser/outfuncs.c: Support for XmlExprt object.

2007-10-12 13:35  y-asaba

	* pcp_child.c (tags: V2_0_1, V2_0_0, V2_0_0_BETA1): recovery
	  request can be accepted only in replication mode.

2007-10-12 13:34  t-ishii

	* Makefile.am, Makefile.in, pgpool.conf.sample, pool.h,
	  pool_config.c, pool_config.l, pool_process_query.c,
	  parser/Makefile.am (tags: V2_0_0_BETA1), parser/Makefile.in,
	  parser/gram.c, parser/gram.h (tags: V2_0_0_BETA1): Add
	  child_idle_limit.  # If child_idle_limit is n (n > 0), the child is
	  forced to be # disconnected after n seconds idle between
	  transactions.  # 0 means no disconnect.

	  Need to work on show pool_status and docs.

2007-10-11 17:32  y-asaba

	* child.c, pool.h: Check startup packet length. If the length is
	  greater than 10,000 byte, pgpool reject the connection.

2007-10-11 10:49  y-asaba

	* TODO: Add graceful {shutodwn, attach, detach} into TODO list.

	  * TODO for TODO list translate Japanse into English.

2007-10-04 13:17  y-asaba

	* doc/: pgpool-ja.html, pgpool.css: Update Japanse manual.
	    - Add release note for pgpool-II 2.0
	    - Add failover_command and failback_command description

2007-10-04 12:00  y-asaba

	* doc/pgpool-en.html: Merge V1_STABLE branch.

2007-10-04 11:36  y-asaba

	* version.h (tags: V2_0_1, V2_0_0, V2_0_0_BETA1): Change
	  PGPOOLVERSION to "hikitsuboshi".

2007-10-03 15:19  y-asaba

	* TODO: Remove TODO items.

2007-10-03 14:21  y-asaba

	* pool_process_query.c: Reset a prepared statement list when
	  DISCARD ALL or DISCARD PLANS statement is completed.

2007-10-03 13:52  y-asaba

	* test/parser/: README (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND),
	  run-test (utags: V2_0_0, V2_0_0_BETA1, V2_0_1, V2_1_0,
	  V2_1_0_BETA1, V2_1_0_BETA2, V2_1_0_RC1, V2_2_0, V2_2_0_BETA1,
	  V2_2_0_BETA2, V2_2_0_RC1, V2_2_0_RC2, V2_2_1, V2_2_2, V2_2_3,
	  V2_2_4, V2_2_5, V2_2_6, V2_2_7, V2_3, V2_3_1, V2_3_2, V2_3_2_1,
	  V2_3_2_2, V2_3_3, V3_0_0, V3_0_0_BETA1, V3_0_0_BETA2,
	  V3_0_0_BETA3, V3_0_0_RC1, V3_0_1, V3_0_2, V3_0_3, V3_0_3_BETA1,
	  V3_1_0_ALPHA1): Translate from Japanese into English.

2007-10-03 13:47  y-asaba

	* Makefile.am, Makefile.in, test/parser/.cvsignore (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/Makefile (tags:
	  V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0,
	  V2_0_0_BETA1), test/parser/README, test/parser/main.c (tags:
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1),
	  test/parser/parse_schedule (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/pool.h
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/run-test,
	  test/parser/expected/copy.out (tags: V2_2_7, V2_2_6, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1),
	  test/parser/expected/create.out, test/parser/expected/cursor.out
	  (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1,
	  V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1,
	  V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0,
	  V2_0_0_BETA1), test/parser/expected/delete.out (tags: V2_2_7,
	  V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0,
	  V2_0_0_BETA1), test/parser/expected/drop.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/expected/insert.out
	  (tags: V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0,
	  V2_0_0_BETA1), test/parser/expected/misc.out (tags: V2_2_7,
	  V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0,
	  V2_0_0_BETA1), test/parser/expected/prepare.out (tags: V2_2_7,
	  V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0,
	  V2_0_0_BETA1), test/parser/expected/privileges.out (tags: V2_2_7,
	  V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0,
	  V2_0_0_BETA1), test/parser/expected/select.out,
	  test/parser/expected/transaction.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/expected/update.out
	  (tags: V2_2_7, V2_2_6, V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1,
	  V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1,
	  V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0,
	  V2_0_0_BETA1), test/parser/expected/var.out (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/alter.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/copy.sql (tags:
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1),
	  test/parser/input/create.sql (tags: V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/cursor.sql
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/delete.sql
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/drop.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/insert.sql
	  (tags: V2_2_5, V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0,
	  V2_0_0_BETA1), test/parser/input/misc.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/prepare.sql
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/privileges.sql
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/select.sql,
	  test/parser/input/transaction.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/update.sql
	  (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1,
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), test/parser/input/var.sql (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1): Add SQL parser test.

2007-10-03 13:25  y-asaba

	* Makefile.in, aclocal.m4, config.sub (tags:
	  V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3, V3_0_3_BETA1, V3_0_2,
	  V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), configure, ltmain.sh (tags:
	  V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1, V3_0_0_BETA3,
	  V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), pool_hba.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1), pool_process_query.c, pool_rewrite_outfuncs.c,
	  pool_rewrite_query.c, parser/Makefile.in, parser/copyfuncs.c
	  (tags: V2_0_1, V2_0_0, V2_0_0_BETA1), parser/gram.c,
	  parser/gram.h, parser/gram.y, parser/gramparse.h (tags: V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1), parser/keywords.c
	  (tags: V2_0_1, V2_0_0, V2_0_0_BETA1), parser/keywords.h (tags:
	  V2_0_1, V2_0_0, V2_0_0_BETA1), parser/list.c (tags: V2_0_1,
	  V2_0_0, V2_0_0_BETA1), parser/makefuncs.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1), parser/makefuncs.h (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1), parser/nodes.h (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1), parser/outfuncs.c, parser/parsenodes.h (tags:
	  V2_0_1, V2_0_0, V2_0_0_BETA1), parser/parser.c, parser/parser.h
	  (tags: V2_0_1, V2_0_0, V2_0_0_BETA1), parser/pg_list.h (tags:
	  V2_0_1, V2_0_0, V2_0_0_BETA1), parser/pool_parser.h,
	  parser/primnodes.h (tags: V2_0_1, V2_0_0, V2_0_0_BETA1),
	  parser/scan.c, parser/scan.l, parser/value.c (tags: V2_0_1,
	  V2_0_0, V2_0_0_BETA1), parser/value.h (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1), pcp/Makefile.in: Import PostgreSQL 8.3 SQL parser.
	  The revision of gram.y is 2.603.

2007-10-03 13:17  y-asaba

	* pgpool.conf.sample, pool_config.c, pool_config.l: The default
	  value of ignore_leading_white_space is true in pgpool-II 2.x.

2007-09-27 18:38  gleu

	* pool_process_query.c: Typo fix.

2007-09-27 11:48  y-asaba

	* TODO: Remove TODO item.

2007-09-27 11:46  y-asaba

	* pool_process_query.c: Call read_kind_from_backend() function
	  instead of pool_read_kind() in Execute(), Parse() and
	  SimpleForwardToFrontend().

2007-09-26 18:09  y-asaba

	* pool_process_query.c: Remove debug message.

2007-09-26 17:56  y-asaba

	* pool_process_query.c: SET, PREPARE and DEALLOCATE statements are
	  replicated in master/slave mode.

2007-09-26 14:29  y-asaba

	* main.c, pool.h, pool_process_query.c, pool_stream.c (tags:
	  V2_0_0_BETA1): pgpool-II could not detach multiple node when
	  message kinds were mismatched.

	  For example:
	    node-1(master): success
	    node-2: fail
	    node-3: success
	    node-4: fail
	    node-5: success

	  node-2 was only detached.

	  Now it determine detached nodes by "majority voting rule".  And it
	  can detach them at the same time.

	  For example:
	    node-1(master): success
	    node-2: fail
	    node-3: success
	    node-4: fail
	    node-5: success

	  node-2 and node-4 are detached because they are minority.

	    node-1(master): success
	    node-2: fail
	    node-3: fail
	    node-4: success

	  The number of the group which gain "success" is same as the number
	  of the group which gain "fail". In this case, node-2 and node-3 are
	  detached because these don't belong to the group which master
	  belongs to.

2007-09-26 12:32  y-asaba

	* pool_sema.c (tags: V2_0_1, V2_0_0, V2_0_0_BETA1): Fix
	  initializing semaphore values.

2007-09-16 11:08  y-asaba

	* pgpool.conf.sample: Add comments abount failover_command and
	  failback_command.

2007-09-14 22:36  y-asaba

	* main.c, pgpool.conf.sample, pool.h, pool_config.c, pool_config.l,
	  pool_process_query.c, parser/gram.c, parser/gram.h,
	  parser/gram.y, parser/pool_string.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1), parser/pool_string.h (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1): Add "failover_command" and "failback_command"
	  directives.  If failover or failback occur, pgpool execute setting
	  command by system(3).  These directives evaluate special characters
	  with the following rule.

	    %d: node id
	    %h: backend's hostname
	    %p: backend's port number
	    %D: backend's data directory

	  example) pgpool.conf: ---
	    failover_command = 'echo %h %p %D %d > /tmp/failover'
	    failback_command = 'echo %h %p %D %d > /tmp/failback'

	    backend_hostname1 = 'localhost'
	    backend_port1 = 5433
	    backend_weight1 = 1
	    backend_data_directory1 = '/home/postgres/pgdata/data5433' ---

	  When node 1 is down, pgpool execute the following failover command.

	    failover localhost 5433 /home/postgres/pgdata/data5433 1

	  /tmp/failover is created.

	    % cat /tmp/failover
	    failover localhost 5433 /home/postgres/pgdata/data5433 1

2007-09-14 20:11  y-asaba

	* child.c, pool.h, pool_process_query.c: Fix hang up when load
	  balancing node was down.

2007-09-10 22:29  t-ishii

	* pool_process_query.c: Modfify pool_send_error_message() so that
	  it won't be blocked by sending packet to the closing frontend
	  connection.  Also rename set_non_block() and unset_non_block() to
	  pool_sen_non_block() and pool_unset_non_block() respectively to make
	  them public functions.

2007-09-10 22:25  t-ishii

	* child.c, pool.h: Modfify pool_send_error_message() so that it
	  won't be blocked by sending packet to the closing frontend
	  connection.  Also rename set_non_block() and unset_non_block() to
	  pool_sen_non_block() and pool_unset_non_block() respectively to make
	  them public functions.

2007-09-10 21:47  t-ishii

	* child.c: Fix misspell in a comment

2007-09-07 18:08  y-asaba

	* pool_process_query.c, parser/parser.c, parser/pool_memory.c,
	  parser/pool_memory.h (tags: V2_0_1, V2_0_0, V2_0_0_BETA1):
	  Improve performance.
	    - Reuse parser memory space in free_parser().
	    - Check node type before comparing with "show pool_status()".

2007-09-06 10:43  y-asaba

	* doc/pgpool-en.html: Fix restricted query section.

2007-08-29 15:49  y-asaba

	* pool_query_cache.c, pcp/pcp.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1), pcp/pcp_stream.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1): Fix compile error on FreeBSD 4.11.

2007-08-29 15:48  y-asaba

	* recovery.c: Fix compile error.

2007-08-29 15:01  y-asaba

	* pool_process_query.c: Read response messages in Parse() until
	  receiving ParseComplete or ErrorResponse message.

2007-08-28 19:07  y-asaba

	* pool_process_query.c: Add checking deadlock error message in
	  Parse().

2007-08-28 11:28  y-asaba

	* pool_process_query.c:
	  * Fix handling Parse message.  Parse message including
	  INSERT/UPDATE/DELETE query acquires RowExclusiveLock. However pgpool
	  did not wait a response from each node. It was possible to occur
	  deadlock problem.

	  * Fix memory leak in reset_prepared_list()

2007-08-17 10:50  t-ishii

	* TODO, doc/pgpool-ja.html: Enhance documentation.

2007-08-13 11:23  y-asaba

	* pgpool.conf.sample, pool.h, pool_config.l, pool_process_query.c:
	  Add new parameter named "replicate_select". Default value is
	  'false'.

	  If it is true, pgpool replicates SELECT queries when load balancing
	  is disabled. This is a old specification which was V1.0.

	  If it is false, pgpool only sends them to the master node. This is a
	  current specification.

2007-08-06 10:42  y-asaba

	* pool_process_query.c: Fix memory leak.

2007-08-01 13:27  y-asaba

	* child.c: Remove compiler warning.

2007-07-27 10:19  y-asaba

	* doc/pgpool-ja.html: Merge from V1_STABLE branch

2007-07-26 19:15  y-asaba

	* child.c, pool.h, pool_connection_pool.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1): SIGALRM handler didn't safe. Because it called
	  non-reentrant functions.  We only set a flag in SIGALRM handler.
	  Then we close expired connections in safe places.

2007-07-26 14:15  y-asaba

	* pool_connection_pool.c: Fix memory leak when connection slot is
	  full.

2007-07-26 11:28  t-ishii

	* aclocal.m4, configure, pool_config.c: Run autoconf

2007-07-26 11:21  y-asaba

	* pool_config.l: Fix using uninitialized value.

2007-07-25 21:31  y-asaba

	* pool_process_query.c: Fix hang up and SEGV if Parse message
	  contains a warning statement.

	    SELECT '\'';
	    WARNING:  nonstandard use of \' in a string literal

	  If pgpool receives a warning message that is NoticeMessage('N')
	  under the extended query protocol, it reads a next message.

2007-07-24 18:02  y-asaba

	* pool.h, pool_process_query.c: Detect deadlock in do_command().
	  When insert_lock was true, kind mismatch error occured.

2007-07-23 14:32  y-asaba

	* pool_process_query.c: Fixed that start_internal_transaction() was
	  only called under replication mode or parallel mode.

2007-07-23 14:24  y-asaba

	* main.c: Remove debug code.

2007-07-23 13:37  y-asaba

	* child.c, main.c, pool.h, pool_config.c, pool_config.l,
	  pool_process_query.c, pool_type.h: Add reloading config files.
	  pgpool can reload pgpool.conf, pool_hba.conf and distributed rules
	  from system DB. If reload, you type the following command.

	    % pgpool reload

	  Or you send SIGHUP signal to the pgpool parent process.

2007-07-17 15:04  y-asaba

	* pool_process_query.c: Fix hang up when backend node did fast or
	  immediate shutdown.

	  If shutdown occured, postgres send an error which error code is
	  "57P01" and error message is "terminating connection due to
	  administrator command".

	  However, another nodes did not send any messages. pgpool waited for
	  a message from them. when the error is sended, pgpool reads the
	  message and degenerate.

2007-07-17 11:33  y-asaba

	* pool_process_query.c (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE):
	  Rearrange detect_deadlock_error().

2007-07-10 18:56  y-asaba

	* main.c (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE), pool.h (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), pool_process_query.c,
	  pool_stream.c (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE):
	  * Change type of InRecovery variable to sig_atomic_t*

	  * Fixed kind mismatch error when deadlock error occured.  The
	  problem is the following senario.

	    A: BEGIN:
	    B: BEGIN;
	    A: LOCK TABLE t1 IN SHARE ROW EXCLUSIVE MODE;
	    B: LOCK TABLE t2 IN SHARE ROW EXCLUSIVE MODE;
	    A: LOCK TABLE t2 IN SHARE ROW EXCLUSIVE MODE;
	    B: LOCK TABLE t1 IN SHARE ROW EXCLUSIVE MODE;

	  Transaction "A" aborts on master node, but it completes on another
	  nodes. It causes wrong failover.

	  So pgpool checks deadlock error(code == '40P01') and sends error
	  query to another nodes.

2007-07-09 14:18  y-asaba

	* main.c: Add comments.

2007-07-09 13:23  y-asaba

	* main.c: Fix race condition between flag checking and signal
	  blocking.

	  Normally, this case solve to call pselect(2). But Linux's pselect(2)
	  is emulated by select(2) and sigprocmask(2). It contains this race.
	  So pgpool archieves using the self-pipe trick.

	  See 'man pselect' if you want to get more information.

2007-07-09 10:29  y-asaba

	* config.guess (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), config.h.in (tags: V2_0_1,
	  V2_0_0, V2_0_0_BETA1, ROOT_OF_V2_0_PARALLEL_UNSTABLE), configure
	  (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE), configure.in (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), ltmain.sh (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), aclocal.m4 (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), child.c (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), pcp_child.c (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), pool_connection_pool.c (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), pool_process_query.c,
	  pool_query_cache.c (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE),
	  pool_stream.c: configure checks that OS has sys/select.h.  If it
	  exists, include it.

2007-07-06 17:32  y-asaba

	* child.c, pool_process_query.c, pool_type.h (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE): Load balancing node was chosen
	  before sending "SELECT" statement.  But this way had the following
	  problems.

	    psql>\d accounts
	    Did not find any relation with OID XXX

	  pgpool chooses it after receiving AuthenticationOK('R') message. So
	  pgpool load balance to the same node inside a same session.

2007-07-05 18:12  y-asaba

	* main.c: Improve signal handling.

	  We fixed signal handling at revision 1.6. That fix was to set a flag
	  in signal handler, then pgpool checked flags in safe points. However
	  It has a race condition in the following case.

	    CHECK_REQUEST;   <-- check flags
	    <signal handler> <-- set flags
	    pause();         <-- wait for signals

	  So, we modified to deliver signals in safe places which are in
	  pause() and sleep().

2007-07-05 11:14  y-asaba

	* pool_process_query.c:
	  * Remove debug code.
	  * Refactor ReadyForQuery() and do_command().

2007-07-04 17:18  y-asaba

	* pool_process_query.c: In replication mode, pgpool checks the
	  numbers of insert/update/delete tuples in CommandComplete message.
	  If these numbers are not same, a transaction is aborted by pgpool.
	  It is for data consistency.

	  TODO: This behavior will be able to switch by pgpool.conf.

2007-07-03 18:23  y-asaba

	* TODO (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE): Rearrange TODO list.

2007-06-29 23:15  y-asaba

	* main.c: Fix race condition between unsetting SIGCHLD flag and
	  unblocking SIGCHLD signal.

2007-06-28 21:35  y-asaba

	* main.c: Fix SIGUSR2 handling. The signal handler only set flag.
	  Then, pgpool call SIGUSR2 handler in CHECK_REQUEST macro.

2007-06-27 18:29  y-asaba

	* ChangeLog (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE), pool.h,
	  pool_process_query.c: Fix hang up when a SELECT query has error
	  inside transaction block. It occurs only in simple query protocol.

2007-06-27 18:04  y-asaba

	* sample/pgpool_remote_start (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE): Fix checking the number of
	  arguments.

2007-06-26 10:35  y-asaba

	* pcp_child.c: Remove unused variable.

2007-06-22 19:10  t-ishii

	* Makefile.in (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE), aclocal.m4,
	  configure, parser/Makefile.in (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), parser/scan.c (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), pcp/Makefile.in (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE): run autoconf and flex

2007-06-22 18:50  y-asaba

	* Makefile.am (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE), Makefile.in,
	  aclocal.m4, child.c, configure, configure.in, main.c,
	  pcp_child.c, pgpool.conf.sample (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), pool.h, pool_config.c (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), pool_config.l (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), pool_process_query.c,
	  pool_type.h, recovery.c (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE),
	  doc/pgpool-ja.html (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE),
	  parser/Makefile.in, pcp/Makefile.am (tags: V2_0_0_BETA1,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), pcp/Makefile.in, pcp/pcp.c
	  (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE), pcp/pcp.h (tags: V2_0_1,
	  V2_0_0, V2_0_0_BETA1, ROOT_OF_V2_0_PARALLEL_UNSTABLE),
	  pcp/pcp_recovery_node.c (tags: V2_0_1, V2_0_0, V2_0_0_BETA1,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), sample/pgpool_recovery (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), sample/pgpool_remote_start,
	  sql/pgpool-recovery/Makefile (tags: V2_2_2, V2_2_1, V2_2_0,
	  V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0,
	  V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1, V2_0_1, V2_0_0,
	  V2_0_0_BETA1), sql/pgpool-recovery/pgpool-recovery.c,
	  sql/pgpool-recovery/pgpool-recovery.sql.in: Add new features in
	  pgpool-II 2.0.
	  * support online-recovery in replication mode.
	    - based on physical data copy

	  * improve replication mode.
	    - employ "primary copy method" to enhance the performance
	    - more stable replication

2007-06-21 10:17  y-asaba

	* ChangeLog: update ChangeLog.

2007-06-20 18:09  y-asaba

	* main.c: Fix SIGCHLD and SIGUSR1 signal handling. Signal handlers
	  set flags only, then a parent process checks flags in signal safe
	  places.

2007-06-20 17:14  t-ishii

	* pool_config.c, parser/gram.c (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE), parser/gram.h (tags: V1_3,
	  V1_2_1, V1_2, ROOT_OF_V2_0_PARALLEL_UNSTABLE), parser/scan.c
	  (tags: V1_2_1, V1_2): run flex

2007-06-18 11:40  y-asaba

	* pool_process_query.c: Fix memory leak in NotificationResponse().

2007-06-18 11:37  y-asaba

	* ChangeLog: update ChangeLog.

2007-06-18 11:34  y-asaba

	* pool_process_query.c:
	  * Fix compile warning.
	  * Fix memory leak in CursorResponse().

2007-06-18 10:33  t-ishii

	* Makefile.in (tags: V1_2_1, V1_2): run autoconf

2007-06-15 22:35  devrim

	* pgpool.spec (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE): Update spec
	  file

2007-06-15 12:21  y-asaba

	* NEWS (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE), doc/pgpool-ja.html
	  (utags: V1_1_1): Update release note.

2007-06-15 11:57  t-ishii

	* configure (tags: V1_1_1): Run autoconf.

2007-06-15 11:55  t-ishii

	* doc/pgpool-ja.html: Fix typo.

2007-06-14 16:44  y-asaba

	* ChangeLog (tags: V1_1_1): Prepare for 1.1.1

2007-06-12 10:49  y-asaba

	* NEWS: Prepare for 1.1.1

2007-06-11 15:37  y-asaba

	* configure.in (tags: V1_1_1), doc/pgpool-ja.html: Prepare for
	  1.1.1

2007-06-11 12:06  y-asaba

	* ChangeLog: Update ChangeLog.

2007-06-11 12:01  y-asaba

	* pool_process_query.c (tags: V1_1_1): Fix kind mismatch error when
	  load_balance_mode is true.

2007-06-07 11:38  y-asaba

	* pool_process_query.c: Fix handling nullmap (V2 only).

2007-06-06 17:32  yamaguti

	* doc/: pgpool-en.html (tags: ROOT_OF_V2_0_PARALLEL_UNSTABLE,
	  V1_1_1), pgpool-ja.html: added an explanation about command line
	  option "-a" for HBA file.

2007-06-02 09:54  y-asaba

	* pool_process_query.c: Fix typo EmptyQueryResponse message. pgpool
	  hung up in EXECUTE command.  (Patch contributed by Kenichi Sawada)

2007-05-29 10:58  y-asaba

	* pool_process_query.c: Fix handling protocol version 2.

2007-05-28 18:13  y-asaba

	* pool_process_query.c: Fix handling protocol version 2.

2007-05-25 12:02  y-asaba

	* Makefile.am (tags: V1_2_1, V1_2), Makefile.in (utags: V1_1,
	  V1_1_1): Fix typo

2007-05-25 11:45  y-asaba

	* ChangeLog (tags: V1_1): Prepare for 1.1

2007-05-25 11:37  y-asaba

	* doc/: pgpool-en.html, pgpool-ja.html (utags: V1_1): Add handling
	  "SELECT nextval".

2007-05-25 11:30  y-asaba

	* doc/pgpool-ja.html: Add Japanese release note for 1.1

2007-05-24 23:27  t-ishii

	* Makefile.in, aclocal.m4 (tags: V1_3, V1_2_1, V1_2, V1_1_1, V1_1),
	  configure (tags: V1_1), parser/Makefile.in (tags: V1_3, V1_2_1,
	  V1_2, V1_1_1, V1_1), pcp/Makefile.in (tags: V1_3, V1_2_1, V1_2,
	  V1_1_1, V1_1): Resync files generated by configure.in

2007-05-24 23:25  t-ishii

	* TODO (tags: V1_3, V1_2_1, V1_2, V1_1_1, V1_1): update
	  TODO(Japanese)

2007-05-24 15:42  y-asaba

	* NEWS (tags: V1_1): update NEWS

2007-05-24 15:38  y-asaba

	* parser/pool_memory.c (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1), ChangeLog: Fix
	  core dump in pool_memory_realloc().

2007-05-23 11:01  yamaguti

	* ChangeLog, NEWS:

	  fixed pgpool.pam so it is installed under $PREFIX/share/pgpool-II/

2007-05-23 10:59  yamaguti

	* ac_func_accept_argtypes.m4 (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND,
	  V3_0_3, V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0,
	  V3_0_0_RC1, V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3,
	  V2_2_7, V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5,
	  V2_2_4, V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1), pool_hba.c,
	  pool_hba.conf.sample (tags: V2_3_3, V2_2_7, V2_3_2_2, V2_3_2_1,
	  V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4, V2_2_3, V2_2_2,
	  V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1, V2_2_0_BETA2,
	  V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2, V2_1_0_BETA1,
	  V2_0_1, V2_0_0, V2_0_0_BETA1), pool_ip.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1), pool_ip.h (tags: V2_0_1, V2_0_0, V2_0_0_BETA1),
	  pool_path.c (tags: V2_0_1, V2_0_0, V2_0_0_BETA1), pool_path.h
	  (tags: V2_0_1, V2_0_0, V2_0_0_BETA1), ps_status.c (tags: V2_0_1,
	  V2_0_0, V2_0_0_BETA1), strlcpy.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1) (utags: ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1,
	  V1_1_1, V1_2, V1_2_1, V1_3):

	  new files for HBA, ps display, log_hostname & log_connections

2007-05-22 15:28  y-asaba

	* pool_process_query.c (tags: V1_1): Add checking a message length
	  is valid.  (Reported by Fujii Masao)

2007-05-21 14:49  y-asaba

	* NEWS, configure.in (tags: V1_1), version.h (tags:
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1): Prepare for 1.1

2007-05-21 11:16  yamaguti

	* Makefile.am, Makefile.in: pgpool.pam and system_db.sql is now
	  installed under share/pgpool-II/

2007-05-17 15:46  yamaguti

	* ChangeLog, Makefile.am, Makefile.in, aclocal.m4, child.c (tags:
	  V1_1_1, V1_1), config.h.in (tags: V1_1_1, V1_1), configure,
	  configure.in, main.c (tags: V1_1_1, V1_1), pcp_child.c (tags:
	  V1_3, V1_2_1, V1_2, V1_1_1, V1_1), pgpool.conf.sample (tags:
	  V1_1_1, V1_1), pool.h (tags: V1_1_1, V1_1), pool_config.c (tags:
	  V1_1_1, V1_1), pool_config.l (tags: V1_1_1, V1_1),
	  pool_process_query.c, pool_query_cache.c (tags: V1_2, V1_1_1,
	  V1_1), pool_type.h (tags: V1_1_1, V1_1), doc/pgpool-en.html,
	  doc/pgpool-ja.html, parser/Makefile.in, parser/gram.c (tags:
	  V1_1_1, V1_1), parser/gram.h (tags: V1_1_1, V1_1),
	  parser/pool_parser.h (tags: V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1), pcp/Makefile.in,
	  sample/pgpool.pam (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1, V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1):
	  * Support HBA authentication.
	  * Support log_connections
	  * Support log_hostname
	  * Support "ps" status display
	  * Fixed compiler warning in pool_query_cache.c
	  * sample/pgpool.pam: PAM service configuration file. It will be
	    installed to "$PREFIX/share/"
	  * doc/pgpool-ja.html: Added pool_hba description.
	  * doc/pgpool-en.html: Added pool_hba description.
	  * Updated ChangeLog

2007-04-26 14:26  y-asaba

	* ChangeLog, pool_connection_pool.c (tags: V1_1_1, V1_1): Retry
	  connect() when it is interrupted by signal.

2007-04-20 16:18  y-asaba

	* ChangeLog: Add entry.

2007-04-20 15:41  y-asaba

	* pool_process_query.c: Enhance that the query that begins with
	  "SELECT nextval()" or "SELECT setval()" are always replicated under
	  replication mode.

	  Then, SELECT statements are only executed by MASTER node if
	  load_balance_mode is false. If need to replicate select statement,
	  add a comment in the begining of the query.

	  Example:
	    SELECT foo() -> /*REPLICATION*/ SELECT foo()

2007-04-15 20:26  t-ishii

	* pool_process_query.c: Fix read_kind_from_backend(). It calls
	  notice_backend_error() with fixed db node number 1. Make it the db
	  node which returns different packet kind from master.

2007-04-12 17:30  devrim

	* pool_process_query.c: Patch to surpress compiler warnings, per
	  Ralf Corsepius

2007-03-01 13:06  y-asaba

	* ChangeLog, pool_process_query.c: Support load balancing with
	  extended protocol.  (Parallel query isn't supported extended
	  protocol yet.)

2007-03-01 12:03  y-asaba

	* ChangeLog, parser/Makefile.am (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1), parser/copyfuncs.c
	  (tags: V1_3, V1_2_1, V1_2, ROOT_OF_V2_0_PARALLEL_UNSTABLE,
	  V1_1_1, V1_1): Porting deep copy functions for tree nodes from
	  PostgreSQL.

2007-02-28 20:04  y-asaba

	* ChangeLog: Add ChangeLog entry.

2007-02-28 19:44  y-asaba

	* Makefile.am: Fix link error on Solaris. Solaris's ld does not
	  have --rpath option.  So it uses libtool's -rpath option instead of
	  ld's option.

2007-02-21 04:38  devrim

	* pgpool.spec (tags: V1_1_1, V1_1): Fixes from Jarod Wilson
	  <jwilson@redhat.com>
	  - Create proper devel package, drop -libs package
	  - Nuke rpath
	  - Don't install libtool archive and static lib
	  - Clean up %%configure line
	  - Use proper %%_smp_mflags
	  - Install config files properly, without .sample on the end
	  - Preserve timestamps on header files

2007-02-20 18:20  devrim

	* pgpool.spec:
	  - Update to 1.0.2-1
	  - Fix various build problems and prepared for Fedora Submission


	  ----------------------------------------------------------------------

2007-02-20 15:02  devrim

	* pgpool.conf.sample: Update header so that we can see that it is
	  pgpool-II conf file (I was confused after removing pgpool and
	  installing pgpool-II :) )

2007-02-16 22:56  t-ishii

	* Makefile.in, configure, parser/Makefile.in, pcp/Makefile.in:
	  automake & autoconf

2007-02-16 20:31  y-asaba

	* ChangeLog, Makefile.am, configure.in, pool_connection_pool.c,
	  pool_query_cache.c, pcp/pcp.c (tags: V1_2, V1_1_1, V1_1),
	  pcp/pcp_stream.c (tags: V1_2, ROOT_OF_V2_0_PARALLEL_UNSTABLE,
	  V1_1_1, V1_1): Fixed compile error on MacOS X. MacOS's ld does
	  not have rpath option. So add --disable-rpath option to configure
	  for MacOS X.

2007-02-13 12:44  y-asaba

	* ChangeLog (tags: V1_0_2):
	  * Add entries using cvs2cl.

2007-02-12 16:23  y-asaba

	* doc/pgpool-ja.html (tags: V1_0_2): Add release note.

2007-02-12 15:51  y-asaba

	* doc/pgpool-ja.html: Add Japanese release note into
	  pgpool-ja.html.

2007-02-12 11:32  y-asaba

	* child.c, pool.h, pool_connection_pool.c (utags: V1_0_2): pgpool
	  *only* checks backend connection when connection pool is reused.

2007-02-09 12:54  y-asaba

	* NEWS (tags: V1_0_2): fix indent.

2007-02-09 12:50  y-asaba

	* NEWS: Remove '\000'.

2007-02-08 22:08  t-ishii

	* doc/pgpool-en.html (tags: V1_0_2): prepare for 1.0.2

2007-02-08 21:52  t-ishii

	* NEWS, config.h.in (tags: V1_0_2), configure (tags: V1_0_2):
	  Prepare for 1.0.2

2007-02-08 17:56  y-asaba

	* doc/pgpool-ja.html: Add new loadbalancing rule in replication
	  mode section.

2007-02-08 17:34  y-asaba

	* pool_query_cache.c, configure.in, pool_system.c (tags: V1_3,
	  V1_2_1, V1_2, ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1)
	  (utags: V1_0_2): Fixed configure error if libpq version is 7.4.x.
	  7.4 does not have PQprepare(). So when version is 7.4, pgpool uses
	  PREPARE statement instead of PQprepare().

2007-02-08 00:44  y-asaba

	* configure.in: Prepare for 1.0.2

2007-02-07 19:08  t-ishii

	* Makefile.in (tags: V1_0_2), aclocal.m4 (tags: V1_0_2), configure,
	  configure.in, pool_config.c (tags: V1_0_2), parser/Makefile.in
	  (tags: V1_0_2), pcp/Makefile.in (tags: V1_0_2): update
	  configure.in to use pg_config.  Patch made by Yoshiyuki Asaba.

2007-02-06 11:46  y-asaba

	* pool_connection_pool.c: Add checking socket state when connection
	  pool is reused.  If socket is closed, pgpool try to create new
	  connection pool.

2007-01-30 11:25  y-asaba

	* pool_process_query.c (tags: V1_0_2): Disable to load balance in
	    the following cases.
	  - SELECT FOR UPDATE
	    - SELECT INTO
	    - /* xxx */ SELECT ... (This is pgpool-I spec.)

2007-01-13 23:56  yamaguti

	* pool_signal.h (tags: V2_0_1, V2_0_0, V2_0_0_BETA1, V1_3, V1_2_1,
	  V1_2, ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2):

	  fixed #ifndef ~ #define macro for that it could have been included
	  redundantly.

2007-01-10 04:02  y-asaba

	* pool_process_query.c: Fix auto-deallocation. If a client used PDO
	  interface, pgpool didn't clean prepared statement.

2007-01-05 02:27  devrim

	* COPYING (tags: V2_0_1, V2_0_0, V2_0_0_BETA1, V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2), child.c,
	  main.c (tags: V1_0_2), pcp_child.c (tags: V1_0_2), pgpool.8.in
	  (tags: V2_0_0_BETA1, V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2), pool.h,
	  pool_auth.c (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2),
	  pool_config.c, pool_config.l (tags: V1_0_2),
	  pool_connection_pool.c, pool_error.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1, V1_3, V1_2_1, V1_2, ROOT_OF_V2_0_PARALLEL_UNSTABLE,
	  V1_1_1, V1_1, V1_0_2), pool_ipc.h (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1, V1_3, V1_2_1, V1_2, ROOT_OF_V2_0_PARALLEL_UNSTABLE,
	  V1_1_1, V1_1, V1_0_2), pool_params.c (tags: V2_0_1, V2_0_0,
	  V2_0_0_BETA1, V1_3, V1_2_1, V1_2, ROOT_OF_V2_0_PARALLEL_UNSTABLE,
	  V1_1_1, V1_1, V1_0_2), pool_process_query.c, pool_query_cache.c,
	  pool_rewrite_query.c (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2),
	  pool_rewrite_query.h (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2),
	  pool_sema.c (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2),
	  pool_shmem.c (tags: V2_0_1, V2_0_0, V2_0_0_BETA1, V1_3, V1_2_1,
	  V1_2, ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2),
	  pool_signal.c (tags: V2_0_1, V2_0_0, V2_0_0_BETA1, V1_3, V1_2_1,
	  V1_2, ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2),
	  pool_signal.h, pool_stream.c (tags: V1_1_1, V1_1, V1_0_2),
	  pool_system.c, pool_type.h (tags: V1_0_2), parser/pool_memory.c
	  (tags: V1_0_2), parser/pool_memory.h (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2),
	  parser/pool_string.c (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2),
	  parser/pool_string.h (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2): Copyright
	  update

2006-12-25 19:14  y-asaba

	* Makefile.am (tags: V1_0_2), Makefile.in: Fix libpq link error
	  (Reported by ISHIDA Akio).

2006-12-04 14:49  t-ishii

	* pool_process_query.c: Fix bug with replication mode. With
	  UPDATE/DELETE, the number of affcted rows should not be sum of each
	  node.

2006-12-02 22:41  t-ishii

	* pool_process_query.c: Add backend status info to show pool_status

2006-12-02 22:40  t-ishii

	* main.c: enhance logging to make it clear what kind of
	  failover/failback event ocuured.

2006-12-02 22:38  t-ishii

	* TODO (tags: V1_0_2): update TODO document to reflect current
	  status

2006-11-30 07:33  devrim

	* child.c, pool_auth.c: Fix small typos in messages

2006-11-30 06:54  devrim

	* pgpool.conf.sample (tags: V1_0_2): Fix small typos in config file

2006-11-15 18:30  y-asaba

	* pool_process_query.c: Fix an extended query protocol handling.

2006-11-13 14:02  y-asaba

	* parser/pool_memory.c: Fix SIGSEGV under parallel mode.

2006-11-10 12:48  y-asaba

	* parser/pool_memory.c:
	  * Add NULL checking in pool_memory_free().

	  * Fix SIGSEGV in pool_memory_alloc() if allocate size is 8192 byte.

	    void *x;
	    pool_memory = pool_memory_create();
	    x = pool_memory_alloc(pool_memory, 8192);

2006-11-04 16:38  y-asaba

	* parser/pool_memory.c: Fixed a inifinite loop in
	  pool_memory_free().

2006-10-04 14:57  y-asaba

	* pool_rewrite_query.c: Fix rewriting a query which refers
	  pg_catalog.  Patch contributed by Yoshiharu Mori.

2006-10-04 04:31  devrim

	* pgpool.spec (tags: V1_0_2):
	  - Added -libs and -devel RPM
	  - Fix .so link problem
	  - Cosmetic changes to spec file

2006-10-04 04:29  devrim

	* pgpool.spec: [no log message]

2006-09-27 14:45  devrim

	* pgpool.spec:
	  * Thu Sep 27 2006 - Devrim GUNDUZ <devrim@commandprompt.com> 1.0.1-3
	  - Fix spec, per Yoshiyuki Asaba

	  * Thu Sep 26 2006 - Devrim GUNDUZ <devrim@commandprompt.com> 1.0.1-2
	  - Fixed rpmlint errors
	  - Fixed download url
	  - Added ldconfig for .so files

	  ** Thu Sep 21 2006 - David Fetter <david@fetter.org> 1.0.1-1
	  - Initial build pgpool-II 1.0.1 for PgPool Global Development Group

2006-09-27 11:14  y-asaba

	* pool_process_query.c: Fix load balancing algorithm. Patch
	  contributed by Jeff Davis.

	  See the following URL for more details.

	  http://pgfoundry.org/pipermail/pgpool-hackers/2006-September/000034.html

2006-09-25 12:03  y-asaba

	* doc/: pgpool-en.html, pgpool-ja.html: Add pam authentication in
	  supported authentication protocol list.  Reported by Jeff Davis.

2006-09-22 15:04  t-ishii

	* Makefile.am, Makefile.in, aclocal.m4, configure, pool_config.c,
	  parser/Makefile.in, parser/scan.c (tags: V1_1_1, V1_1, V1_0_2),
	  pcp/Makefile.in (utags: V1_0_1): Update Makefile.am to reflect
	  the fact that some doc names have been changed.

2006-09-22 14:39  t-ishii

	* ChangeLog (tags: V1_0_1), NEWS (tags: V1_0_1), configure,
	  configure.in (tags: V1_0_1): Version 1.0.1

2006-09-15 15:06  y-asaba

	* doc/pgpool-ja.html (tags: V1_0_1): A restriction of  extended
	  protocol is *only* in parallel mode.  Fixed the description.

2006-09-14 11:04  t-ishii

	* pool.h (tags: V1_0_1): Fix NUM_BACKENDS macro when operated in
	  MASTER_SLAVE mode.  See following message for more details.

	  Subject: [Pgpool-general] pgpool-II master/slave mode, BackendError
	  From: Jeff Davis <pgpool@j-davis.com> To:
	  pgpool-general@pgfoundry.org Date: Tue, 12 Sep 2006 16:48:49 -0700

2006-09-14 11:00  t-ishii

	* pool_process_query.c (tags: V1_0_1): Fix debug message in
	  simpleQuery() so that it correctly prints query string when operated
	  in MASTER_SLAVE mode.

2006-09-14 10:56  t-ishii

	* main.c (tags: V1_0_1): enhance health check error messages

2006-09-13 19:21  y-asaba

	* pool_process_query.c: Fix kind mismatch error in COPY FROM STDIN.

2006-09-11 23:50  y-asaba

	* doc/pgpool-en.html (tags: V1_0_1): Remove multibyte character.

2006-09-11 15:47  y-asaba

	* doc/: tutorial-ja.html (tags: V2_0_0_BETA1, V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2, V1_0_1),
	  tutorial.html: Rename `tutorial.html' to `tutorial-ja.html'.

2006-09-11 15:42  y-asaba

	* README.euc_jp (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1, V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2, V1_0_1),
	  doc/pgpool-ja.html, doc/pgpool.html:
	  * Rename `doc/pgpool.html' to `doc/pgpool-ja.html'.

	  * Merge Devrim's patch.

2006-09-11 15:32  y-asaba

	* doc/pgpool-en.html: Remove Japanese comment.

2006-09-11 15:13  y-asaba

	* doc/tutorial-en.html (tags: V2_0_0_BETA1, V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2, V1_0_1):
	  Remove Japanese characters.

2006-09-11 14:53  y-asaba

	* README (tags: V3_1_0_WITHOUT_FOLLOW_COMMAND, V3_0_3,
	  V3_0_3_BETA1, V3_0_2, V3_1_0_ALPHA1, V3_0_1, V3_0_0, V3_0_0_RC1,
	  V3_0_0_BETA3, V3_0_0_BETA2, V3_0_0_BETA1, V2_3_3, V2_2_7,
	  V2_3_2_2, V2_3_2_1, V2_3_2, V2_3_1, V2_2_6, V2_3, V2_2_5, V2_2_4,
	  V2_2_3, V2_2_2, V2_2_1, V2_2_0, V2_2_0_RC2, V2_2_0_RC1,
	  V2_2_0_BETA2, V2_2_0_BETA1, V2_1_0, V2_1_0_RC1, V2_1_0_BETA2,
	  V2_1_0_BETA1, V2_0_1, V2_0_0, V2_0_0_BETA1, V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2, V1_0_1):
	  Update README.

2006-09-08 21:01  devrim

	* doc/pgpool-en.html: Far better look for HTML page, suitable for
	  web and local browsing.

2006-09-08 20:09  devrim

	* doc/: pgpool-en.html, pgpool.html: comment last modified line for
	  a better look

2006-09-08 20:05  devrim

	* doc/pgpool.css (tags: V1_3, V1_2_1, V1_2,
	  ROOT_OF_V2_0_PARALLEL_UNSTABLE, V1_1_1, V1_1, V1_0_2, V1_0_1):
	  Add pgpool.css for readme files. This is the same stylesheet that we
	  use in pgpool page.

2006-09-08 19:16  devrim

	* doc/: pgpool-en.html, pgpool.html.en, tutorial-en.html,
	  tutorial.html.en:

	  Renamed files so that some browsers won't complain.

2006-09-08 12:35  t-ishii

	* README, configure.in, Makefile.am, aclocal.m4, Makefile.in,
	  config.h.in, AUTHORS, configure, COPYING, ChangeLog, INSTALL,
	  NEWS, TODO, config.guess, config.sub, depcomp, install-sh,
	  ltmain.sh, missing, mkinstalldirs, pg_md5.c, pool_config.c,
	  README.euc_jp, main.c, md5.c, md5.h, pgpool.conf.sample,
	  pgpool.spec, pool.h, pool_type.h, version.h, child.c,
	  pool_auth.c, pool_config.l, pool_error.c, pool_connection_pool.c,
	  pool_params.c, pool_process_query.c, pool_signal.c,
	  pool_signal.h, pool_stream.c, pcp.conf.sample, pcp_child.c,
	  pool_ipc.h, pool_sema.c, pool_shmem.c, pool_system.c,
	  pool_rewrite_query.c, pool_rewrite_query.h,
	  pool_rewrite_outfuncs.c, pgpool.8.in, pool_query_cache.c,
	  doc/pgpool.html, doc/pgpool.html.en, doc/tutorial.html,
	  doc/tutorial.html.en, parser/Makefile.am, parser/Makefile.in,
	  sample/dist_def_pgbench.sql, sql/system_db.sql, parser/gram.c,
	  parser/gram.h, parser/gram.y, parser/gramparse.h, parser/list.c,
	  parser/makefuncs.c, parser/makefuncs.h, parser/memnodes.h,
	  parser/nodes.c, parser/nodes.h, parser/parsenodes.h,
	  parser/parser.c, parser/parser.h, parser/pg_list.h,
	  parser/pool_memory.c, parser/pool_memory.h, parser/pool_string.c,
	  parser/pool_string.h, parser/keywords.c, parser/keywords.h,
	  parser/pool_parser.h, parser/primnodes.h, parser/scansup.h,
	  parser/value.c, parser/value.h, parser/outfuncs.c, parser/scan.c,
	  parser/scan.l, pcp/Makefile.am, pcp/Makefile.in, pcp/md5.h,
	  pcp/pcp.h, pcp/md5.c, pcp/pcp.c, pcp/pcp_attach_node.c,
	  pcp/pcp_detach_node.c, pcp/pcp_error.c, pcp/pcp_node_count.c,
	  pcp/pcp_stream.c, pcp/pcp_stream.h, pcp/pcp_node_info.c,
	  pcp/pcp_proc_count.c, pcp/pcp_proc_info.c, pcp/pcp_stop_pgpool.c,
	  pcp/pcp_systemdb_info.c: Initial revision

